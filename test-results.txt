
> jung-edu-app@0.1.0 test
> react-scripts test --no-watch --coverage --verbose

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'quiz',
        requiredFor: [ 'assessment', 'validation' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 4 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 3)

  console.log
    ‚úÖ Generated quiz for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    üîç Validating 4 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 4 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'video',
        requiredFor: [ 'engagement', 'multimedia' ],
        dependencies: [ 'module' ],
        priority: 'medium',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 4 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 3)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    ‚úÖ Generated video for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 4 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 4 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'bibliography',
        requiredFor: [ 'research', 'academic' ],
        dependencies: [ 'module' ],
        priority: 'medium',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 4 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 3)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    ‚úÖ Generated bibliography for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 4 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 4 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

FAIL src/utils/__tests__/test-utils.test.tsx
  test-utils
    custom render function
      ‚úì should render component with all providers (20 ms)
      ‚úì should wrap component with AdminProvider (3 ms)
      ‚úì should wrap component with BrowserRouter (15 ms)
      ‚úì should pass through render options (2 ms)
      ‚úì should handle components that use multiple context providers (3 ms)
      ‚úì should properly configure BrowserRouter with future flags (2 ms)
      ‚úì should handle async component rendering (19 ms)
      ‚úì should handle error boundaries (70 ms)
      ‚úì should support custom wrapper components (3 ms)
      ‚úì should maintain provider hierarchy order (1 ms)
      ‚úì should handle multiple renders without conflicts (2 ms)
      ‚úì should preserve React Testing Library functionality (2 ms)
      ‚úï should handle components with complex provider dependencies (14 ms)
    re-exported RTL functions
      ‚úì should re-export all React Testing Library functions (1 ms)
      ‚úì should have render as the customized function
    TypeScript types
      ‚úì should accept all valid React elements (4 ms)

  ‚óè test-utils ‚Ä∫ custom render function ‚Ä∫ should handle components with complex provider dependencies

    expect(jest.fn()).toHaveBeenLastCalledWith(...expected)

    Expected: "/dashboard"
    Received
           1: "/login", {"state": {"from": "/"}}
    ->     2: "/login", {"state": {"from": "/"}}

    Number of calls: 2

    [0m [90m 362 |[39m       [36mconst[39m newButtons [33m=[39m screen[33m.[39mgetAllByText([32m'Action'[39m)[33m;[39m
     [90m 363 |[39m       fireEvent[33m.[39mclick(newButtons[[35m0[39m])[33m;[39m
    [31m[1m>[22m[39m[90m 364 |[39m       expect(mockNavigate)[33m.[39mtoHaveBeenLastCalledWith([32m'/dashboard'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 365 |[39m     })[33m;[39m
     [90m 366 |[39m   })[33m;[39m
     [90m 367 |[39m[0m

      at Object.<anonymous> (src/utils/__tests__/test-utils.test.tsx:364:28)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: A Sombra e o Inconsciente

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: A Sombra e o Inconsciente

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: A Sombra e o Inconsciente

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: A Sombra e o Inconsciente

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: A Sombra e o Inconsciente

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: A Sombra e o Inconsciente

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: A Sombra e o Inconsciente

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: A Sombra e o Inconsciente

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

  console.log
    ‚úÖ System validation completed. Score: 40/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'video',
        requiredFor: [ 'engagement', 'multimedia' ],
        dependencies: [ 'module' ],
        priority: 'medium',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 4 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 3)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)
          at async Promise.all (index 0)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)
          at async Promise.all (index 0)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)
          at async Promise.all (index 1)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)
          at async Promise.all (index 1)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)
          at async Promise.all (index 2)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)
          at async Promise.all (index 0)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)
          at async Promise.all (index 0)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)
          at async Promise.all (index 0)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)
          at async Promise.all (index 1)

  console.log
    üîç Validating 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)
          at async Promise.all (index 2)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)
          at async Promise.all (index 0)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)
          at async Promise.all (index 1)

  console.log
    üîó Linking 2 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)
          at async Promise.all (index 0)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)
          at async Promise.all (index 2)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

FAIL src/__tests__/index.test.tsx
  index.tsx
    ‚úï creates root element and renders App (4 ms)
    ‚úï calls reportWebVitals (4 ms)
    ‚úï handles missing root element gracefully (1 ms)
    ‚úï renders in StrictMode (1 ms)
    ‚úï uses correct root element id (1 ms)
    ‚úì imports CSS file (1 ms)
    ‚úï executes in correct order (3 ms)
    ‚úï root element type assertion works correctly (1 ms)
    ‚úì does not call render multiple times (1 ms)
    ‚úï does not call createRoot multiple times (1 ms)
    ‚úï creates root with proper element reference (1 ms)
    ‚úï renders exactly one App component (1 ms)

  ‚óè index.tsx ‚Ä∫ creates root element and renders App

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: <div id="root" />

    Number of calls: 0

    [0m [90m 57 |[39m
     [90m 58 |[39m     [90m// Verify createRoot was called with the root element[39m
    [31m[1m>[22m[39m[90m 59 |[39m     expect([33mReactDOM[39m[33m.[39mcreateRoot)[33m.[39mtoHaveBeenCalledWith(rootElement)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 60 |[39m
     [90m 61 |[39m     [90m// Verify render was called with App wrapped in StrictMode[39m
     [90m 62 |[39m     expect(mockRoot[33m.[39mrender)[33m.[39mtoHaveBeenCalledWith([0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:59:33)

  ‚óè index.tsx ‚Ä∫ calls reportWebVitals

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 72 |[39m
     [90m 73 |[39m     [90m// Verify reportWebVitals was called[39m
    [31m[1m>[22m[39m[90m 74 |[39m     expect(reportWebVitals)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 75 |[39m   })[33m;[39m
     [90m 76 |[39m
     [90m 77 |[39m   test([32m'handles missing root element gracefully'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:74:29)

  ‚óè index.tsx ‚Ä∫ handles missing root element gracefully

    expect(received).toThrow()

    Received function did not throw

    [0m [90m 84 |[39m         require([32m'../index'[39m)[33m;[39m
     [90m 85 |[39m       })[33m;[39m
    [31m[1m>[22m[39m[90m 86 |[39m     })[33m.[39mtoThrow()[33m;[39m
     [90m    |[39m        [31m[1m^[22m[39m
     [90m 87 |[39m   })[33m;[39m
     [90m 88 |[39m
     [90m 89 |[39m   test([32m'renders in StrictMode'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:86:8)

  ‚óè index.tsx ‚Ä∫ renders in StrictMode

    expect(received).toBe(expected) // Object.is equality

    Expected: [Function default]
    Received: serializes to the same string

    [0m [90m 94 |[39m     [90m// Check that the rendered element is wrapped in StrictMode[39m
     [90m 95 |[39m     expect(renderCall[33m.[39mtype)[33m.[39mtoBe([33mReact[39m[33m.[39m[33mStrictMode[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 96 |[39m     expect(renderCall[33m.[39mprops[33m.[39mchildren[33m.[39mtype)[33m.[39mtoBe([33mApp[39m)[33m;[39m
     [90m    |[39m                                            [31m[1m^[22m[39m
     [90m 97 |[39m   })[33m;[39m
     [90m 98 |[39m
     [90m 99 |[39m   test([32m'uses correct root element id'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:96:44)

  ‚óè index.tsx ‚Ä∫ uses correct root element id

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: <div id="root" />

    Number of calls: 0

    [0m [90m 106 |[39m
     [90m 107 |[39m     [90m// Verify createRoot was called with the correct element[39m
    [31m[1m>[22m[39m[90m 108 |[39m     expect([33mReactDOM[39m[33m.[39mcreateRoot)[33m.[39mtoHaveBeenCalledWith(rootElement)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 109 |[39m     expect([33mReactDOM[39m[33m.[39mcreateRoot)[33m.[39mnot[33m.[39mtoHaveBeenCalledWith(wrongElement)[33m;[39m
     [90m 110 |[39m
     [90m 111 |[39m     document[33m.[39mbody[33m.[39mremoveChild(wrongElement)[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:108:33)

  ‚óè index.tsx ‚Ä∫ executes in correct order

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 0

      Array [
    -   "createRoot",
        "render",
    -   "reportWebVitals",
      ]

    [0m [90m 136 |[39m     require([32m'../index'[39m)[33m;[39m
     [90m 137 |[39m
    [31m[1m>[22m[39m[90m 138 |[39m     expect(executionOrder)[33m.[39mtoEqual([[32m'createRoot'[39m[33m,[39m [32m'render'[39m[33m,[39m [32m'reportWebVitals'[39m])[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 139 |[39m   })[33m;[39m
     [90m 140 |[39m
     [90m 141 |[39m   test([32m'root element type assertion works correctly'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:138:28)

  ‚óè index.tsx ‚Ä∫ root element type assertion works correctly

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 143 |[39m
     [90m 144 |[39m     [90m// Verify that createRoot was called with an HTMLElement[39m
    [31m[1m>[22m[39m[90m 145 |[39m     [36mconst[39m rootArg [33m=[39m ([33mReactDOM[39m[33m.[39mcreateRoot [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmock[33m.[39mcalls[[35m0[39m][[35m0[39m][33m;[39m
     [90m     |[39m                                                                     [31m[1m^[22m[39m
     [90m 146 |[39m     expect(rootArg)[33m.[39mtoBeInstanceOf([33mHTMLElement[39m)[33m;[39m
     [90m 147 |[39m     expect(rootArg[33m.[39mid)[33m.[39mtoBe([32m'root'[39m)[33m;[39m
     [90m 148 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:145:69)

  ‚óè index.tsx ‚Ä∫ does not call createRoot multiple times

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 157 |[39m     require([32m'../index'[39m)[33m;[39m
     [90m 158 |[39m
    [31m[1m>[22m[39m[90m 159 |[39m     expect([33mReactDOM[39m[33m.[39mcreateRoot)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 160 |[39m   })[33m;[39m
     [90m 161 |[39m
     [90m 162 |[39m   test([32m'creates root with proper element reference'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:159:33)

  ‚óè index.tsx ‚Ä∫ creates root with proper element reference

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 164 |[39m
     [90m 165 |[39m     [36mconst[39m createRootCall [33m=[39m ([33mReactDOM[39m[33m.[39mcreateRoot [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmock[33m.[39mcalls[[35m0[39m][33m;[39m
    [31m[1m>[22m[39m[90m 166 |[39m     expect(createRootCall[[35m0[39m])[33m.[39mtoBe(document[33m.[39mgetElementById([32m'root'[39m))[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 167 |[39m   })[33m;[39m
     [90m 168 |[39m
     [90m 169 |[39m   test([32m'renders exactly one App component'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:166:26)

  ‚óè index.tsx ‚Ä∫ renders exactly one App component

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

    [0m [90m 173 |[39m     [36mconst[39m appComponents [33m=[39m findComponentsByType(renderCall[33m,[39m [33mApp[39m)[33m;[39m
     [90m 174 |[39m     
    [31m[1m>[22m[39m[90m 175 |[39m     expect(appComponents)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 176 |[39m   })[33m;[39m
     [90m 177 |[39m
     [90m 178 |[39m   [90m// Helper function to find components by type in React tree[39m[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:175:27)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

  console.log
    No API key found, using mock provider for demo

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:69:17)

  console.log
    No API key found, using mock provider for demo

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:69:17)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

FAIL src/__tests__/reportWebVitals.extended.test.ts
  reportWebVitals - Extended Tests
    ‚úï should call all web vitals functions when valid handler is provided (1 ms)
    ‚úì should not call web vitals functions when no handler is provided (2 ms)
    ‚úì should not call web vitals functions when handler is not a function (13 ms)
    ‚úì should handle errors in the dynamic import gracefully (2 ms)
    ‚úï should handle errors in web vitals functions gracefully
    ‚úï should work with async handlers (1 ms)
    ‚úï should pass the correct handler reference to all metrics (3 ms)
    Edge cases
      ‚úì should handle Function constructor edge case (2 ms)
      ‚úì should handle bound functions (7 ms)
      ‚úì should handle arrow functions (3 ms)
      ‚úï should not break if web-vitals module structure changes (1 ms)
    Performance considerations
      ‚úì should not block the main thread (1 ms)
      ‚úï should handle multiple rapid calls efficiently (2 ms)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ should call all web vitals functions when valid handler is provided

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: [Function mockConstructor]

    Number of calls: 0

    [0m [90m 33 |[39m     [36mawait[39m [36mnew[39m [33mPromise[39m(resolve [33m=>[39m setTimeout(resolve[33m,[39m [35m0[39m))[33m;[39m
     [90m 34 |[39m
    [31m[1m>[22m[39m[90m 35 |[39m     expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 36 |[39m     expect(mockWebVitals[33m.[39mgetFID)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m 37 |[39m     expect(mockWebVitals[33m.[39mgetFCP)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m 38 |[39m     expect(mockWebVitals[33m.[39mgetLCP)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:35:34)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ should handle errors in web vitals functions gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: [Function mockConstructor]

    Number of calls: 0

    [0m [90m 106 |[39m     
     [90m 107 |[39m     [90m// Other functions should still be called[39m
    [31m[1m>[22m[39m[90m 108 |[39m     expect(mockWebVitals[33m.[39mgetFID)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 109 |[39m     expect(mockWebVitals[33m.[39mgetFCP)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m 110 |[39m     expect(mockWebVitals[33m.[39mgetLCP)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m 111 |[39m     expect(mockWebVitals[33m.[39mgetTTFB)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:108:34)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ should work with async handlers

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: [Function mockConstructor]

    Number of calls: 0

    [0m [90m 119 |[39m     [36mawait[39m [36mnew[39m [33mPromise[39m(resolve [33m=>[39m setTimeout(resolve[33m,[39m [35m0[39m))[33m;[39m
     [90m 120 |[39m     
    [31m[1m>[22m[39m[90m 121 |[39m     expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledWith(asyncHandler)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 122 |[39m     expect(mockWebVitals[33m.[39mgetFID)[33m.[39mtoHaveBeenCalledWith(asyncHandler)[33m;[39m
     [90m 123 |[39m     expect(mockWebVitals[33m.[39mgetFCP)[33m.[39mtoHaveBeenCalledWith(asyncHandler)[33m;[39m
     [90m 124 |[39m     expect(mockWebVitals[33m.[39mgetLCP)[33m.[39mtoHaveBeenCalledWith(asyncHandler)[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:121:34)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ should pass the correct handler reference to all metrics

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: [Function mockConstructor]

    Number of calls: 0

    [0m [90m 136 |[39m     
     [90m 137 |[39m     [90m// Each call should use its own handler[39m
    [31m[1m>[22m[39m[90m 138 |[39m     expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledWith(handler1)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 139 |[39m     expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledWith(handler2)[33m;[39m
     [90m 140 |[39m     expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledTimes([35m2[39m)[33m;[39m
     [90m 141 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:138:34)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ Edge cases ‚Ä∫ should not break if web-vitals module structure changes

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 191 |[39m       
     [90m 192 |[39m       [90m// Other functions should still be attempted[39m
    [31m[1m>[22m[39m[90m 193 |[39m       expect(mockWebVitals[33m.[39mgetFID)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 194 |[39m     })[33m;[39m
     [90m 195 |[39m   })[33m;[39m
     [90m 196 |[39m[0m

      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:193:36)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ Performance considerations ‚Ä∫ should handle multiple rapid calls efficiently

    expect(received).toHaveBeenCalledWith(...expected)

    Matcher error: received value must be a mock or spy function

    Received has value: undefined

    [0m [90m 218 |[39m       [90m// All handlers should be registered[39m
     [90m 219 |[39m       handlers[33m.[39mforEach(handler [33m=>[39m {
    [31m[1m>[22m[39m[90m 220 |[39m         expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledWith(handler)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 221 |[39m       })[33m;[39m
     [90m 222 |[39m     })[33m;[39m
     [90m 223 |[39m   })[33m;[39m[0m

      at forEach (src/__tests__/reportWebVitals.extended.test.ts:220:38)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:219:16)

  console.log
    ‚úÖ System validation completed. Score: 40/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: env-api...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Using OpenAI provider with real API

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:62:19)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    No API key found, using mock provider for demo

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:69:17)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    No API key found, using mock provider for demo

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:69:17)

  console.log
    No API key found, using mock provider for demo

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:69:17)

  console.log
    No API key found, using mock provider for demo

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:69:17)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    Show learning path

      at onClick (src/components/mindmap/ModuleDeepDiveMindMap.tsx:287:40)

  console.log
    No API key found, using mock provider for demo

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:69:17)

  console.log
    No API key found, using mock provider for demo

      at generateMindMap (src/components/mindmap/ModuleDeepDiveMindMap.tsx:69:17)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

PASS src/components/mindmap/__tests__/ModuleDeepDiveMindMap.test.tsx
  ModuleDeepDiveMindMapWrapper
    ‚úì renders loading state initially (233 ms)
    ‚úì renders mind map after successful generation (71 ms)
    ‚úì displays module title in header (8 ms)
    ‚úì calls onBack when back button is clicked (107 ms)
    ‚úì uses OpenAI provider when API key is available (14 ms)
    ‚úì falls back to mock provider when API key is not available (8 ms)
    ‚úì handles generation errors gracefully (13 ms)
    ‚úì handles OpenAI initialization errors (5 ms)
    ‚úì handles node click and displays details (46 ms)
    ‚úì displays insights when available (34 ms)
    ‚úì regenerates mind map when button is clicked (57 ms)
    ‚úì displays correct node styling based on category (14 ms)
    ‚úì shows AI badge when using real AI (9 ms)
    ‚úì shows demo mode badge when using mock provider (10 ms)
    ‚úì renders with empty module sections (10 ms)
    ‚úì handles fallback mind map generation (17 ms)
    ‚úì displays suggested learning path (50 ms)
    ‚úì handles module prop changes (18 ms)

FAIL src/services/video/__tests__/youtubeService.test.ts
  YouTubeService
    constructor
      ‚úì should initialize with provided API key (29 ms)
      ‚úì should use environment variable if no key provided (1 ms)
      ‚úì should enable mock mode when no API key available (1 ms)
    searchVideos
      ‚úï should search videos with API (3 ms)
      ‚úì should apply search options correctly (2 ms)
      ‚úï should cache search results (2 ms)
      ‚úï should handle API errors gracefully (3 ms)
      ‚úì should filter restricted videos (2 ms)
      ‚úì should use mock mode when no API key (1 ms)
      ‚úï should handle empty search results (2 ms)
    getVideoById
      ‚úì should get video by ID (1 ms)
      ‚úì should return null for non-existent video (1 ms)
      ‚úï should handle API errors (11 ms)
      ‚úì should use mock mode for getVideoById (4 ms)
    getChannelInfo
      ‚úï should get channel information (2 ms)
      ‚úì should return null for non-existent channel (2 ms)
      ‚úï should handle missing statistics gracefully (1 ms)
    getChannelVideos
      ‚úï should get videos from a channel (1 ms)
      ‚úï should handle channel with no videos (1 ms)
    getRelatedVideos
      ‚úï should search for related videos (1 ms)
      ‚úï should use mock mode for related videos (2 ms)
    mock mode functionality
      ‚úì should generate consistent mock data (1 ms)
      ‚úì should generate different mock data for different queries (1 ms)
      ‚úì should respect maxResults in mock mode (1 ms)
      ‚úì should generate appropriate mock durations
    edge cases
      ‚úï should handle network timeouts (114 ms)
      ‚úï should handle malformed API responses (2 ms)
      ‚úï should handle very long queries (2 ms)
      ‚úì should handle special characters in queries (2 ms)

  ‚óè YouTubeService ‚Ä∫ searchVideos ‚Ä∫ should search videos with API

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 3
    Received array:  [{"categoryId": "27", "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA", "channelTitle": "Jung Psychology Institute", "description": "An in-depth exploration of Jungian concepts related to Jung shadow, covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.", "duration": "PT24M36S", "likeCount": "4821", "publishedAt": "2023-10-15T09:00:00Z", "tags": ["jung", "psychology", "archetypes", "jung shadow"], "thumbnails": {"default": {"height": 90, "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg", "width": 120}, "high": {"height": 360, "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg", "width": 480}, "maxres": {"height": 720, "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg", "width": 1280}, "medium": {"height": 180, "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg", "width": 320}}, "title": "Carl Jung and the Psychology of Jung shadow", "videoId": "nBUQsNpyPHs", "viewCount": "125430"}, {"categoryId": "27", "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA", "channelTitle": "Academy of Ideas", "description": "A comprehensive lecture examining Jung shadow through the lens of analytical psychology, featuring case studies and practical therapeutic applications.", "duration": "PT18M42S", "likeCount": "3456", "publishedAt": "2023-11-22T14:30:00Z", "tags": ["jungian analysis", "psychology", "therapy", "jung shadow"], "thumbnails": {"default": {"height": 90, "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg", "width": 120}, "high": {"height": 360, "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg", "width": 480}, "medium": {"height": 180, "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg", "width": 320}}, "title": "Understanding Jung shadow Through Jungian Analysis", "videoId": "VjZyGfb-LbM", "viewCount": "89234"}, {"categoryId": "27", "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q", "channelTitle": "Philosophy Tube", "description": "An engaging animated exploration of Jung shadow concepts in Jungian psychology, perfect for visual learners and beginners.", "duration": "PT12M15S", "likeCount": "12345", "publishedAt": "2023-09-08T10:00:00Z", "tags": ["animation", "jung", "psychology explained", "jung shadow"], "thumbnails": {"default": {"height": 90, "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg", "width": 120}, "high": {"height": 360, "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg", "width": 480}, "medium": {"height": 180, "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg", "width": 320}}, "title": "Jung shadow: A Jungian Perspective - Animated", "videoId": "7uaJLbm9hBQ", "viewCount": "234567"}]

    [0m [90m 92 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m service[33m.[39msearchVideos([32m'Jung shadow'[39m)[33m;[39m
     [90m 93 |[39m
    [31m[1m>[22m[39m[90m 94 |[39m       expect(results)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m    |[39m                       [31m[1m^[22m[39m
     [90m 95 |[39m       expect(results[[35m0[39m])[33m.[39mtoMatchObject({
     [90m 96 |[39m         videoId[33m:[39m [32m'video1'[39m[33m,[39m
     [90m 97 |[39m         title[33m:[39m [32m'Jung Shadow Concept'[39m[33m,[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:94:23)

  ‚óè YouTubeService ‚Ä∫ searchVideos ‚Ä∫ should cache search results

    expect(received).toHaveBeenCalledTimes(expected)

    Expected number of calls: 2
    Received number of calls: 3

    [0m [90m 158 |[39m
     [90m 159 |[39m       expect(results1)[33m.[39mtoEqual(results2)[33m;[39m
    [31m[1m>[22m[39m[90m 160 |[39m       expect(mockedAxios[33m.[39m[36mget[39m)[33m.[39mtoHaveBeenCalledTimes([35m2[39m)[33m;[39m [90m// Only initial calls[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 161 |[39m     })[33m;[39m
     [90m 162 |[39m
     [90m 163 |[39m     it([32m'should handle API errors gracefully'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:160:31)

  ‚óè YouTubeService ‚Ä∫ searchVideos ‚Ä∫ should handle API errors gracefully

    expect(received).toEqual(expected) // deep equality

    - Expected  -   1
    + Received  + 112

    - Array []
    + Array [
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA",
    +     "channelTitle": "Jung Psychology Institute",
    +     "description": "An in-depth exploration of Jungian concepts related to Jung shadow, covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.",
    +     "duration": "PT24M36S",
    +     "likeCount": "4821",
    +     "publishedAt": "2023-10-15T09:00:00Z",
    +     "tags": Array [
    +       "jung",
    +       "psychology",
    +       "archetypes",
    +       "jung shadow",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "maxres": Object {
    +         "height": 720,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    +         "width": 1280,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Carl Jung and the Psychology of Jung shadow",
    +     "videoId": "nBUQsNpyPHs",
    +     "viewCount": "125430",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA",
    +     "channelTitle": "Academy of Ideas",
    +     "description": "A comprehensive lecture examining Jung shadow through the lens of analytical psychology, featuring case studies and practical therapeutic applications.",
    +     "duration": "PT18M42S",
    +     "likeCount": "3456",
    +     "publishedAt": "2023-11-22T14:30:00Z",
    +     "tags": Array [
    +       "jungian analysis",
    +       "psychology",
    +       "therapy",
    +       "jung shadow",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Understanding Jung shadow Through Jungian Analysis",
    +     "videoId": "VjZyGfb-LbM",
    +     "viewCount": "89234",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q",
    +     "channelTitle": "Philosophy Tube",
    +     "description": "An engaging animated exploration of Jung shadow concepts in Jungian psychology, perfect for visual learners and beginners.",
    +     "duration": "PT12M15S",
    +     "likeCount": "12345",
    +     "publishedAt": "2023-09-08T10:00:00Z",
    +     "tags": Array [
    +       "animation",
    +       "jung",
    +       "psychology explained",
    +       "jung shadow",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Jung shadow: A Jungian Perspective - Animated",
    +     "videoId": "7uaJLbm9hBQ",
    +     "viewCount": "234567",
    +   },
    + ]

    [0m [90m 167 |[39m       
     [90m 168 |[39m       [90m// Should return empty array on error[39m
    [31m[1m>[22m[39m[90m 169 |[39m       expect(results)[33m.[39mtoEqual([])[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 170 |[39m     })[33m;[39m
     [90m 171 |[39m
     [90m 172 |[39m     it([32m'should filter restricted videos'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:169:23)

  ‚óè YouTubeService ‚Ä∫ searchVideos ‚Ä∫ should handle empty search results

    expect(received).toEqual(expected) // deep equality

    - Expected  -   1
    + Received  + 112

    - Array []
    + Array [
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA",
    +     "channelTitle": "Jung Psychology Institute",
    +     "description": "An in-depth exploration of Jungian concepts related to nonexistent query xyz, covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.",
    +     "duration": "PT24M36S",
    +     "likeCount": "4821",
    +     "publishedAt": "2023-10-15T09:00:00Z",
    +     "tags": Array [
    +       "jung",
    +       "psychology",
    +       "archetypes",
    +       "nonexistent query xyz",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "maxres": Object {
    +         "height": 720,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    +         "width": 1280,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Carl Jung and the Psychology of nonexistent query xyz",
    +     "videoId": "nBUQsNpyPHs",
    +     "viewCount": "125430",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA",
    +     "channelTitle": "Academy of Ideas",
    +     "description": "A comprehensive lecture examining nonexistent query xyz through the lens of analytical psychology, featuring case studies and practical therapeutic applications.",
    +     "duration": "PT18M42S",
    +     "likeCount": "3456",
    +     "publishedAt": "2023-11-22T14:30:00Z",
    +     "tags": Array [
    +       "jungian analysis",
    +       "psychology",
    +       "therapy",
    +       "nonexistent query xyz",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Understanding nonexistent query xyz Through Jungian Analysis",
    +     "videoId": "VjZyGfb-LbM",
    +     "viewCount": "89234",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q",
    +     "channelTitle": "Philosophy Tube",
    +     "description": "An engaging animated exploration of nonexistent query xyz concepts in Jungian psychology, perfect for visual learners and beginners.",
    +     "duration": "PT12M15S",
    +     "likeCount": "12345",
    +     "publishedAt": "2023-09-08T10:00:00Z",
    +     "tags": Array [
    +       "animation",
    +       "jung",
    +       "psychology explained",
    +       "nonexistent query xyz",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "nonexistent query xyz: A Jungian Perspective - Animated",
    +     "videoId": "7uaJLbm9hBQ",
    +     "viewCount": "234567",
    +   },
    + ]

    [0m [90m 223 |[39m
     [90m 224 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m service[33m.[39msearchVideos([32m'nonexistent query xyz'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 225 |[39m       expect(results)[33m.[39mtoEqual([])[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 226 |[39m     })[33m;[39m
     [90m 227 |[39m   })[33m;[39m
     [90m 228 |[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:225:23)

  ‚óè YouTubeService ‚Ä∫ getVideoById ‚Ä∫ should handle API errors

    expect(received).toBeNull()

    Received: {"categoryId": "27", "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA", "channelTitle": "Jung Psychology Institute", "description": "A deep dive into Jung's concept of the Shadow and its relevance to modern society.", "duration": "PT28M15S", "likeCount": "23456", "publishedAt": "2023-08-20T12:00:00Z", "tags": ["jung", "shadow", "psychology", "self-improvement"], "thumbnails": {"default": {"height": 90, "url": "https://i.ytimg.com/vi/video123/default.jpg", "width": 120}, "high": {"height": 360, "url": "https://i.ytimg.com/vi/video123/hqdefault.jpg", "width": 480}, "medium": {"height": 180, "url": "https://i.ytimg.com/vi/video123/mqdefault.jpg", "width": 320}}, "title": "The Shadow: Carl Jung's Warning to The World", "videoId": "video123", "viewCount": "567890"}

    [0m [90m 293 |[39m
     [90m 294 |[39m       [36mconst[39m video [33m=[39m [36mawait[39m service[33m.[39mgetVideoById([32m'video123'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 295 |[39m       expect(video)[33m.[39mtoBeNull()[33m;[39m
     [90m     |[39m                     [31m[1m^[22m[39m
     [90m 296 |[39m     })[33m;[39m
     [90m 297 |[39m
     [90m 298 |[39m     it([32m'should use mock mode for getVideoById'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:295:21)

  ‚óè YouTubeService ‚Ä∫ getChannelInfo ‚Ä∫ should get channel information

    expect(received).toMatchObject(expected)

    - Expected  - 4
    + Received  + 2

      Object {
    -   "channelId": "channel123",
    -   "customUrl": "@psychchannel",
    -   "subscriberCount": "100000",
    +   "subscriberCount": 100000,
        "title": "Psychology Channel",
    -   "videoCount": "150",
    +   "videoCount": 150,
      }

    [0m [90m 336 |[39m       [36mconst[39m channel [33m=[39m [36mawait[39m service[33m.[39mgetChannelInfo([32m'channel123'[39m)[33m;[39m
     [90m 337 |[39m
    [31m[1m>[22m[39m[90m 338 |[39m       expect(channel)[33m.[39mtoMatchObject({
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 339 |[39m         channelId[33m:[39m [32m'channel123'[39m[33m,[39m
     [90m 340 |[39m         title[33m:[39m [32m'Psychology Channel'[39m[33m,[39m
     [90m 341 |[39m         subscriberCount[33m:[39m [32m'100000'[39m[33m,[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:338:23)

  ‚óè YouTubeService ‚Ä∫ getChannelInfo ‚Ä∫ should handle missing statistics gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: "0"
    Received: undefined

    [0m [90m 378 |[39m       
     [90m 379 |[39m       expect(channel)[33m.[39mtoBeDefined()[33m;[39m
    [31m[1m>[22m[39m[90m 380 |[39m       expect(channel[33m?[39m[33m.[39msubscriberCount)[33m.[39mtoBe([32m'0'[39m)[33m;[39m
     [90m     |[39m                                        [31m[1m^[22m[39m
     [90m 381 |[39m       expect(channel[33m?[39m[33m.[39mvideoCount)[33m.[39mtoBe([32m'0'[39m)[33m;[39m
     [90m 382 |[39m       expect(channel[33m?[39m[33m.[39mviewCount)[33m.[39mtoBe([32m'0'[39m)[33m;[39m
     [90m 383 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:380:40)

  ‚óè YouTubeService ‚Ä∫ getChannelVideos ‚Ä∫ should get videos from a channel

    TypeError: service.getChannelVideos is not a function

    [0m [90m 422 |[39m         })[33m;[39m
     [90m 423 |[39m
    [31m[1m>[22m[39m[90m 424 |[39m       [36mconst[39m videos [33m=[39m [36mawait[39m service[33m.[39mgetChannelVideos([32m'channel123'[39m[33m,[39m { maxResults[33m:[39m [35m5[39m })[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 425 |[39m
     [90m 426 |[39m       expect(videos)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m 427 |[39m       expect(videos[[35m0[39m][33m.[39mchannelId)[33m.[39mtoBe([32m'channel123'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:424:36)

  ‚óè YouTubeService ‚Ä∫ getChannelVideos ‚Ä∫ should handle channel with no videos

    TypeError: service.getChannelVideos is not a function

    [0m [90m 441 |[39m       mockedAxios[33m.[39m[36mget[39m[33m.[39mmockResolvedValueOnce({ data[33m:[39m { items[33m:[39m [] } })[33m;[39m
     [90m 442 |[39m
    [31m[1m>[22m[39m[90m 443 |[39m       [36mconst[39m videos [33m=[39m [36mawait[39m service[33m.[39mgetChannelVideos([32m'empty-channel'[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 444 |[39m       expect(videos)[33m.[39mtoEqual([])[33m;[39m
     [90m 445 |[39m     })[33m;[39m
     [90m 446 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:443:36)

  ‚óè YouTubeService ‚Ä∫ getRelatedVideos ‚Ä∫ should search for related videos

    TypeError: service.getRelatedVideos is not a function

    [0m [90m 484 |[39m         })[33m;[39m
     [90m 485 |[39m
    [31m[1m>[22m[39m[90m 486 |[39m       [36mconst[39m videos [33m=[39m [36mawait[39m service[33m.[39mgetRelatedVideos([32m'original-video-id'[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 487 |[39m
     [90m 488 |[39m       expect(videos[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 489 |[39m       expect(mockedAxios[33m.[39m[36mget[39m)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:486:36)

  ‚óè YouTubeService ‚Ä∫ getRelatedVideos ‚Ä∫ should use mock mode for related videos

    TypeError: serviceWithMock.getRelatedVideos is not a function

    [0m [90m 491 |[39m
     [90m 492 |[39m     it([32m'should use mock mode for related videos'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 493 |[39m       [36mconst[39m videos [33m=[39m [36mawait[39m serviceWithMock[33m.[39mgetRelatedVideos([32m'video-id'[39m)[33m;[39m
     [90m     |[39m                                            [31m[1m^[22m[39m
     [90m 494 |[39m
     [90m 495 |[39m       expect(videos[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 496 |[39m       expect(videos[[35m0[39m][33m.[39mtitle)[33m.[39mtoContain([32m'Related'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:493:44)

  ‚óè YouTubeService ‚Ä∫ edge cases ‚Ä∫ should handle network timeouts

    expect(received).toEqual(expected) // deep equality

    - Expected  -   1
    + Received  + 112

    - Array []
    + Array [
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA",
    +     "channelTitle": "Jung Psychology Institute",
    +     "description": "An in-depth exploration of Jungian concepts related to Jung, covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.",
    +     "duration": "PT24M36S",
    +     "likeCount": "4821",
    +     "publishedAt": "2023-10-15T09:00:00Z",
    +     "tags": Array [
    +       "jung",
    +       "psychology",
    +       "archetypes",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "maxres": Object {
    +         "height": 720,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    +         "width": 1280,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Carl Jung and the Psychology of Jung",
    +     "videoId": "nBUQsNpyPHs",
    +     "viewCount": "125430",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA",
    +     "channelTitle": "Academy of Ideas",
    +     "description": "A comprehensive lecture examining Jung through the lens of analytical psychology, featuring case studies and practical therapeutic applications.",
    +     "duration": "PT18M42S",
    +     "likeCount": "3456",
    +     "publishedAt": "2023-11-22T14:30:00Z",
    +     "tags": Array [
    +       "jungian analysis",
    +       "psychology",
    +       "therapy",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Understanding Jung Through Jungian Analysis",
    +     "videoId": "VjZyGfb-LbM",
    +     "viewCount": "89234",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q",
    +     "channelTitle": "Philosophy Tube",
    +     "description": "An engaging animated exploration of Jung concepts in Jungian psychology, perfect for visual learners and beginners.",
    +     "duration": "PT12M15S",
    +     "likeCount": "12345",
    +     "publishedAt": "2023-09-08T10:00:00Z",
    +     "tags": Array [
    +       "animation",
    +       "jung",
    +       "psychology explained",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Jung: A Jungian Perspective - Animated",
    +     "videoId": "7uaJLbm9hBQ",
    +     "viewCount": "234567",
    +   },
    + ]

    [0m [90m 540 |[39m
     [90m 541 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m service[33m.[39msearchVideos([32m'Jung'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 542 |[39m       expect(results)[33m.[39mtoEqual([])[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 543 |[39m     })[33m;[39m
     [90m 544 |[39m
     [90m 545 |[39m     it([32m'should handle malformed API responses'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:542:23)

  ‚óè YouTubeService ‚Ä∫ edge cases ‚Ä∫ should handle malformed API responses

    expect(received).toEqual(expected) // deep equality

    - Expected  -   1
    + Received  + 112

    - Array []
    + Array [
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA",
    +     "channelTitle": "Jung Psychology Institute",
    +     "description": "An in-depth exploration of Jungian concepts related to Jung, covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.",
    +     "duration": "PT24M36S",
    +     "likeCount": "4821",
    +     "publishedAt": "2023-10-15T09:00:00Z",
    +     "tags": Array [
    +       "jung",
    +       "psychology",
    +       "archetypes",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "maxres": Object {
    +         "height": 720,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    +         "width": 1280,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Carl Jung and the Psychology of Jung",
    +     "videoId": "nBUQsNpyPHs",
    +     "viewCount": "125430",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA",
    +     "channelTitle": "Academy of Ideas",
    +     "description": "A comprehensive lecture examining Jung through the lens of analytical psychology, featuring case studies and practical therapeutic applications.",
    +     "duration": "PT18M42S",
    +     "likeCount": "3456",
    +     "publishedAt": "2023-11-22T14:30:00Z",
    +     "tags": Array [
    +       "jungian analysis",
    +       "psychology",
    +       "therapy",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Understanding Jung Through Jungian Analysis",
    +     "videoId": "VjZyGfb-LbM",
    +     "viewCount": "89234",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q",
    +     "channelTitle": "Philosophy Tube",
    +     "description": "An engaging animated exploration of Jung concepts in Jungian psychology, perfect for visual learners and beginners.",
    +     "duration": "PT12M15S",
    +     "likeCount": "12345",
    +     "publishedAt": "2023-09-08T10:00:00Z",
    +     "tags": Array [
    +       "animation",
    +       "jung",
    +       "psychology explained",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Jung: A Jungian Perspective - Animated",
    +     "videoId": "7uaJLbm9hBQ",
    +     "viewCount": "234567",
    +   },
    + ]

    [0m [90m 547 |[39m
     [90m 548 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m service[33m.[39msearchVideos([32m'Jung'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 549 |[39m       expect(results)[33m.[39mtoEqual([])[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 550 |[39m     })[33m;[39m
     [90m 551 |[39m
     [90m 552 |[39m     it([32m'should handle very long queries'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:549:23)

  ‚óè YouTubeService ‚Ä∫ edge cases ‚Ä∫ should handle very long queries

    expect(received).toEqual(expected) // deep equality

    - Expected  -   1
    + Received  + 112

    - Array []
    + Array [
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA",
    +     "channelTitle": "Jung Psychology Institute",
    +     "description": "An in-depth exploration of Jungian concepts related to Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung , covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.",
    +     "duration": "PT24M36S",
    +     "likeCount": "4821",
    +     "publishedAt": "2023-10-15T09:00:00Z",
    +     "tags": Array [
    +       "jung",
    +       "psychology",
    +       "archetypes",
    +       "jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung ",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "maxres": Object {
    +         "height": 720,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    +         "width": 1280,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Carl Jung and the Psychology of Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung ",
    +     "videoId": "nBUQsNpyPHs",
    +     "viewCount": "125430",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA",
    +     "channelTitle": "Academy of Ideas",
    +     "description": "A comprehensive lecture examining Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung  through the lens of analytical psychology, featuring case studies and practical therapeutic applications.",
    +     "duration": "PT18M42S",
    +     "likeCount": "3456",
    +     "publishedAt": "2023-11-22T14:30:00Z",
    +     "tags": Array [
    +       "jungian analysis",
    +       "psychology",
    +       "therapy",
    +       "jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung ",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Understanding Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung  Through Jungian Analysis",
    +     "videoId": "VjZyGfb-LbM",
    +     "viewCount": "89234",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q",
    +     "channelTitle": "Philosophy Tube",
    +     "description": "An engaging animated exploration of Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung  concepts in Jungian psychology, perfect for visual learners and beginners.",
    +     "duration": "PT12M15S",
    +     "likeCount": "12345",
    +     "publishedAt": "2023-09-08T10:00:00Z",
    +     "tags": Array [
    +       "animation",
    +       "jung",
    +       "psychology explained",
    +       "jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung ",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung : A Jungian Perspective - Animated",
    +     "videoId": "7uaJLbm9hBQ",
    +     "viewCount": "234567",
    +   },
    + ]

    [0m [90m 557 |[39m
     [90m 558 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m service[33m.[39msearchVideos(longQuery)[33m;[39m
    [31m[1m>[22m[39m[90m 559 |[39m       expect(results)[33m.[39mtoEqual([])[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 560 |[39m     })[33m;[39m
     [90m 561 |[39m
     [90m 562 |[39m     it([32m'should handle special characters in queries'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:559:23)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    LLM Config loaded: {
      provider: 'openai',
      model: 'gpt-4o-mini',
      hasApiKey: true,
      apiKeyPrefix: 'sk-proj...'
    }

      at ConfigManager.loadConfig (src/services/llm/config.ts:154:13)

FAIL src/test-utils/examples/optimized-test-example.test.tsx
  Optimized Test Example
    Module Service Tests
      ‚úì should create a module using builder pattern (1 ms)
      ‚úì should handle multiple modules efficiently (2 ms)
    Quiz Generator Tests
      ‚úï should generate quiz with mock questions
      ‚úï should handle retries using test scenario (5 ms)
    Component Tests with Utilities
      ‚úì should render module card with router (8 ms)
    Integration Tests with MSW
      ‚úï should fetch modules from API (23 ms)
      ‚úï should handle API errors gracefully (10 ms)
    Performance Tests
      ‚úì should complete quiz generation within performance budget (1 ms)
    Data Builder Patterns
      ‚úì should create various quiz types efficiently (2 ms)
      ‚úì should build custom quiz with specific requirements

  ‚óè Optimized Test Example ‚Ä∫ Quiz Generator Tests ‚Ä∫ should generate quiz with mock questions

    expect(received).toHaveProperty(path)

    Expected path: "id"
    Received path: []

    Received value: {"questions": [{"cognitiveLevel": "remembering", "concept": "collective unconscious", "correctAnswer": 0, "difficulty": "easy", "explanation": "Explanation for question 1 about collective unconscious", "id": "q1", "options": ["Option A for 1", "Option B for 1", "Option C for 1", "Option D for 1"], "question": "Test question 1 about collective unconscious", "type": "multiple-choice"}, {"cognitiveLevel": "understanding", "concept": "shadow", "correctAnswer": true, "difficulty": "medium", "explanation": "Explanation for question 2 about shadow", "id": "q2", "options": undefined, "question": "Test question 2 about shadow", "type": "true-false"}, {"cognitiveLevel": "applying", "concept": "archetypes", "correctAnswer": 2, "difficulty": "hard", "explanation": "Explanation for question 3 about archetypes", "id": "q3", "options": ["Option A for 3", "Option B for 3", "Option C for 3", "Option D for 3"], "question": "Test question 3 about archetypes", "type": "multiple-choice"}, {"cognitiveLevel": "analyzing", "concept": "individuation", "correctAnswer": true, "difficulty": "easy", "explanation": "Explanation for question 4 about individuation", "id": "q4", "options": undefined, "question": "Test question 4 about individuation", "type": "true-false"}, {"cognitiveLevel": "remembering", "concept": "anima/animus", "correctAnswer": 0, "difficulty": "medium", "explanation": "Explanation for question 5 about anima/animus", "id": "q5", "options": ["Option A for 5", "Option B for 5", "Option C for 5", "Option D for 5"], "question": "Test question 5 about anima/animus", "type": "multiple-choice"}]}

    [0m [90m 150 |[39m [90m */[39m
     [90m 151 |[39m [36mexport[39m [36mconst[39m assertValidQuiz [33m=[39m (quiz[33m:[39m any)[33m:[39m asserts quiz is [33mQuiz[39m [33m=>[39m {
    [31m[1m>[22m[39m[90m 152 |[39m   expect(quiz)[33m.[39mtoHaveProperty([32m'id'[39m)[33m;[39m
     [90m     |[39m                [31m[1m^[22m[39m
     [90m 153 |[39m   expect(quiz)[33m.[39mtoHaveProperty([32m'title'[39m)[33m;[39m
     [90m 154 |[39m   expect(quiz)[33m.[39mtoHaveProperty([32m'questions'[39m)[33m;[39m
     [90m 155 |[39m   expect([33mArray[39m[33m.[39misArray(quiz[33m.[39mquestions))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m

      at assertValidQuiz (src/test-utils/helpers/testHelpers.ts:152:16)
      at Object.<anonymous> (src/test-utils/examples/optimized-test-example.test.tsx:110:22)

  ‚óè Optimized Test Example ‚Ä∫ Quiz Generator Tests ‚Ä∫ should handle retries using test scenario

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 3
    Received number of calls: 0

    [0m [90m 72 |[39m     [36mconst[39m result [33m=[39m [36mawait[39m serviceFn()[33m;[39m
     [90m 73 |[39m     
    [31m[1m>[22m[39m[90m 74 |[39m     expect(mockImplementation)[33m.[39mtoHaveBeenCalledTimes(expectedRetries)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 75 |[39m     [36mreturn[39m result[33m;[39m
     [90m 76 |[39m   }[33m,[39m
     [90m 77 |[39m[0m

      at Object.withRetries (src/test-utils/index.ts:74:32)
      at Object.<anonymous> (src/test-utils/examples/optimized-test-example.test.tsx:116:22)

  ‚óè Optimized Test Example ‚Ä∫ Integration Tests with MSW ‚Ä∫ should fetch modules from API

    TypeError: Network request failed

      at Timeout._onTimeout (node_modules/whatwg-fetch/dist/fetch.umd.js:567:18)

  ‚óè Optimized Test Example ‚Ä∫ Integration Tests with MSW ‚Ä∫ should handle API errors gracefully

    Cannot find module 'msw/node' from 'src/test-utils/mocks/server.ts'

    Require stack:
      src/test-utils/mocks/server.ts
      src/test-utils/examples/optimized-test-example.test.tsx

    [0m[31m[1m>[22m[39m[90m 1 |[39m [36mimport[39m { setupServer } [36mfrom[39m [32m'msw/node'[39m[33m;[39m
     [90m   |[39m [31m[1m^[22m[39m
     [90m 2 |[39m [36mimport[39m { handlers } [36mfrom[39m [32m'./handlers'[39m[33m;[39m
     [90m 3 |[39m
     [90m 4 |[39m [90m/**[39m[0m

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/test-utils/mocks/server.ts:1:1)
      at Object.<anonymous> (src/test-utils/examples/optimized-test-example.test.tsx:166:36)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.40ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.36ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.34ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 91/100 (Grade: A)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: production_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.19ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.13ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 83/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.13ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 79/100 (Grade: C)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: development_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.12ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 75/100 (Grade: C)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    üéØ Status: development_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 9.53ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.37ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 79/100 (Grade: C)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: development_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.37ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 91/100 (Grade: A)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: production_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.13ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 73/100 (Grade: C)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: critical_issues

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üö® Critical Issues: 1

      at ValidationService.validateComplete (src/services/validation/index.ts:145:17)

  console.log
    ‚ö° Running quick validation check...

      at ValidationService.validateQuick (src/services/validation/index.ts:195:13)

  console.log
    üìä Quick validation score: 85/100 ‚úÖ

      at ValidationService.validateQuick (src/services/validation/index.ts:217:15)

  console.log
    ‚ö° Running quick validation check...

      at ValidationService.validateQuick (src/services/validation/index.ts:195:13)

  console.log
    üìä Quick validation score: 60/100 ‚ùå

      at ValidationService.validateQuick (src/services/validation/index.ts:217:15)

  console.log
    ‚ö° Running quick validation check...

      at ValidationService.validateQuick (src/services/validation/index.ts:195:13)

  console.log
    üîç Running system validation...

      at ValidationService.validateAspect (src/services/validation/index.ts:244:13)

  console.log
    üîç Running integration validation...

      at ValidationService.validateAspect (src/services/validation/index.ts:244:13)

  console.log
    üîç Running e2e validation...

      at ValidationService.validateAspect (src/services/validation/index.ts:244:13)

  console.log
    üîç Running performance validation...

      at ValidationService.validateAspect (src/services/validation/index.ts:244:13)

  console.log
    üîç Running security validation...

      at ValidationService.validateAspect (src/services/validation/index.ts:244:13)

  console.log
    üîç Running accessibility validation...

      at ValidationService.validateAspect (src/services/validation/index.ts:244:13)

  console.log
    üîç Running unknown validation...

      at ValidationService.validateAspect (src/services/validation/index.ts:244:13)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.39ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üé• VideoGenerator.generateVideos called with: {
      topic: 'Shadow Archetype',
      concepts: [ 'shadow', 'unconscious', 'projection' ],
      targetAudience: 'Psychology students',
      count: 2,
      language: 'pt-BR'
    }

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:46:13)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    About to call generateStructuredResponse with schema: { type: 'array', items: { type: 'string' }, minItems: 6, maxItems: 10 }

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:234:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.38ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    Generated search queries: [
      'Jung shadow psychology lecture portugu√™s',
      'shadow archetype explained legendado',
      'Jung shadow work tutorial Brasil'
    ] Type: object Is array: true

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:242:13)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Search queries: [
      'Jung shadow psychology lecture portugu√™s',
      'shadow archetype explained legendado',
      'Jung shadow work tutorial Brasil'
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:67:13)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üì∫ Found videos: 6 videos

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:82:13)

  console.log
    üì∫ Sample video IDs: [
      { id: 'abc123', title: 'Introduction to Jung' },
      { id: 'def456', title: 'Shadow Work Explained' },
      { id: 'abc123', title: 'Introduction to Jung' }
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:83:13)

  console.log
    ‚úÖ Selected videos: 2

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:142:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.34ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.32ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.57ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.59ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 72/100 (Grade: C)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: critical_issues

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üö® Critical Issues: 2

      at ValidationService.validateComplete (src/services/validation/index.ts:145:17)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.40ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.60ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üé• VideoGenerator.generateVideos called with: {
      topic: 'Complex Theory',
      concepts: [ 'complex', 'individuation' ],
      targetAudience: 'Advanced students',
      count: 2,
      language: 'pt-BR'
    }

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:46:13)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    About to call generateStructuredResponse with schema: { type: 'array', items: { type: 'string' }, minItems: 6, maxItems: 10 }

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:234:13)

  console.log
    Generated search queries: [
      'Jung shadow psychology lecture portugu√™s',
      'shadow archetype explained legendado',
      'Jung shadow work tutorial Brasil'
    ] Type: object Is array: true

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:242:13)

  console.log
    üîç Search queries: [
      'Jung shadow psychology lecture portugu√™s',
      'shadow archetype explained legendado',
      'Jung shadow work tutorial Brasil'
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:67:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.34ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 73/100 (Grade: C)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: critical_issues

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üö® Critical Issues: 1

      at ValidationService.validateComplete (src/services/validation/index.ts:145:17)

  console.log
    üì∫ Found videos: 0 videos

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:82:13)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    üì∫ Sample video IDs: []

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:83:13)

  console.log
    ‚úÖ Validation completed in 0.12ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 66/100 (Grade: D)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: needs_work

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üé• VideoGenerator.generateVideos called with: {
      topic: 'Archetypes',
      concepts: [ 'anima', 'animus' ],
      targetAudience: 'Beginners',
      count: 2,
      language: 'pt-BR'
    }

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:46:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    About to call generateStructuredResponse with schema: { type: 'array', items: { type: 'string' }, minItems: 6, maxItems: 10 }

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:234:13)

  console.log
    Generated search queries: { queries: 'invalid' } Type: object Is array: false

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:242:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    ‚úÖ Validation completed in 0.34ms

      at ValidationService.validateComplete (src/services/validation/index.ts:130:15)

  console.log
    üìä Overall Score: 87/100 (Grade: B)

      at ValidationService.validateComplete (src/services/validation/index.ts:141:15)

  console.log
    üéØ Status: staging_ready

      at ValidationService.validateComplete (src/services/validation/index.ts:142:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    üîç Search queries: [
      'Archetypes Jung psicologia palestra portugu√™s',
      'Archetypes psicologia anal√≠tica explica√ß√£o legendado',
      'Jung Archetypes conceitos tutorial Brasil',
      'Archetypes processo individua√ß√£o portugu√™s',
      'Archetypes estudo de caso junguiano legendado',
      'Archetypes inconsciente coletivo portugu√™s',
      'Archetypes psicologia moderna pesquisa Brasil',
      'Archetypes Jung teoria legendado'
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:67:13)

  console.log
    üîç Starting comprehensive validation of jaqEdu platform...

      at ValidationService.validateComplete (src/services/validation/index.ts:114:13)

  console.log
    üì∫ Found videos: 6 videos

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:82:13)

  console.log
    üì∫ Sample video IDs: [
      { id: 'abc123', title: 'Introduction to Jung' },
      { id: 'def456', title: 'Shadow Work Explained' },
      { id: 'abc123', title: 'Introduction to Jung' }
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:83:13)

  console.log
    ‚úÖ Selected videos: 2

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:142:13)

  console.log
    üìö Validating 1 modules

      at ValidationService.validateComplete (src/services/validation/index.ts:115:13)

  console.log
    ‚ö° Running parallel validation checks...

      at ValidationService.validateComplete (src/services/validation/index.ts:122:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    üé• VideoGenerator.generateVideos called with: {
      topic: 'Dreams',
      concepts: [ 'dream analysis' ],
      targetAudience: 'Students',
      count: 2,
      language: 'pt-BR'
    }

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:46:13)

  console.log
    About to call generateStructuredResponse with schema: { type: 'array', items: { type: 'string' }, minItems: 6, maxItems: 10 }

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:234:13)

  console.log
    Generated search queries: { type: 'array', items: { type: 'string' } } Type: object Is array: false

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:242:13)

  console.log
    üîç Search queries: [
      'Dreams Jung psicologia palestra portugu√™s',
      'Dreams psicologia anal√≠tica explica√ß√£o legendado',
      'Jung Dreams conceitos tutorial Brasil',
      'Dreams processo individua√ß√£o portugu√™s',
      'Dreams estudo de caso junguiano legendado',
      'Dreams inconsciente coletivo portugu√™s',
      'Dreams psicologia moderna pesquisa Brasil',
      'Dreams Jung teoria legendado'
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:67:13)

  console.log
    üì∫ Found videos: 6 videos

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:82:13)

  console.log
    üì∫ Sample video IDs: [
      { id: 'abc123', title: 'Introduction to Jung' },
      { id: 'def456', title: 'Shadow Work Explained' },
      { id: 'abc123', title: 'Introduction to Jung' }
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:83:13)

  console.log
    ‚úÖ Selected videos: 2

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:142:13)

  console.log
    üé• VideoGenerator.generateVideos called with: {
      topic: 'Persona',
      concepts: [ 'mask', 'social role' ],
      targetAudience: 'General',
      count: 1,
      language: 'pt-BR'
    }

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:46:13)

  console.log
    About to call generateStructuredResponse with schema: { type: 'array', items: { type: 'string' }, minItems: 6, maxItems: 10 }

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:234:13)

  console.log
    Generated search queries: [
      'Jung shadow psychology lecture portugu√™s',
      'shadow archetype explained legendado',
      'Jung shadow work tutorial Brasil'
    ] Type: object Is array: true

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:242:13)

  console.log
    üîç Search queries: [
      'Jung shadow psychology lecture portugu√™s',
      'shadow archetype explained legendado',
      'Jung shadow work tutorial Brasil'
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:67:13)

  console.log
    üì∫ Found videos: 6 videos

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:82:13)

  console.log
    üì∫ Sample video IDs: [
      { id: 'abc123', title: 'Introduction to Jung' },
      { id: 'def456', title: 'Shadow Work Explained' },
      { id: 'abc123', title: 'Introduction to Jung' }
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:83:13)

  console.log
    ‚úÖ Selected videos: 1

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:142:13)

  console.log
    üé• VideoGenerator.generateVideos called with: {
      topic: 'Individuation',
      concepts: [ 'self', 'wholeness' ],
      targetAudience: 'Advanced',
      count: 2,
      language: 'pt-BR'
    }

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:46:13)

  console.log
    About to call generateStructuredResponse with schema: { type: 'array', items: { type: 'string' }, minItems: 6, maxItems: 10 }

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:234:13)

  console.log
    Generated search queries: [
      'Jung shadow psychology lecture portugu√™s',
      'shadow archetype explained legendado',
      'Jung shadow work tutorial Brasil'
    ] Type: object Is array: true

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:242:13)

  console.log
    üîç Search queries: [
      'Jung shadow psychology lecture portugu√™s',
      'shadow archetype explained legendado',
      'Jung shadow work tutorial Brasil'
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:67:13)

  console.log
    üì∫ Found videos: 6 videos

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:82:13)

  console.log
    üì∫ Sample video IDs: [
      { id: 'abc123', title: 'Introduction to Jung' },
      { id: 'def456', title: 'Shadow Work Explained' },
      { id: 'abc123', title: 'Introduction to Jung' }
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:83:13)

  console.log
    ‚úÖ Selected videos: 2

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:142:13)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated mindmap for module: Jungian Archetypes

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 0)

  console.log
    üîç Validating 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 3 resources for module: Jungian Archetypes

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Jungian Archetypes

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

FAIL src/services/llm/generators/__tests__/video-generator.test.ts
  VideoGenerator
    generateVideos
      ‚úï should generate videos with YouTube search and enrichment (21 ms)
      ‚úì should handle empty search results with fallback videos (4 ms)
      ‚úì should handle invalid search query response (8 ms)
      ‚úì should handle schema object returned instead of result (5 ms)
      ‚úï should properly extract YouTube IDs from enriched videos (7 ms)
      ‚úï should sort videos by combined educational and relevance score (2 ms)
    searchYouTubeVideos
      ‚úì should search YouTube and return formatted results (6 ms)
    curateVideoPlaylist
      ‚úï should curate videos based on learning path
      ‚úï should mark remaining videos as supplementary (1 ms)
    discoverEducationalChannels
      ‚úì should discover educational channels (1 ms)
    getPlaylistVideos
      ‚úì should get and enrich playlist videos
    generateProgressiveLearningPath
      ‚úï should generate videos for different difficulty levels
    getRecommendations
      ‚úï should generate recommendations based on watch history
      ‚úï should filter out already watched videos
    utility methods
      extractYouTubeIdFromUrl
        ‚úì should extract YouTube ID from various URL formats
      parseDuration
        ‚úì should parse ISO 8601 duration to minutes (1 ms)
      convertDurationToMinutes
        ‚úï should handle various duration formats

  ‚óè VideoGenerator ‚Ä∫ generateVideos ‚Ä∫ should generate videos with YouTube search and enrichment

    expect(received).toEqual(expected) // deep equality

    - Expected  - 6
    + Received  + 6

      Object {
    -   "description": "Learn about Jungian psychology",
    -   "duration": 15,
    -   "id": "video-1",
    -   "title": "Introduction to Jung",
    -   "url": "https://www.youtube.com/watch?v=abc123",
    -   "youtubeId": "abc123",
    +   "description": "Understanding the shadow",
    +   "duration": 20,
    +   "id": "video-2",
    +   "title": "Shadow Work Explained",
    +   "url": "https://www.youtube.com/watch?v=def456",
    +   "youtubeId": undefined,
      }

    [0m [90m 125 |[39m
     [90m 126 |[39m       expect(videos)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 127 |[39m       expect(videos[[35m0[39m])[33m.[39mtoEqual({
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 128 |[39m         id[33m:[39m [32m'video-1'[39m[33m,[39m
     [90m 129 |[39m         title[33m:[39m [32m'Introduction to Jung'[39m[33m,[39m
     [90m 130 |[39m         youtubeId[33m:[39m [32m'abc123'[39m[33m,[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:127:25)

  ‚óè VideoGenerator ‚Ä∫ generateVideos ‚Ä∫ should properly extract YouTube IDs from enriched videos

    expect(received).toBe(expected) // Object.is equality

    Expected: "abc123"
    Received: "xyz789"

    [0m [90m 206 |[39m       )[33m;[39m
     [90m 207 |[39m
    [31m[1m>[22m[39m[90m 208 |[39m       expect(videos[[35m0[39m][33m.[39myoutubeId)[33m.[39mtoBe([32m'abc123'[39m)[33m;[39m [90m// Should extract from URL[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 209 |[39m     })[33m;[39m
     [90m 210 |[39m
     [90m 211 |[39m     it([32m'should sort videos by combined educational and relevance score'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:208:35)

  ‚óè VideoGenerator ‚Ä∫ generateVideos ‚Ä∫ should sort videos by combined educational and relevance score

    expect(received).toBe(expected) // Object.is equality

    Expected: "Shadow Work Explained"
    Received: "Introduction to Jung"

    [0m [90m 230 |[39m
     [90m 231 |[39m       [90m// Should be sorted by score (highest first)[39m
    [31m[1m>[22m[39m[90m 232 |[39m       expect(videos[[35m0[39m][33m.[39mtitle)[33m.[39mtoBe([32m'Shadow Work Explained'[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 233 |[39m       expect(videos[[35m1[39m][33m.[39mtitle)[33m.[39mtoBe([32m'Introduction to Jung'[39m)[33m;[39m
     [90m 234 |[39m     })[33m;[39m
     [90m 235 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:232:31)

  ‚óè VideoGenerator ‚Ä∫ curateVideoPlaylist ‚Ä∫ should curate videos based on learning path

    TypeError: Cannot read properties of undefined (reading 'enrichMultipleVideos')

    [0m [90m 488 |[39m     
     [90m 489 |[39m     [90m// Enrich videos with educational metadata[39m
    [31m[1m>[22m[39m[90m 490 |[39m     [36mconst[39m enrichedVideos [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvideoEnricher[33m.[39menrichMultipleVideos(
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 491 |[39m       youtubeVideos[33m,[39m
     [90m 492 |[39m       {
     [90m 493 |[39m         assessDifficulty[33m:[39m [36mtrue[39m[33m,[39m[0m

      at VideoGenerator.curateVideoPlaylist (src/services/llm/generators/video-generator.ts:490:53)
      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:318:44)

  ‚óè VideoGenerator ‚Ä∫ curateVideoPlaylist ‚Ä∫ should mark remaining videos as supplementary

    TypeError: Cannot read properties of undefined (reading 'enrichMultipleVideos')

    [0m [90m 488 |[39m     
     [90m 489 |[39m     [90m// Enrich videos with educational metadata[39m
    [31m[1m>[22m[39m[90m 490 |[39m     [36mconst[39m enrichedVideos [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvideoEnricher[33m.[39menrichMultipleVideos(
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 491 |[39m       youtubeVideos[33m,[39m
     [90m 492 |[39m       {
     [90m 493 |[39m         assessDifficulty[33m:[39m [36mtrue[39m[33m,[39m[0m

      at VideoGenerator.curateVideoPlaylist (src/services/llm/generators/video-generator.ts:490:53)
      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:330:44)

  ‚óè VideoGenerator ‚Ä∫ generateProgressiveLearningPath ‚Ä∫ should generate videos for different difficulty levels

    ReferenceError: mockSearchResults is not defined

    [0m [90m 414 |[39m       [90m// Mock different search results for each difficulty[39m
     [90m 415 |[39m       mockYouTubeService[33m.[39msearchVideos
    [31m[1m>[22m[39m[90m 416 |[39m         [33m.[39mmockResolvedValueOnce([mockSearchResults[[35m0[39m]]) [90m// Beginner[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 417 |[39m         [33m.[39mmockResolvedValueOnce([mockSearchResults[[35m1[39m]]) [90m// Intermediate[39m
     [90m 418 |[39m         [33m.[39mmockResolvedValueOnce([mockSearchResults[[35m0[39m]])[33m;[39m [90m// Advanced[39m
     [90m 419 |[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:416:33)

  ‚óè VideoGenerator ‚Ä∫ getRecommendations ‚Ä∫ should generate recommendations based on watch history

    ReferenceError: mockSearchResults is not defined

    [0m [90m 468 |[39m         [32m'shadow and anima relationship'[39m
     [90m 469 |[39m       ])[33m;[39m
    [31m[1m>[22m[39m[90m 470 |[39m       mockYouTubeService[33m.[39msearchVideos[33m.[39mmockResolvedValue([mockSearchResults[[35m1[39m]])[33m;[39m
     [90m     |[39m                                                          [31m[1m^[22m[39m
     [90m 471 |[39m       mockVideoEnricher[33m.[39menrichMultipleVideos[33m.[39mmockResolvedValue([mockEnrichedVideos[[35m1[39m]])[33m;[39m
     [90m 472 |[39m
     [90m 473 |[39m       [36mconst[39m recommendations [33m=[39m [36mawait[39m videoGenerator[33m.[39mgetRecommendations([0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:470:58)

  ‚óè VideoGenerator ‚Ä∫ getRecommendations ‚Ä∫ should filter out already watched videos

    ReferenceError: mockSearchResults is not defined

    [0m [90m 486 |[39m       mockProvider[33m.[39mgenerateStructuredResponse[33m.[39mmockResolvedValue([[32m'search query'[39m])[33m;[39m
     [90m 487 |[39m       mockYouTubeService[33m.[39msearchVideos[33m.[39mmockResolvedValue([
    [31m[1m>[22m[39m[90m 488 |[39m         { [33m...[39mmockSearchResults[[35m0[39m][33m,[39m videoId[33m:[39m [32m'watched1'[39m }[33m,[39m [90m// Already watched[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 489 |[39m         mockSearchResults[[35m1[39m] [90m// New video[39m
     [90m 490 |[39m       ])[33m;[39m
     [90m 491 |[39m       mockVideoEnricher[33m.[39menrichMultipleVideos[33m.[39mmockResolvedValue([mockEnrichedVideos[[35m1[39m]])[33m;[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:488:14)

  ‚óè VideoGenerator ‚Ä∫ utility methods ‚Ä∫ convertDurationToMinutes ‚Ä∫ should handle various duration formats

    TypeError: Cannot read properties of null (reading 'hours')

    [0m [90m 577 |[39m   [36mprivate[39m convertDurationToMinutes(duration[33m:[39m any)[33m:[39m number {
     [90m 578 |[39m     [90m// Handle schema's VideoDuration object[39m
    [31m[1m>[22m[39m[90m 579 |[39m     [36mif[39m ([36mtypeof[39m duration [33m===[39m [32m'object'[39m [33m&&[39m duration[33m.[39mhours [33m!==[39m undefined) {
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 580 |[39m       [36mreturn[39m duration[33m.[39mhours [33m*[39m [35m60[39m [33m+[39m duration[33m.[39mminutes [33m+[39m [33mMath[39m[33m.[39mceil((duration[33m.[39mseconds [33m||[39m [35m0[39m) [33m/[39m [35m60[39m)[33m;[39m
     [90m 581 |[39m     }
     [90m 582 |[39m     [90m// Handle number (already in minutes)[39m[0m

      at VideoGenerator.convertDurationToMinutes (src/services/llm/generators/video-generator.ts:579:50)
      at forEach (src/services/llm/generators/__tests__/video-generator.test.ts:553:50)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:552:19)

  console.log
    ‚úÖ System validation completed. Score: 40/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

FAIL src/services/validation/__tests__/validationService.test.ts
  jaqEdu Validation System
    SystemValidator
      ‚úï should validate system successfully (2 ms)
      ‚úï should handle basic validation (1 ms)
    Basic Validation
      ‚úï should handle empty modules gracefully
      ‚úï should validate single module
  ValidationService
    validateComplete
      ‚úì should run all validators and return comprehensive results (4 ms)
      ‚úì should calculate weighted overall score correctly (2 ms)
      ‚úì should determine correct grade based on score (5 ms)
      ‚úì should handle validation failures gracefully (1 ms)
      ‚úì should identify strengths correctly (11 ms)
      ‚úì should identify weaknesses when scores are low (2 ms)
      ‚úì should set correct status based on conditions (3 ms)
    validateQuick
      ‚úì should perform quick validation using system validator only (1 ms)
      ‚úì should extract errors as issues (1 ms)
      ‚úì should handle quick validation failures (1 ms)
    validateAspect
      ‚úì should validate system aspect (1 ms)
      ‚úì should validate integration aspect (1 ms)
      ‚úì should validate e2e aspect
      ‚úì should extract performance metrics (1 ms)
      ‚úì should extract security validation
      ‚úì should extract accessibility validation (1 ms)
      ‚úì should throw error for unknown aspect (17 ms)
    generateReport
      ‚úì should generate summary report by default (5 ms)
      ‚úì should generate detailed report (3 ms)
      ‚úì should generate JSON report (1 ms)
      ‚úì should generate Markdown report (8 ms)
      ‚úì should include critical issues in reports when present (7 ms)
    singleton instance
      ‚úì should export a singleton instance
    metrics calculation
      ‚úì should calculate user experience score correctly (3 ms)
      ‚úì should handle empty workflows (2 ms)
    summary generation
      ‚úì should generate appropriate next steps based on issues (3 ms)
      ‚úì should sort recommendations by priority (2 ms)
    concurrent validation
      ‚úì should run all validators in parallel (9 ms)

  ‚óè jaqEdu Validation System ‚Ä∫ SystemValidator ‚Ä∫ should validate system successfully

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 110 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem(mockModules)[33m;[39m
     [90m 111 |[39m       
    [31m[1m>[22m[39m[90m 112 |[39m       expect(result)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 113 |[39m       expect(result[33m.[39moverall)[33m.[39mtoBeDefined()[33m;[39m
     [90m 114 |[39m       expect(result[33m.[39moverall[33m.[39mscore)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 115 |[39m       expect(result[33m.[39mmodules)[33m.[39mtoHaveLength(mockModules[33m.[39mlength)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/validationSystem.test.ts:112:22)

  ‚óè jaqEdu Validation System ‚Ä∫ SystemValidator ‚Ä∫ should handle basic validation

    TypeError: Cannot read properties of undefined (reading 'modules')

    [0m [90m 120 |[39m       
     [90m 121 |[39m       [90m// Just check basic structure without asserting specific validation logic[39m
    [31m[1m>[22m[39m[90m 122 |[39m       expect(result[33m.[39mmodules)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                     [31m[1m^[22m[39m
     [90m 123 |[39m       expect(result[33m.[39mmodules[[35m0[39m])[33m.[39mtoBeDefined()[33m;[39m
     [90m 124 |[39m       expect(result[33m.[39mmodules[[35m1[39m])[33m.[39mtoBeDefined()[33m;[39m
     [90m 125 |[39m     }[33m,[39m [35m5000[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/validationSystem.test.ts:122:21)

  ‚óè jaqEdu Validation System ‚Ä∫ Basic Validation ‚Ä∫ should handle empty modules gracefully

    TypeError: Cannot read properties of undefined (reading 'modules')

    [0m [90m 131 |[39m       
     [90m 132 |[39m       [36mconst[39m systemResult [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem(emptyModules)[33m;[39m
    [31m[1m>[22m[39m[90m 133 |[39m       expect(systemResult[33m.[39mmodules)[33m.[39mtoHaveLength([35m0[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 134 |[39m     }[33m,[39m [35m3000[39m)[33m;[39m
     [90m 135 |[39m
     [90m 136 |[39m     it([32m'should validate single module'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/validation/__tests__/validationSystem.test.ts:133:27)

  ‚óè jaqEdu Validation System ‚Ä∫ Basic Validation ‚Ä∫ should validate single module

    TypeError: Cannot read properties of undefined (reading 'modules')

    [0m [90m 138 |[39m       
     [90m 139 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem(singleModule)[33m;[39m
    [31m[1m>[22m[39m[90m 140 |[39m       expect(result[33m.[39mmodules)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m     |[39m                     [31m[1m^[22m[39m
     [90m 141 |[39m       expect(result[33m.[39mmodules[[35m0[39m])[33m.[39mtoBeDefined()[33m;[39m
     [90m 142 |[39m     }[33m,[39m [35m3000[39m)[33m;[39m
     [90m 143 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/validationSystem.test.ts:140:21)

FAIL src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts
  AIResourcePipeline
    constructor
      ‚úì should initialize with default configuration (2 ms)
      ‚úì should accept custom configuration (3 ms)
    processModule
      ‚úï should process module and generate all enabled resources (60 ms)
      ‚úì should emit correct events during processing (3 ms)
      ‚úì should handle resource generation failures gracefully (3 ms)
      ‚úì should respect disabled resource types (9 ms)
      ‚úì should handle validation failures (3 ms)
      ‚úì should link resources when autoLinking is enabled (2 ms)
      ‚úì should handle complete pipeline failure (22 ms)
    resource generation
      quiz resource generation
        ‚úì should generate quiz when module has learning objectives (6 ms)
        ‚úï should assess quiz quality based on questions (2 ms)
      video resource generation
        ‚úì should generate videos for complex topics (16 ms)
      bibliography resource generation
        ‚úì should generate bibliography for academic content (121 ms)
      mindmap resource generation
        ‚úì should generate mindmap for structured content (3 ms)
      test resource generation
        ‚úì should always generate test resources when testing is enabled (2 ms)
      config resource generation
        ‚úì should always generate config resources (2 ms)
        ‚úì should extract correct tags from module (2 ms)
    validation
      ‚úï should validate quiz resources correctly (2 ms)
      ‚úï should handle invalid quiz structure (2 ms)
      ‚úì should validate video resources (1 ms)
      ‚úì should validate bibliography resources (49 ms)
    event handling
      ‚úì should handle module creation events from orchestrator (1 ms)
    pipeline management
      getStatus
        ‚úì should return status for active generations (2 ms)
      updateConfig
        ‚úì should update configuration dynamically (31 ms)
      clearCompleted
        ‚úï should clear completed generations (3 ms)
        ‚úì should not clear in-progress generations (1 ms)
    edge cases and error handling
      ‚úì should handle modules with no content sections (2 ms)
      ‚úì should handle modules with very long content (2 ms)
      ‚úì should handle concurrent module processing (42 ms)
      ‚úì should handle resource generation timeout (1004 ms)
    resource quality assessment
      ‚úï should calculate quality score for quiz with explanations (2 ms)
      ‚úï should calculate quality score for videos (4 ms)
    singleton export
      ‚úì should export singleton instance (1 ms)

  ‚óè AIResourcePipeline ‚Ä∫ processModule ‚Ä∫ should process module and generate all enabled resources

    expect(received).toContain(expected) // indexOf

    Expected value: "quiz"
    Received array: ["mindmap", "test", "config"]

    [0m [90m 161 |[39m       [90m// Check that resources were generated[39m
     [90m 162 |[39m       [36mconst[39m resourceTypes [33m=[39m resources[33m.[39mmap(r [33m=>[39m r[33m.[39mtype)[33m;[39m
    [31m[1m>[22m[39m[90m 163 |[39m       expect(resourceTypes)[33m.[39mtoContain([32m'quiz'[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 164 |[39m       expect(resourceTypes)[33m.[39mtoContain([32m'mindmap'[39m)[33m;[39m
     [90m 165 |[39m       expect(resourceTypes)[33m.[39mtoContain([32m'test'[39m)[33m;[39m
     [90m 166 |[39m       expect(resourceTypes)[33m.[39mtoContain([32m'config'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:163:29)

  ‚óè AIResourcePipeline ‚Ä∫ resource generation ‚Ä∫ quiz resource generation ‚Ä∫ should assess quiz quality based on questions

    expect(received).toBeGreaterThan(expected)

    Matcher error: received value must be a number or bigint

    Received has value: undefined

    [0m [90m 266 |[39m         [36mconst[39m quizResource [33m=[39m resources[33m.[39mfind(r [33m=>[39m r[33m.[39mtype [33m===[39m [32m'quiz'[39m)[33m;[39m
     [90m 267 |[39m
    [31m[1m>[22m[39m[90m 268 |[39m         expect(quizResource[33m?[39m[33m.[39mmetadata[33m.[39mquality)[33m.[39mtoBeGreaterThan([35m0.5[39m)[33m;[39m
     [90m     |[39m                                                [31m[1m^[22m[39m
     [90m 269 |[39m       })[33m;[39m
     [90m 270 |[39m     })[33m;[39m
     [90m 271 |[39m[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:268:48)

  ‚óè AIResourcePipeline ‚Ä∫ validation ‚Ä∫ should validate quiz resources correctly

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 363 |[39m       [36mconst[39m quizResource [33m=[39m resources[33m.[39mfind(r [33m=>[39m r[33m.[39mtype [33m===[39m [32m'quiz'[39m)[33m;[39m
     [90m 364 |[39m
    [31m[1m>[22m[39m[90m 365 |[39m       expect(quizResource[33m?[39m[33m.[39mmetadata[33m.[39mvalidated)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                                [31m[1m^[22m[39m
     [90m 366 |[39m     })[33m;[39m
     [90m 367 |[39m
     [90m 368 |[39m     it([32m'should handle invalid quiz structure'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:365:48)

  ‚óè AIResourcePipeline ‚Ä∫ validation ‚Ä∫ should handle invalid quiz structure

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

    [0m [90m 378 |[39m       [36mconst[39m quizResource [33m=[39m resources[33m.[39mfind(r [33m=>[39m r[33m.[39mtype [33m===[39m [32m'quiz'[39m)[33m;[39m
     [90m 379 |[39m
    [31m[1m>[22m[39m[90m 380 |[39m       expect(quizResource[33m?[39m[33m.[39mmetadata[33m.[39mvalidated)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                                                [31m[1m^[22m[39m
     [90m 381 |[39m     })[33m;[39m
     [90m 382 |[39m
     [90m 383 |[39m     it([32m'should validate video resources'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:380:48)

  ‚óè AIResourcePipeline ‚Ä∫ pipeline management ‚Ä∫ clearCompleted ‚Ä∫ should clear completed generations

    expect(received).toBeUndefined()

    Received: [{"content": {"id": "test-test-module-1", "moduleId": "test-module-1", "tests": [{"code": "
                describe('Jungian Archetypes', () => {
                  test('should have valid structure', () => {
                    expect(module.id).toBeDefined();
                    expect(module.title).toBe('Jungian Archetypes');
                    expect(module.content).toBeDefined();
                  });¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑
                  test('should have required content sections', () => {
                    expect(module.content.introduction).toBeDefined();
                    expect(module.content.sections).toHaveLength(3);
                  });
                });
              ", "name": "Module Structure Test", "type": "unit"}, {"code": "
                describe('Jungian Archetypes Content Quality', () => {
                  test('should have adequate content length', () => {
                    const totalLength = module.content.introduction.length +¬∑
                      module.content.sections.reduce((sum, s) => sum + s.content.length, 0);
                    expect(totalLength).toBeGreaterThan(500);
                  });
                });
              ", "name": "Content Quality Test", "type": "integration"}], "title": "Tests for Jungian Archetypes"}, "id": "test-test-module-1-1753189711488", "metadata": {"generatedAt": 2025-07-22T13:08:31.488Z, "linkedResources": ["config-test-module-1-1753189711488"], "quality": 0.5, "source": "ai", "validated": true}, "moduleId": "test-module-1", "status": "validating", "type": "test"}, {"content": {"config": {"deployment": {"caching": true, "cdn": true, "environment": "production", "optimization": false}, "features": {"bibliography": true, "mindmap": true, "quiz": false, "videos": true}, "metadata": {"createdAt": "2025-07-22T13:08:31.488Z", "keywords": ["represents", "unconscious", "module", "explores", "jung's", "theory", "archetypes", "their", "psychology", "shadow"], "tags": [], "version": "1.0.0"}, "module": {"category": "psychology", "difficulty": "intermediate", "estimatedTime": 45, "id": "test-module-1", "title": "Jungian Archetypes"}}, "id": "config-test-module-1", "moduleId": "test-module-1", "title": "Configuration for Jungian Archetypes"}, "id": "config-test-module-1-1753189711488", "metadata": {"generatedAt": 2025-07-22T13:08:31.488Z, "linkedResources": ["test-test-module-1-1753189711488"], "quality": 0.5, "source": "ai", "validated": true}, "moduleId": "test-module-1", "status": "validating", "type": "config"}]

    [0m [90m 465 |[39m
     [90m 466 |[39m         [36mconst[39m statusAfter [33m=[39m pipeline[33m.[39mgetStatus(mockModule[33m.[39mid)[33m;[39m
    [31m[1m>[22m[39m[90m 467 |[39m         expect(statusAfter)[33m.[39mtoBeUndefined()[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 468 |[39m       })[33m;[39m
     [90m 469 |[39m
     [90m 470 |[39m       it([32m'should not clear in-progress generations'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:467:29)

  ‚óè AIResourcePipeline ‚Ä∫ resource quality assessment ‚Ä∫ should calculate quality score for quiz with explanations

    expect(received).toBeGreaterThan(expected)

    Matcher error: received value must be a number or bigint

    Received has value: undefined

    [0m [90m 590 |[39m       [36mconst[39m quizResource [33m=[39m resources[33m.[39mfind(r [33m=>[39m r[33m.[39mtype [33m===[39m [32m'quiz'[39m)[33m;[39m
     [90m 591 |[39m
    [31m[1m>[22m[39m[90m 592 |[39m       expect(quizResource[33m?[39m[33m.[39mmetadata[33m.[39mquality)[33m.[39mtoBeGreaterThan([35m0.8[39m)[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 593 |[39m     })[33m;[39m
     [90m 594 |[39m
     [90m 595 |[39m     it([32m'should calculate quality score for videos'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:592:46)

  ‚óè AIResourcePipeline ‚Ä∫ resource quality assessment ‚Ä∫ should calculate quality score for videos

    expect(received).toBeGreaterThan(expected)

    Matcher error: received value must be a number or bigint

    Received has value: undefined

    [0m [90m 612 |[39m       [36mconst[39m videoResource [33m=[39m resources[33m.[39mfind(r [33m=>[39m r[33m.[39mtype [33m===[39m [32m'video'[39m)[33m;[39m
     [90m 613 |[39m
    [31m[1m>[22m[39m[90m 614 |[39m       expect(videoResource[33m?[39m[33m.[39mmetadata[33m.[39mquality)[33m.[39mtoBeGreaterThan([35m0.8[39m)[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 615 |[39m     })[33m;[39m
     [90m 616 |[39m   })[33m;[39m
     [90m 617 |[39m[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:614:47)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

FAIL src/services/llm/generators/__tests__/mindmap-generator.test.ts
  MindMapGenerator
    generateMindMap
      ‚úï should generate a complete mind map with all components (1 ms)
      ‚úì should handle Portuguese language requests
      ‚úì should use hierarchical layout for analytical style
      ‚úï should assign colors and icons based on categories
      ‚úï should generate descriptions only for important nodes (1 ms)
      ‚úï should handle errors in structure generation
    generateStudyPath
      ‚úì should generate a study path for the mind map (1 ms)
      ‚úì should include node importance in prompt
    exportToD3Format
      ‚úì should export mind map to D3.js format
      ‚úì should handle nodes without metadata (1 ms)
    helper methods
      getColorForCategory
        ‚úï should return correct colors for categories
      getIconForCategory
        ‚úï should return correct icons for categories (1 ms)
      generateNodeDescription
        ‚úì should generate description with context
        ‚úì should handle Portuguese descriptions
      generateConnections
        ‚úì should generate non-hierarchical connections (1 ms)
        ‚úï should limit connections to meaningful ones

  ‚óè MindMapGenerator ‚Ä∫ generateMindMap ‚Ä∫ should generate a complete mind map with all components

    expect(received).toHaveLength(expected)

    Expected length: 5
    Received length: 1
    Received array:  ["undefined"]

    [0m [90m 110 |[39m
     [90m 111 |[39m       [90m// Check nodes were created[39m
    [31m[1m>[22m[39m[90m 112 |[39m       expect([33mObject[39m[33m.[39mkeys(mindMap[33m.[39mnodes))[33m.[39mtoHaveLength([35m5[39m)[33m;[39m [90m// root + 4 children[39m
     [90m     |[39m                                          [31m[1m^[22m[39m
     [90m 113 |[39m       expect(mindMap[33m.[39mnodes[[32m'root'[39m])[33m.[39mtoMatchObject({
     [90m 114 |[39m         id[33m:[39m [32m'root'[39m[33m,[39m
     [90m 115 |[39m         label[33m:[39m [32m'Shadow Archetype'[39m[33m,[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:112:42)

  ‚óè MindMapGenerator ‚Ä∫ generateMindMap ‚Ä∫ should assign colors and icons based on categories

    TypeError: Cannot read properties of undefined (reading 'color')

    [0m [90m 166 |[39m       [90m// Check archetype node has purple color and crown icon[39m
     [90m 167 |[39m       [36mconst[39m archetypeNode [33m=[39m mindMap[33m.[39mnodes[[32m'node2'[39m][33m;[39m
    [31m[1m>[22m[39m[90m 168 |[39m       expect(archetypeNode[33m.[39mcolor)[33m.[39mtoBe([32m'#7C3AED'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 169 |[39m       expect(archetypeNode[33m.[39micon)[33m.[39mtoBe([32m'üëë'[39m)[33m;[39m
     [90m 170 |[39m
     [90m 171 |[39m       [90m// Check process node has blue color and cycle icon[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:168:28)

  ‚óè MindMapGenerator ‚Ä∫ generateMindMap ‚Ä∫ should generate descriptions only for important nodes

    TypeError: Cannot read properties of undefined (reading 'description')

    [0m [90m 183 |[39m
     [90m 184 |[39m       [90m// Core and supporting nodes should have descriptions[39m
    [31m[1m>[22m[39m[90m 185 |[39m       expect(mindMap[33m.[39mnodes[[32m'node1'[39m][33m.[39mdescription)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 186 |[39m       expect(mindMap[33m.[39mnodes[[32m'node1-1'[39m][33m.[39mdescription)[33m.[39mtoBeDefined()[33m;[39m
     [90m 187 |[39m
     [90m 188 |[39m       [90m// Related or deep nodes should not have descriptions[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:185:37)

  ‚óè MindMapGenerator ‚Ä∫ generateMindMap ‚Ä∫ should handle errors in structure generation

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {"connections": [{"from": "node1", "label": "Both aspects of shadow", "to": "node2", "type": "associative"}, {"from": "node1-2", "label": "Individual and collective projection", "to": "node2-1", "type": "complementary"}], "description": "Uma explora√ß√£o visual de Failed Topic atrav√©s dos conceitos psicol√≥gicos junguianos", "id": "mindmap-1753189712662", "layout": "radial", "nodes": {"undefined": {"children": [], "color": "#059669", "description": "Brief description of the concept in Jungian psychology", "icon": "üí°", "id": undefined, "label": undefined, "level": 0, "metadata": {"importance": "related", "jungianCategory": undefined}, "parent": undefined}}, "rootNode": "root", "theme": "jungian", "title": "Failed Topic - Perspectiva Junguiana"}

    [0m [90m 193 |[39m       mockProvider[33m.[39mgenerateStructuredResponse[33m.[39mmockRejectedValueOnce([36mnew[39m [33mError[39m([32m'Generation failed'[39m))[33m;[39m
     [90m 194 |[39m
    [31m[1m>[22m[39m[90m 195 |[39m       [36mawait[39m expect(generator[33m.[39mgenerateMindMap(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 196 |[39m         [32m'Failed Topic'[39m[33m,[39m
     [90m 197 |[39m         [[32m'concept'[39m][33m,[39m
     [90m 198 |[39m         [35m2[39m[0m

      at expect (node_modules/expect/build/index.js:178:15)
      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:195:13)

  ‚óè MindMapGenerator ‚Ä∫ helper methods ‚Ä∫ getColorForCategory ‚Ä∫ should return correct colors for categories

    expect(received).toBe(expected) // Object.is equality

    Expected: "#6B7280"
    Received: "#059669"

    [0m [90m 372 |[39m
     [90m 373 |[39m         [90m// Test default color[39m
    [31m[1m>[22m[39m[90m 374 |[39m         expect((generator [36mas[39m any)[33m.[39mgetColorForCategory(undefined))[33m.[39mtoBe([32m'#6B7280'[39m)[33m;[39m
     [90m     |[39m                                                                   [31m[1m^[22m[39m
     [90m 375 |[39m         expect((generator [36mas[39m any)[33m.[39mgetColorForCategory([32m'unknown'[39m))[33m.[39mtoBe([32m'#6B7280'[39m)[33m;[39m
     [90m 376 |[39m       })[33m;[39m
     [90m 377 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:374:67)

  ‚óè MindMapGenerator ‚Ä∫ helper methods ‚Ä∫ getIconForCategory ‚Ä∫ should return correct icons for categories

    expect(received).toBe(expected) // Object.is equality

    Expected: "üìç"
    Received: "üí°"

    [0m [90m 392 |[39m
     [90m 393 |[39m         [90m// Test default icon[39m
    [31m[1m>[22m[39m[90m 394 |[39m         expect((generator [36mas[39m any)[33m.[39mgetIconForCategory(undefined))[33m.[39mtoBe([32m'üìç'[39m)[33m;[39m
     [90m     |[39m                                                                  [31m[1m^[22m[39m
     [90m 395 |[39m         expect((generator [36mas[39m any)[33m.[39mgetIconForCategory([32m'unknown'[39m))[33m.[39mtoBe([32m'üìç'[39m)[33m;[39m
     [90m 396 |[39m       })[33m;[39m
     [90m 397 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:394:66)

  ‚óè MindMapGenerator ‚Ä∫ helper methods ‚Ä∫ generateConnections ‚Ä∫ should limit connections to meaningful ones

    TypeError: connections is not iterable

    [0m [90m 287 |[39m       }))[33m;[39m
     [90m 288 |[39m
    [31m[1m>[22m[39m[90m 289 |[39m     [36mreturn[39m [[33m...[39mhierarchicalConnections[33m,[39m [33m...[39mconnections][33m;[39m
     [90m     |[39m                                            [31m[1m^[22m[39m
     [90m 290 |[39m   }
     [90m 291 |[39m
     [90m 292 |[39m   [36mprivate[39m getColorForCategory(category[33m?[39m[33m:[39m string)[33m:[39m string {[0m

      at MindMapGenerator.generateConnections (src/services/llm/generators/mindmap-generator.ts:289:44)
      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:507:9)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    BibliographyGenerator: Calling generateStructuredResponse with prompt snippet: 
    Gere 10 recursos educacionais sobre "Sombra Junguiana" em psicologia junguiana com LINKS ACESS√çVEIS

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:146:15)

  console.log
    BibliographyGenerator: Received sources: [
      {
        type: 'book',
        authors: [ 'Jung, Carl Gustav' ],
        title: 'O Homem e Seus S√≠mbolos',
        year: 2016,
        publisher: 'Nova Fronteira',
        url: 'https://books.google.com.br/books?id=exemplo',
        abstract: 'Introdu√ß√£o acess√≠vel aos conceitos fundamentais da psicologia junguiana',
        relevance: 'Obra fundamental recomendada para iniciantes',
        jungianConcepts: [ 'arqu√©tipos', 'inconsciente coletivo', 's√≠mbolos' ],
        readingLevel: 'beginner'
      },
      {
        type: 'article',
        authors: [ 'Silva, Maria' ],
        title: 'A Sombra na Psicologia Junguiana',
        year: 2022,
        journal: 'Revista Brasileira de Psicologia',
        volume: '15',
        issue: '3',
        pages: '45-62',
        doi: '10.1234/rbp.2022.15.3.45',
        url: 'https://scielo.br/article/exemplo',
        abstract: 'An√°lise contempor√¢nea do conceito de sombra',
        relevance: 'Aplica√ß√£o pr√°tica do conceito de sombra na terapia',
        jungianConcepts: [ 'sombra', 'proje√ß√£o', 'integra√ß√£o' ],
        readingLevel: 'intermediate'
      }
    ]

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:152:15)

  console.log
    BibliographyGenerator: Calling generateStructuredResponse with prompt snippet: 
    Generate 5 educational resources about "Archetypes" in Jungian psychology with ACCESSIBLE LINKS.
    
    K

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:146:15)

  console.log
    BibliographyGenerator: Received sources: [
      {
        type: 'book',
        authors: [ 'Jung, Carl Gustav' ],
        title: 'Man and His Symbols',
        year: 1964,
        publisher: 'Dell Publishing',
        url: 'https://archive.org/details/example',
        abstract: 'Accessible introduction to Jungian concepts',
        relevance: 'Essential introductory work',
        jungianConcepts: [ 'archetypes', 'collective unconscious' ],
        readingLevel: 'beginner'
      }
    ]

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:152:15)

  console.log
    BibliographyGenerator: Calling generateStructuredResponse with prompt snippet: 
    Gere 5 recursos educacionais sobre "Test Topic" em psicologia junguiana com LINKS ACESS√çVEIS.
    
    Conc

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:146:15)

FAIL src/services/video/__tests__/videoEnricher.test.ts
  VideoEnricher
    enrichVideo
      ‚úì should enrich a video with basic metadata (2 ms)
      ‚úï should use LLM for advanced analysis when available (2 ms)
      ‚úï should handle videos with different duration formats (1 ms)
      ‚úì should enhance title based on metadata (1 ms)
      ‚úì should generate enhanced description
      ‚úì should handle missing video data gracefully
    enrichMultipleVideos
      ‚úì should enrich multiple videos in parallel (1 ms)
      ‚úì should sort videos by combined score
      ‚úì should handle empty video array
      ‚úì should handle enrichment failures gracefully (1 ms)
    metadata analysis
      ‚úì should assess educational value based on video metrics
      ‚úì should determine difficulty based on title and description
      ‚úì should extract related concepts from content
      ‚úì should calculate relevance score based on context
    LLM integration
      ‚úì should handle LLM failures gracefully (9 ms)
      ‚úï should parse LLM response correctly (1 ms)
      ‚úì should handle malformed LLM responses (1 ms)
    edge cases
      ‚úï should handle very long video titles
      ‚úì should handle special characters in content
      ‚úì should handle videos in different languages
      ‚úï should handle null/undefined options gracefully

  ‚óè VideoEnricher ‚Ä∫ enrichVideo ‚Ä∫ should use LLM for advanced analysis when available

    expect(received).toMatchObject(expected)

    - Expected  - 16
    + Received  +  6

      Object {
        "difficulty": "intermediate",
    -   "educationalValue": 0.85,
    -   "keyTimestamps": ArrayContaining [
    -     ObjectContaining {
    -       "description": Any<String>,
    -       "time": Any<Number>,
    -       "topic": Any<String>,
    -     },
    -   ],
    +   "educationalValue": 0.75,
        "learningOutcomes": Array [
    -     "Understand Jung's concepts",
    +     "Identify and explain shadow in psychological context",
    +     "Apply Jungian principles to personal development",
        ],
        "relatedConcepts": Array [
    -     "Shadow",
    -     "Anima",
    -     "Individuation",
    +     "shadow",
        ],
    -   "relevanceScore": 0.9,
    -   "suggestedPrerequisites": Array [
    -     "Basic psychology",
    -   ],
    +   "relevanceScore": 0.3333333333333333,
    +   "suggestedPrerequisites": undefined,
      }

    [0m [90m 100 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m enricherWithLLM[33m.[39menrichVideo(mockVideo[33m,[39m options)[33m;[39m
     [90m 101 |[39m
    [31m[1m>[22m[39m[90m 102 |[39m       expect(result[33m.[39mmetadata)[33m.[39mtoMatchObject({
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 103 |[39m         educationalValue[33m:[39m [35m0.85[39m[33m,[39m
     [90m 104 |[39m         relevanceScore[33m:[39m [35m0.90[39m[33m,[39m
     [90m 105 |[39m         difficulty[33m:[39m [32m'intermediate'[39m[33m,[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/videoEnricher.test.ts:102:31)

  ‚óè VideoEnricher ‚Ä∫ enrichVideo ‚Ä∫ should handle videos with different duration formats

    expect(received).toBe(expected) // Object.is equality

    Expected: "number"
    Received: "object"

    [0m [90m 131 |[39m         [90m// Check that duration was properly converted[39m
     [90m 132 |[39m         expect(result[33m.[39mduration)[33m.[39mtoBeDefined()[33m;[39m
    [31m[1m>[22m[39m[90m 133 |[39m         expect([36mtypeof[39m result[33m.[39mduration)[33m.[39mtoBe([32m'number'[39m)[33m;[39m
     [90m     |[39m                                        [31m[1m^[22m[39m
     [90m 134 |[39m       }
     [90m 135 |[39m     })[33m;[39m
     [90m 136 |[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/videoEnricher.test.ts:133:40)

  ‚óè VideoEnricher ‚Ä∫ LLM integration ‚Ä∫ should parse LLM response correctly

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 351 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m enricherWithLLM[33m.[39menrichVideo(mockVideo[33m,[39m options)[33m;[39m
     [90m 352 |[39m
    [31m[1m>[22m[39m[90m 353 |[39m       expect(result[33m.[39mmetadata[33m.[39mkeyTimestamps)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                             [31m[1m^[22m[39m
     [90m 354 |[39m       expect(result[33m.[39mmetadata[33m.[39mkeyTimestamps)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m 355 |[39m       expect(result[33m.[39mmetadata[33m.[39msuggestedPrerequisites)[33m.[39mtoBeDefined()[33m;[39m
     [90m 356 |[39m       expect(result[33m.[39mmetadata[33m.[39mlearningOutcomes)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/videoEnricher.test.ts:353:45)

  ‚óè VideoEnricher ‚Ä∫ edge cases ‚Ä∫ should handle very long video titles

    expect(received).toBeLessThanOrEqual(expected)

    Expected: <= 300
    Received:    500

    [0m [90m 383 |[39m
     [90m 384 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m enricher[33m.[39menrichVideo(longTitleVideo)[33m;[39m
    [31m[1m>[22m[39m[90m 385 |[39m       expect(result[33m.[39mtitle[33m.[39mlength)[33m.[39mtoBeLessThanOrEqual([35m300[39m)[33m;[39m [90m// Should truncate[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 386 |[39m     })[33m;[39m
     [90m 387 |[39m
     [90m 388 |[39m     it([32m'should handle special characters in content'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/videoEnricher.test.ts:385:35)

  ‚óè VideoEnricher ‚Ä∫ edge cases ‚Ä∫ should handle null/undefined options gracefully

    TypeError: Cannot read properties of null (reading 'courseContext')

    [0m [90m 197 |[39m     [90m// Relevance score[39m
     [90m 198 |[39m     [36mlet[39m relevanceScore [33m=[39m [35m0[39m[33m;[39m
    [31m[1m>[22m[39m[90m 199 |[39m     [36mif[39m (options[33m.[39mcourseContext) {
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 200 |[39m       [36mconst[39m contextWords [33m=[39m [
     [90m 201 |[39m         options[33m.[39mcourseContext[33m.[39mtopic[33m.[39mtoLowerCase()[33m,[39m
     [90m 202 |[39m         [33m...[39moptions[33m.[39mcourseContext[33m.[39mconcepts[33m.[39mmap(c [33m=>[39m c[33m.[39mtoLowerCase())[33m,[39m[0m

      at VideoEnricher.heuristicAnalyzeVideo (src/services/video/videoEnricher.ts:199:17)
      at VideoEnricher.analyzeVideo (src/services/video/videoEnricher.ts:83:17)
      at VideoEnricher.enrichVideo (src/services/video/videoEnricher.ts:40:33)
      at Object.<anonymous> (src/services/video/__tests__/videoEnricher.test.ts:414:38)

  console.log
    BibliographyGenerator: Calling generateStructuredResponse with prompt snippet: 
    Gere 5 recursos educacionais sobre "Test Topic" em psicologia junguiana com LINKS ACESS√çVEIS.
    
    Conc

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:146:15)

  console.log
    BibliographyGenerator: Received sources: { items: 'not an array' }

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:152:15)

  console.log
    BibliographyGenerator: Calling generateStructuredResponse with prompt snippet: 
    Gere 2 recursos educacionais sobre "Test Topic" em psicologia junguiana com LINKS ACESS√çVEIS.
    
    Conc

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:146:15)

  console.log
    BibliographyGenerator: Received sources: [
      'Invalid string entry',
      {
        type: 'book',
        authors: [ 'Jung, Carl Gustav' ],
        title: 'O Homem e Seus S√≠mbolos',
        year: 2016,
        publisher: 'Nova Fronteira',
        url: 'https://books.google.com.br/books?id=exemplo',
        abstract: 'Introdu√ß√£o acess√≠vel aos conceitos fundamentais da psicologia junguiana',
        relevance: 'Obra fundamental recomendada para iniciantes',
        jungianConcepts: [ 'arqu√©tipos', 'inconsciente coletivo', 's√≠mbolos' ],
        readingLevel: 'beginner'
      }
    ]

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:152:15)

  console.log
    BibliographyGenerator: Calling generateStructuredResponse with prompt snippet: 
    Gere 1 recursos educacionais sobre "Test" em psicologia junguiana com LINKS ACESS√çVEIS.
    
    Conceitos-

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:146:15)

  console.log
    BibliographyGenerator: Received sources: [
      {
        type: 'book',
        authors: [ 'Jung, Carl Gustav' ],
        title: 'O Homem e Seus S√≠mbolos',
        year: 2016,
        publisher: 'Nova Fronteira',
        url: 'https://books.google.com.br/books?id=exemplo',
        abstract: 'Introdu√ß√£o acess√≠vel aos conceitos fundamentais da psicologia junguiana',
        relevance: 'Obra fundamental recomendada para iniciantes',
        jungianConcepts: [ 'arqu√©tipos', 'inconsciente coletivo', 's√≠mbolos' ],
        readingLevel: undefined
      }
    ]

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:152:15)

FAIL src/services/quiz/__tests__/enhancedQuizGenerator.test.ts
  EnhancedQuizGenerator
    constructor
      ‚úì should initialize with LLM provider
    generateEnhancedQuiz
      ‚úì should generate enhanced quiz with all components (1 ms)
      ‚úì should use templates when enabled
      ‚úì should skip templates when disabled
      ‚úì should enhance questions when enabled (1 ms)
      ‚úì should skip enhancement when disabled
      ‚úï should include essay questions when requested
      ‚úì should calculate appropriate time limit
      ‚úì should include metadata with concepts and difficulty distribution (1 ms)
    templated question generation
      ‚úï should distribute questions by difficulty correctly
      ‚úï should handle different user levels (1 ms)
      ‚úï should handle advanced user level
    essay question generation
      ‚úï should generate essay questions with proper structure
      ‚úï should handle essay generation failure gracefully
    error handling and edge cases
      ‚úï should handle provider returning non-array
      ‚úï should handle provider errors
      ‚úï should handle empty objectives array
      ‚úï should handle very long content
      ‚úï should handle zero question count
      ‚úï should handle special characters in topic (1 ms)
    study guide generation
      ‚úì should generate study guide for incorrect answers
      ‚úì should identify weak concepts correctly
      ‚úì should handle empty incorrect responses
      ‚úì should handle non-existent question IDs
    helper methods
      ‚úï should calculate time limit correctly for different question types
      ‚úï should extract concepts from questions correctly (1 ms)
      ‚úï should analyze difficulty distribution correctly
    provider integration
      ‚úï should pass correct parameters to provider
      ‚úï should handle provider timeout

  ‚óè EnhancedQuizGenerator ‚Ä∫ generateEnhancedQuiz ‚Ä∫ should include essay questions when requested

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 259 |[39m       )[33m;[39m
     [90m 260 |[39m
    [31m[1m>[22m[39m[90m 261 |[39m       expect(quiz[33m.[39mquestions[33m.[39msome(q [33m=>[39m q[33m.[39mtype [33m===[39m [32m'essay'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                                            [31m[1m^[22m[39m
     [90m 262 |[39m     })[33m;[39m
     [90m 263 |[39m
     [90m 264 |[39m     it([32m'should calculate appropriate time limit'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:261:60)

  ‚óè EnhancedQuizGenerator ‚Ä∫ templated question generation ‚Ä∫ should distribute questions by difficulty correctly

    ReferenceError: defaultOptions is not defined

    [0m [90m 306 |[39m         [35m10[39m[33m,[39m
     [90m 307 |[39m         {
    [31m[1m>[22m[39m[90m 308 |[39m           [33m...[39mdefaultOptions[33m,[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 309 |[39m           userLevel[33m:[39m [32m'intermediate'[39m
     [90m 310 |[39m         }
     [90m 311 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:308:14)

  ‚óè EnhancedQuizGenerator ‚Ä∫ templated question generation ‚Ä∫ should handle different user levels

    ReferenceError: defaultOptions is not defined

    [0m [90m 323 |[39m         [35m10[39m[33m,[39m
     [90m 324 |[39m         {
    [31m[1m>[22m[39m[90m 325 |[39m           [33m...[39mdefaultOptions[33m,[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 326 |[39m           userLevel[33m:[39m [32m'beginner'[39m
     [90m 327 |[39m         }
     [90m 328 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:325:14)

  ‚óè EnhancedQuizGenerator ‚Ä∫ templated question generation ‚Ä∫ should handle advanced user level

    ReferenceError: defaultOptions is not defined

    [0m [90m 339 |[39m         [35m10[39m[33m,[39m
     [90m 340 |[39m         {
    [31m[1m>[22m[39m[90m 341 |[39m           [33m...[39mdefaultOptions[33m,[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 342 |[39m           userLevel[33m:[39m [32m'advanced'[39m
     [90m 343 |[39m         }
     [90m 344 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:341:14)

  ‚óè EnhancedQuizGenerator ‚Ä∫ essay question generation ‚Ä∫ should generate essay questions with proper structure

    ReferenceError: defaultOptions is not defined

    [0m [90m 361 |[39m         [35m10[39m[33m,[39m
     [90m 362 |[39m         {
    [31m[1m>[22m[39m[90m 363 |[39m           [33m...[39mdefaultOptions[33m,[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 364 |[39m           includeEssayQuestions[33m:[39m [36mtrue[39m
     [90m 365 |[39m         }
     [90m 366 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:363:14)

  ‚óè EnhancedQuizGenerator ‚Ä∫ essay question generation ‚Ä∫ should handle essay generation failure gracefully

    ReferenceError: defaultOptions is not defined

    [0m [90m 389 |[39m         [35m10[39m[33m,[39m
     [90m 390 |[39m         {
    [31m[1m>[22m[39m[90m 391 |[39m           [33m...[39mdefaultOptions[33m,[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 392 |[39m           includeEssayQuestions[33m:[39m [36mtrue[39m
     [90m 393 |[39m         }
     [90m 394 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:391:14)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle provider returning non-array

    ReferenceError: defaultOptions is not defined

    [0m [90m 408 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 409 |[39m         [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 410 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 411 |[39m       )[33m;[39m
     [90m 412 |[39m
     [90m 413 |[39m       expect(quiz[33m.[39mquestions[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:410:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle provider errors

    ReferenceError: defaultOptions is not defined

    [0m [90m 425 |[39m           [[32m'Objective 1'[39m][33m,[39m
     [90m 426 |[39m           [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 427 |[39m           defaultOptions
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 428 |[39m         )
     [90m 429 |[39m       )[33m.[39mrejects[33m.[39mtoThrow()[33m;[39m
     [90m 430 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:427:11)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle empty objectives array

    ReferenceError: defaultOptions is not defined

    [0m [90m 437 |[39m         [][33m,[39m
     [90m 438 |[39m         [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 439 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 440 |[39m       )[33m;[39m
     [90m 441 |[39m
     [90m 442 |[39m       expect(quiz)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:439:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle very long content

    ReferenceError: defaultOptions is not defined

    [0m [90m 453 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 454 |[39m         [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 455 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 456 |[39m       )[33m;[39m
     [90m 457 |[39m
     [90m 458 |[39m       expect(quiz)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:455:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle zero question count

    ReferenceError: defaultOptions is not defined

    [0m [90m 466 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 467 |[39m         [35m0[39m[33m,[39m
    [31m[1m>[22m[39m[90m 468 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 469 |[39m       )[33m;[39m
     [90m 470 |[39m
     [90m 471 |[39m       expect(quiz[33m.[39mquestions)[33m.[39mtoEqual([])[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:468:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle special characters in topic

    ReferenceError: defaultOptions is not defined

    [0m [90m 482 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 483 |[39m         [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 484 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 485 |[39m       )[33m;[39m
     [90m 486 |[39m
     [90m 487 |[39m       expect(quiz[33m.[39mtitle)[33m.[39mtoContain(specialTopic)[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:484:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ helper methods ‚Ä∫ should calculate time limit correctly for different question types

    ReferenceError: defaultOptions is not defined

    [0m [90m 610 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 611 |[39m         [35m0[39m[33m,[39m [90m// Zero questions to test calculation logic[39m
    [31m[1m>[22m[39m[90m 612 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 613 |[39m       )[33m;[39m
     [90m 614 |[39m
     [90m 615 |[39m       [90m// Mock questions to test time calculation[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:612:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ helper methods ‚Ä∫ should extract concepts from questions correctly

    ReferenceError: defaultOptions is not defined

    [0m [90m 642 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 643 |[39m         [35m2[39m[33m,[39m
    [31m[1m>[22m[39m[90m 644 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 645 |[39m       )[33m;[39m
     [90m 646 |[39m
     [90m 647 |[39m       expect(quiz[33m.[39mmetadata[33m?[39m[33m.[39mconcepts)[33m.[39mtoContain([32m'shadow'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:644:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ helper methods ‚Ä∫ should analyze difficulty distribution correctly

    ReferenceError: defaultOptions is not defined

    [0m [90m 668 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 669 |[39m         [35m2[39m[33m,[39m
    [31m[1m>[22m[39m[90m 670 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 671 |[39m       )[33m;[39m
     [90m 672 |[39m
     [90m 673 |[39m       expect(quiz[33m.[39mmetadata[33m?[39m[33m.[39mdifficultyDistribution[33m?[39m[33m.[39measy)[33m.[39mtoBe([35m1[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:670:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ provider integration ‚Ä∫ should pass correct parameters to provider

    ReferenceError: defaultOptions is not defined

    [0m [90m 685 |[39m         [[32m'Learn concepts'[39m[33m,[39m [32m'Apply knowledge'[39m][33m,[39m
     [90m 686 |[39m         [35m8[39m[33m,[39m
    [31m[1m>[22m[39m[90m 687 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 688 |[39m       )[33m;[39m
     [90m 689 |[39m
     [90m 690 |[39m       expect(mockProvider[33m.[39mgenerateStructuredResponse)[33m.[39mtoHaveBeenCalledWith([0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:687:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ provider integration ‚Ä∫ should handle provider timeout

    ReferenceError: defaultOptions is not defined

    [0m [90m 712 |[39m           [[32m'Objective 1'[39m][33m,[39m
     [90m 713 |[39m           [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 714 |[39m           defaultOptions
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 715 |[39m         )
     [90m 716 |[39m       )[33m.[39mrejects[33m.[39mtoThrow([32m'Timeout'[39m)[33m;[39m
     [90m 717 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:714:11)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

FAIL src/services/llm/generators/__tests__/bibliography-generator.test.ts
  BibliographyGenerator
    generateBibliography
      ‚úì should generate bibliography with proper formatting (16 ms)
      ‚úì should handle English language requests (1 ms)
      ‚úì should handle provider errors gracefully (2 ms)
      ‚úì should handle non-array responses (1 ms)
      ‚úì should handle string entries in response (1 ms)
      ‚úì should set reading level based on provided level (1 ms)
    generateFilmSuggestions
      ‚úì should generate film suggestions with streaming links (1 ms)
      ‚úì should filter out films without any URL
      ‚úì should handle provider errors for films
      ‚úì should handle non-array film responses
    formatCitation
      ‚úì should format APA citation in Portuguese (1 ms)
      ‚úì should format MLA citation in English
      ‚úï should include all available fields in prompt (1 ms)
    generateAnnotatedBibliography
      ‚úì should generate annotations for bibliography entries (1 ms)
      ‚úì should include focus areas and access information in prompt
    suggestReadingOrder
      ‚úì should automatically order by reading level when available (1 ms)
      ‚úì should use LLM ordering when reading levels are missing
      ‚úì should handle invalid indices in LLM response
      ‚úì should return original order on LLM error
      ‚úì should handle non-array order response (1 ms)

  ‚óè BibliographyGenerator ‚Ä∫ formatCitation ‚Ä∫ should include all available fields in prompt

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: StringContaining "Journal: Journal of Analytical Psychology", Any<Object>
    Received: "
    Formate esta entrada bibliogr√°fica no estilo Chicago:¬∑
    Tipo: artigo
    Autores: Jung, Carl Gustav
    T√≠tulo: The Red Book
    Ano: 2009
    Editora: W. W. Norton & Company
    Peri√≥dico: Journal of Analytical Psychology
    Volume: 54
    Edi√ß√£o: 3
    P√°ginas: 345-367
    DOI: 10.1111/j.1468-5922.2009.01793.x
    URL: https://example.com¬∑
    Forne√ßa apenas a cita√ß√£o formatada, nada mais.
    ", {"maxTokens": 200, "temperature": 0.1}

    Number of calls: 1

    [0m [90m 359 |[39m       [36mawait[39m generator[33m.[39mformatCitation(articleEntry[33m,[39m [32m'Chicago'[39m)[33m;[39m
     [90m 360 |[39m
    [31m[1m>[22m[39m[90m 361 |[39m       expect(mockProvider[33m.[39mgenerateCompletion)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 362 |[39m         expect[33m.[39mstringContaining([32m'Journal: Journal of Analytical Psychology'[39m)[33m,[39m
     [90m 363 |[39m         expect[33m.[39many([33mObject[39m)
     [90m 364 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/bibliography-generator.test.ts:361:47)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

FAIL src/services/quiz/__tests__/quizEnhancer.test.ts
  QuizEnhancer
    enhanceQuestions
      ‚úì should enhance questions with all options enabled (3 ms)
      ‚úì should handle empty questions array (1 ms)
      ‚úï should handle null/undefined questions
      ‚úì should work with minimal options
      ‚úì should handle questions without options
      ‚úì should preserve question structure (1 ms)
      ‚úì should handle different question types (2 ms)
      ‚úì should handle very long questions
      ‚úì should handle questions with special characters (1 ms)
    enhancement options
      ‚úì should respect addExplanations option (7 ms)
      ‚úì should respect improveDistractors option (1 ms)
      ‚úì should respect varyQuestionStems option
      ‚úì should respect addReferences option (1 ms)
      ‚úì should respect contextualizeQuestions option
    error handling
      ‚úï should handle invalid enhancement options
      ‚úì should handle undefined enhancement options (1 ms)
      ‚úì should handle empty topic
      ‚úì should handle null topic
      ‚úì should handle malformed questions
      ‚úì should be resilient to concurrent calls (3 ms)
    integration scenarios
      ‚úì should work with real-world quiz scenarios (2 ms)
      ‚úì should handle mixed language content

  ‚óè QuizEnhancer ‚Ä∫ enhanceQuestions ‚Ä∫ should handle null/undefined questions

    TypeError: Cannot read properties of null (reading 'map')

    [0m [90m 31 |[39m   )[33m:[39m [33mPromise[39m[33m<[39m[33mQuestion[39m[][33m>[39m {
     [90m 32 |[39m     [36mreturn[39m [33mPromise[39m[33m.[39mall(
    [31m[1m>[22m[39m[90m 33 |[39m       questions[33m.[39mmap(q [33m=>[39m [36mthis[39m[33m.[39menhanceQuestion(q[33m,[39m topic[33m,[39m options))
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 34 |[39m     )[33m;[39m
     [90m 35 |[39m   }
     [90m 36 |[39m[0m

      at QuizEnhancer.enhanceQuestions (src/services/quiz/quizEnhancer.ts:33:17)
      at Object.<anonymous> (src/services/quiz/__tests__/quizEnhancer.test.ts:70:43)

  ‚óè QuizEnhancer ‚Ä∫ error handling ‚Ä∫ should handle invalid enhancement options

    TypeError: Cannot read properties of null (reading 'varyQuestionStems')

    [0m [90m 45 |[39m     [36mlet[39m enhanced [33m=[39m { [33m...[39mquestion }[33m;[39m
     [90m 46 |[39m
    [31m[1m>[22m[39m[90m 47 |[39m     [36mif[39m (options[33m.[39mvaryQuestionStems) {
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 48 |[39m       enhanced [33m=[39m [36mthis[39m[33m.[39mvaryQuestionStem(enhanced)[33m;[39m
     [90m 49 |[39m     }
     [90m 50 |[39m[0m

      at QuizEnhancer.enhanceQuestion (src/services/quiz/quizEnhancer.ts:47:17)
      at map (src/services/quiz/quizEnhancer.ts:33:31)
          at Array.map (<anonymous>)
      at QuizEnhancer.enhanceQuestions (src/services/quiz/quizEnhancer.ts:33:17)
      at Object.<anonymous> (src/services/quiz/__tests__/quizEnhancer.test.ts:338:43)

FAIL src/utils/contentProcessor.test.ts
  contentProcessor utilities
    processContentForMarkdown
      ‚úï should convert numbered lists to markdown format (1 ms)
      ‚úì should convert bullet points to markdown format (1 ms)
      ‚úï should handle numbered lists with bold titles
      ‚úï should handle bullet lists with bold titles (1 ms)
      ‚úì should add proper spacing between list items
      ‚úï should handle inline numbered lists with capitals
      ‚úï should handle inline bullet lists with capitals (1 ms)
      ‚úì should clean up multiple blank lines (1 ms)
    enhanceListHTML
      ‚úì should return HTML unchanged
    processModuleContent
      ‚úì should handle empty content
      ‚úì should add emphasis to psychological terms (1 ms)
      ‚úì should handle case-insensitive psychological terms
      ‚úì should not double-emphasize already bold terms
      ‚úì should add markdown headers for key concepts
      ‚úì should process lists and add emphasis (1 ms)
      ‚úì should handle multiple psychological terms
    extractKeyTerms
      ‚úì should handle empty content
      ‚úì should extract Jungian terms with definitions
      ‚úì should extract terms case-insensitively (1 ms)
      ‚úì should not duplicate terms
      ‚úì should extract multiple Jungian terms
      ‚úï should extract capitalized terms as potential key terms
      ‚úì should skip common words and short terms
    generateSummary
      ‚úì should handle empty content
      ‚úì should return short content as-is
      ‚úì should clean markdown formatting
      ‚úì should remove list formatting
      ‚úì should prioritize sentences with Jungian keywords (1 ms)
      ‚úì should limit summary length
      ‚úì should handle content with multiple sentences
      ‚úì should end summary properly
      ‚úì should handle links in markdown (1 ms)

  ‚óè contentProcessor utilities ‚Ä∫ processContentForMarkdown ‚Ä∫ should convert numbered lists to markdown format

    expect(received).toBe(expected) // Object.is equality

    - Expected  - 2
    + Received  + 2

    - 1. First item
    + 1. **First item

    - 2. Second item
    + 2. **Second item

    [0m [90m 13 |[39m       [36mconst[39m expected [33m=[39m [32m'1. First item\n\n2. Second item'[39m[33m;[39m
     [90m 14 |[39m       
    [31m[1m>[22m[39m[90m 15 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 16 |[39m     })[33m;[39m
     [90m 17 |[39m
     [90m 18 |[39m     it([32m'should convert bullet points to markdown format'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:15:48)

  ‚óè contentProcessor utilities ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle numbered lists with bold titles

    expect(received).toBe(expected) // Object.is equality

    Expected: "1. **Autoconhecimento:** Understanding yourself"
    Received: "1. ****Autoconhecimento:** Understanding yourself"

    [0m [90m 27 |[39m       [36mconst[39m expected [33m=[39m [32m'1. **Autoconhecimento:** Understanding yourself'[39m[33m;[39m
     [90m 28 |[39m       
    [31m[1m>[22m[39m[90m 29 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 30 |[39m     })[33m;[39m
     [90m 31 |[39m
     [90m 32 |[39m     it([32m'should handle bullet lists with bold titles'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:29:48)

  ‚óè contentProcessor utilities ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle bullet lists with bold titles

    expect(received).toBe(expected) // Object.is equality

    Expected: "* **Shadow Work:** Exploring the unconscious"
    Received: "* **Shadow Work: Exploring the unconscious"

    [0m [90m 34 |[39m       [36mconst[39m expected [33m=[39m [32m'* **Shadow Work:** Exploring the unconscious'[39m[33m;[39m
     [90m 35 |[39m       
    [31m[1m>[22m[39m[90m 36 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 37 |[39m     })[33m;[39m
     [90m 38 |[39m
     [90m 39 |[39m     it([32m'should add proper spacing between list items'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:36:48)

  ‚óè contentProcessor utilities ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle inline numbered lists with capitals

    expect(received).toBe(expected) // Object.is equality

    - Expected  - 2
    + Received  + 2

    - 1. **Shadow**
    + 1. **Shadow

    - 2. **Anima**
    + 2. **Anima

    [0m [90m 49 |[39m       [36mconst[39m expected [33m=[39m [32m'1. **Shadow**\n\n2. **Anima**'[39m[33m;[39m
     [90m 50 |[39m       
    [31m[1m>[22m[39m[90m 51 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 52 |[39m     })[33m;[39m
     [90m 53 |[39m
     [90m 54 |[39m     it([32m'should handle inline bullet lists with capitals'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:51:48)

  ‚óè contentProcessor utilities ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle inline bullet lists with capitals

    expect(received).toBe(expected) // Object.is equality

    - Expected  - 2
    + Received  + 2

    - * **Shadow**
    + * **Shadow

    - * **Anima**
    + * **Anima

    [0m [90m 56 |[39m       [36mconst[39m expected [33m=[39m [32m'* **Shadow**\n\n* **Anima**'[39m[33m;[39m
     [90m 57 |[39m       
    [31m[1m>[22m[39m[90m 58 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 59 |[39m     })[33m;[39m
     [90m 60 |[39m
     [90m 61 |[39m     it([32m'should clean up multiple blank lines'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:58:48)

  ‚óè contentProcessor utilities ‚Ä∫ extractKeyTerms ‚Ä∫ should extract capitalized terms as potential key terms

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 181 |[39m       
     [90m 182 |[39m       [36mconst[39m depthPsychTerm [33m=[39m terms[33m.[39mfind(t [33m=>[39m t[33m.[39mterm [33m===[39m [32m'Depth Psychology'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 183 |[39m       expect(depthPsychTerm)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 184 |[39m       expect(depthPsychTerm[33m?[39m[33m.[39mdefinition)[33m.[39mtoContain([32m'depth psychology'[39m)[33m;[39m
     [90m 185 |[39m     })[33m;[39m
     [90m 186 |[39m[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:183:30)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

FAIL src/utils/__tests__/contentProcessor.extended.test.ts
  contentProcessor utilities - Extended Tests
    processContentForMarkdown
      ‚úï should convert numbered lists with content on new lines (2 ms)
      ‚úï should convert bullet points correctly (2 ms)
      ‚úï should handle mixed list types (1 ms)
      ‚úï should add bold formatting to list items starting with capital letters
      ‚úï should ensure proper spacing between list items (1 ms)
      ‚úì should clean up multiple blank lines
      ‚úï should handle edge cases with empty content
      ‚úì should preserve existing markdown formatting (1 ms)
      ‚úï should handle complex nested structures
    enhanceListHTML
      ‚úì should return HTML unchanged (placeholder function)
      ‚úì should handle empty HTML
    processModuleContent
      ‚úì should return empty string for empty content
      ‚úì should emphasize Jungian psychological terms (4 ms)
      ‚úï should handle case-insensitive term matching (1 ms)
      ‚úì should not double-emphasize already formatted terms (1 ms)
      ‚úì should add structure markers for educational content
      ‚úï should handle complex psychological content
      ‚úì should preserve word boundaries when emphasizing terms
    extractKeyTerms
      ‚úì should return empty array for empty content
      ‚úì should extract basic Jungian terms with definitions
      ‚úì should handle case-insensitive matching (7 ms)
      ‚úì should extract all mentioned Jungian terms (2 ms)
      ‚úï should handle additional capitalized terms
      ‚úì should filter out common words and short terms
      ‚úì should remove duplicate terms
      ‚úì should handle psychology-related compound terms
    generateSummary
      ‚úì should return empty string for empty content
      ‚úì should return full content if under 200 characters (1 ms)
      ‚úì should clean markdown formatting from summary
      ‚úï should prioritize sentences with Jungian keywords (2 ms)
      ‚úì should handle very long content (2 ms)
      ‚úì should preserve sentence order in final summary
      ‚úì should handle content with only one or two sentences
      ‚úì should add ellipsis for truncated summaries (1 ms)
      ‚úì should handle edge cases with punctuation
      ‚úì should give bonus to longer informative sentences
    Edge cases and boundary conditions
      ‚úï should handle null/undefined gracefully
      ‚úì should handle special characters and unicode (1 ms)
      ‚úì should handle extremely long words without breaking
      ‚úì should handle malformed markdown input

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should convert numbered lists with content on new lines

    expect(received).toBe(expected) // Object.is equality

    - Expected  - 2
    + Received  + 3

    - 1. First item
    + 1. **First item
    - 2. Second item
    +
    + 2. **Second item

    [0m [90m 13 |[39m       [36mconst[39m input [33m=[39m [32m`1.\nFirst item\n2.\nSecond item`[39m[33m;[39m
     [90m 14 |[39m       [36mconst[39m expected [33m=[39m [32m`1. First item\n2. Second item`[39m[33m;[39m
    [31m[1m>[22m[39m[90m 15 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 16 |[39m     })[33m;[39m
     [90m 17 |[39m
     [90m 18 |[39m     it([32m'should convert bullet points correctly'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:15:48)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should convert bullet points correctly

    expect(received).toBe(expected) // Object.is equality

    - Expected  - 0
    + Received  + 1

      * Bullet one
    +
      * Bullet two

    [0m [90m 19 |[39m       [36mconst[39m input [33m=[39m [32m`‚Ä¢\nBullet one\n‚Ä¢\nBullet two`[39m[33m;[39m
     [90m 20 |[39m       [36mconst[39m expected [33m=[39m [32m`* Bullet one\n* Bullet two`[39m[33m;[39m
    [31m[1m>[22m[39m[90m 21 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 22 |[39m     })[33m;[39m
     [90m 23 |[39m
     [90m 24 |[39m     it([32m'should handle mixed list types'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:21:48)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle mixed list types

    expect(received).toContain(expected) // indexOf

    Expected substring: "1. First numbered"
    Received string:    "1. **First numbered¬∑
    * Bullet item¬∑
    2. **Second numbered"

    [0m [90m 25 |[39m       [36mconst[39m input [33m=[39m [32m`1. First numbered\n‚Ä¢\nBullet item\n2. Second numbered`[39m[33m;[39m
     [90m 26 |[39m       [36mconst[39m result [33m=[39m processContentForMarkdown(input)[33m;[39m
    [31m[1m>[22m[39m[90m 27 |[39m       expect(result)[33m.[39mtoContain([32m'1. First numbered'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 28 |[39m       expect(result)[33m.[39mtoContain([32m'* Bullet item'[39m)[33m;[39m
     [90m 29 |[39m       expect(result)[33m.[39mtoContain([32m'2. Second numbered'[39m)[33m;[39m
     [90m 30 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:27:22)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should add bold formatting to list items starting with capital letters

    expect(received).toContain(expected) // indexOf

    Expected substring: "**Shadow:** The dark side"
    Received string:    "1. ****Autoconhecimento:** Understanding oneself¬∑
    * **Shadow: The dark side"

    [0m [90m 34 |[39m       [36mconst[39m result [33m=[39m processContentForMarkdown(input)[33m;[39m
     [90m 35 |[39m       expect(result)[33m.[39mtoContain([32m'**Autoconhecimento:** Understanding oneself'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m       expect(result)[33m.[39mtoContain([32m'**Shadow:** The dark side'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 37 |[39m     })[33m;[39m
     [90m 38 |[39m
     [90m 39 |[39m     it([32m'should ensure proper spacing between list items'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:36:22)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should ensure proper spacing between list items

    expect(received).toContain(expected) // indexOf

    Expected substring: "Some text¬∑
    1. First item"
    Received string:    "Some text¬∑
    1. **First item
    More text¬∑
    * Bullet item"

    [0m [90m 40 |[39m       [36mconst[39m input [33m=[39m [32m`Some text\n1. First item\nMore text\n* Bullet item`[39m[33m;[39m
     [90m 41 |[39m       [36mconst[39m result [33m=[39m processContentForMarkdown(input)[33m;[39m
    [31m[1m>[22m[39m[90m 42 |[39m       expect(result)[33m.[39mtoContain([32m'Some text\n\n1. First item'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 43 |[39m       expect(result)[33m.[39mtoContain([32m'More text\n\n* Bullet item'[39m)[33m;[39m
     [90m 44 |[39m     })[33m;[39m
     [90m 45 |[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:42:22)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle edge cases with empty content

    expect(received).toBe(expected) // Object.is equality

    Expected: ""
    Received: "¬∑
    "

    [0m [90m 52 |[39m     it([32m'should handle edge cases with empty content'[39m[33m,[39m () [33m=>[39m {
     [90m 53 |[39m       expect(processContentForMarkdown([32m''[39m))[33m.[39mtoBe([32m''[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 54 |[39m       expect(processContentForMarkdown([32m'\n\n\n'[39m))[33m.[39mtoBe([32m''[39m)[33m;[39m
     [90m    |[39m                                                   [31m[1m^[22m[39m
     [90m 55 |[39m     })[33m;[39m
     [90m 56 |[39m
     [90m 57 |[39m     it([32m'should preserve existing markdown formatting'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:54:51)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle complex nested structures

    expect(received).toContain(expected) // indexOf

    Expected substring: "1. **Main point:**"
    Received string:    "1. ****Main point:** ‚Ä¢ Sub-bullet one
       ‚Ä¢ Sub-bullet two¬∑
    2. **Another point"

    [0m [90m 66 |[39m       [36mconst[39m input [33m=[39m [32m`1. Main point:\n   ‚Ä¢ Sub-bullet one\n   ‚Ä¢ Sub-bullet two\n2. Another point`[39m[33m;[39m
     [90m 67 |[39m       [36mconst[39m result [33m=[39m processContentForMarkdown(input)[33m;[39m
    [31m[1m>[22m[39m[90m 68 |[39m       expect(result)[33m.[39mtoContain([32m'1. **Main point:**'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 69 |[39m       expect(result)[33m.[39mtoContain([32m'* Sub-bullet one'[39m)[33m;[39m
     [90m 70 |[39m     })[33m;[39m
     [90m 71 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:68:22)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processModuleContent ‚Ä∫ should handle case-insensitive term matching

    expect(received).toBeGreaterThanOrEqual(expected)

    Expected: >= 3
    Received:    2

    [0m [90m 102 |[39m       [36mconst[39m result [33m=[39m processModuleContent(input)[33m;[39m
     [90m 103 |[39m       [36mconst[39m shadowCount [33m=[39m (result[33m.[39mmatch([35m/\*\*[Ss]hadow\*\*/g[39m) [33m||[39m [])[33m.[39mlength[33m;[39m
    [31m[1m>[22m[39m[90m 104 |[39m       expect(shadowCount)[33m.[39mtoBeGreaterThanOrEqual([35m3[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 105 |[39m     })[33m;[39m
     [90m 106 |[39m
     [90m 107 |[39m     it([32m'should not double-emphasize already formatted terms'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:104:27)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processModuleContent ‚Ä∫ should handle complex psychological content

    expect(received).toContain(expected) // indexOf

    Expected substring: "**anima**/**animus**"
    Received string:    "The process of **individuation** involves integrating the **shadow**,¬∑
            **anima**/animus, and other **archetypes** from the **collective unconscious**.
            Key Concepts: **Self**, **ego**, **persona**
            Important: This is central to **analytical psychology**"

    [0m [90m 129 |[39m       expect(result)[33m.[39mtoContain([32m'**individuation**'[39m)[33m;[39m
     [90m 130 |[39m       expect(result)[33m.[39mtoContain([32m'**shadow**'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 131 |[39m       expect(result)[33m.[39mtoContain([32m'**anima**/**animus**'[39m)[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 132 |[39m       expect(result)[33m.[39mtoContain([32m'## Key Concepts:'[39m)[33m;[39m
     [90m 133 |[39m       expect(result)[33m.[39mtoContain([32m'**analytical psychology**'[39m)[33m;[39m
     [90m 134 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:131:22)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ extractKeyTerms ‚Ä∫ should handle additional capitalized terms

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 202 |[39m       
     [90m 203 |[39m       [36mconst[39m depthPsych [33m=[39m terms[33m.[39mfind(t [33m=>[39m t[33m.[39mterm [33m===[39m [32m'Depth Psychology'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 204 |[39m       expect(depthPsych)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 205 |[39m       expect(depthPsych[33m?[39m[33m.[39mdefinition)[33m.[39mtoContain([32m'analytical psychology'[39m)[33m;[39m
     [90m 206 |[39m     })[33m;[39m
     [90m 207 |[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:204:26)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ generateSummary ‚Ä∫ should prioritize sentences with Jungian keywords

    expect(received).toContain(expected) // indexOf

    Expected substring: "Individuation"
    Received string:    "Jung developed the concept of the collective unconscious. People have different personalities. The shadow archetype represents our hidden aspects."

    [0m [90m 275 |[39m       expect(summary)[33m.[39mtoContain([32m'collective unconscious'[39m)[33m;[39m
     [90m 276 |[39m       expect(summary)[33m.[39mtoContain([32m'shadow archetype'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 277 |[39m       expect(summary)[33m.[39mtoContain([32m'Individuation'[39m)[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 278 |[39m       expect(summary)[33m.[39mnot[33m.[39mtoContain([32m'Weather'[39m)[33m;[39m
     [90m 279 |[39m       expect(summary)[33m.[39mnot[33m.[39mtoContain([32m'Coffee'[39m)[33m;[39m
     [90m 280 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:277:23)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ Edge cases and boundary conditions ‚Ä∫ should handle null/undefined gracefully

    TypeError: Cannot read properties of null (reading 'replace')

    [0m [90m  9 |[39m   [90m// Process numbered lists[39m
     [90m 10 |[39m   [90m// Match lines that start with number + dot (e.g., "1.", "2.")[39m
    [31m[1m>[22m[39m[90m 11 |[39m   processedContent [33m=[39m processedContent[33m.[39mreplace([35m/^(\d+)\.\s*\n/gm[39m[33m,[39m [32m'$1. '[39m)[33m;[39m
     [90m    |[39m                                       [31m[1m^[22m[39m
     [90m 12 |[39m   
     [90m 13 |[39m   [90m// Process bullet points[39m
     [90m 14 |[39m   [90m// Match lines that start with bullet character[39m[0m

      at processContentForMarkdown (src/utils/contentProcessor.ts:11:39)
      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:348:39)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.error
    Failed to load user progress: Error: Storage error
        at Object.<anonymous> (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/utils/localStorage.test.ts:361:15)
        at /Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-mock/build/index.js:449:39
        at Object.<anonymous> (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-mock/build/index.js:457:13)
        at Object.getItem (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-mock/build/index.js:107:19)
        at loadUserProgress (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/utils/localStorage.ts:16:33)
        at loadModuleProgress (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/utils/localStorage.ts:80:22)
        at Object.<anonymous> (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/utils/localStorage.test.ts:364:40)
        at Promise.then.completed (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-circus/build/run.js:218:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-circus/build/run.js:60:9)
        at _runTestsForDescribeBlock (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-circus/build/run.js:60:9)
        at run (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-runner/build/runTest.js:475:34)
        at Object.worker (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/node_modules/jest-runner/build/testWorker.js:133:12)

    [0m [90m 18 |[39m     [36mreturn[39m [33mJSON[39m[33m.[39mparse(stored)[33m;[39m
     [90m 19 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 20 |[39m     console[33m.[39merror([32m'Failed to load user progress:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 21 |[39m     [36mreturn[39m [36mnull[39m[33m;[39m
     [90m 22 |[39m   }
     [90m 23 |[39m }[0m

      at loadUserProgress (src/utils/localStorage.ts:20:13)
      at loadModuleProgress (src/utils/localStorage.ts:80:22)
      at Object.<anonymous> (src/utils/localStorage.test.ts:364:40)

FAIL src/utils/localStorage.test.ts
  localStorage utilities
    saveUserProgress
      ‚úì should save user progress to localStorage
      ‚úï should handle localStorage errors gracefully
    loadUserProgress
      ‚úì should load user progress from localStorage
      ‚úì should return null if no progress exists (1 ms)
      ‚úï should handle invalid JSON gracefully
      ‚úï should handle localStorage errors gracefully
    clearUserProgress
      ‚úì should remove user progress from localStorage (1 ms)
      ‚úï should handle localStorage errors gracefully
    saveNotes
      ‚úì should save notes to localStorage
      ‚úï should handle localStorage errors gracefully
    loadNotes
      ‚úì should load notes from localStorage
      ‚úì should return empty array if no notes exist (1 ms)
      ‚úï should handle invalid JSON gracefully
    saveModuleProgress
      ‚úì should save module completion
      ‚úì should save module score
      ‚úì should save both completion and score
      ‚úì should not duplicate completed modules
      ‚úï should handle errors gracefully (1 ms)
      ‚úì should update lastAccessed timestamp
    loadModuleProgress
      ‚úì should load module completion status
      ‚úì should return false for uncompleted modules
      ‚úì should handle missing progress
      ‚úï should handle errors gracefully (15 ms)

  ‚óè localStorage utilities ‚Ä∫ saveUserProgress ‚Ä∫ should handle localStorage errors gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Failed to save user progress:", Any<Error>

    Number of calls: 0

    [0m [90m 82 |[39m       saveUserProgress(progress)[33m;[39m
     [90m 83 |[39m
    [31m[1m>[22m[39m[90m 84 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalledWith(
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 85 |[39m         [32m'Failed to save user progress:'[39m[33m,[39m
     [90m 86 |[39m         expect[33m.[39many([33mError[39m)
     [90m 87 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:84:31)

  ‚óè localStorage utilities ‚Ä∫ loadUserProgress ‚Ä∫ should handle invalid JSON gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Failed to load user progress:", Any<Error>

    Number of calls: 0

    [0m [90m 122 |[39m
     [90m 123 |[39m       expect(loaded)[33m.[39mtoBeNull()[33m;[39m
    [31m[1m>[22m[39m[90m 124 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 125 |[39m         [32m'Failed to load user progress:'[39m[33m,[39m
     [90m 126 |[39m         expect[33m.[39many([33mError[39m)
     [90m 127 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:124:31)

  ‚óè localStorage utilities ‚Ä∫ loadUserProgress ‚Ä∫ should handle localStorage errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 136 |[39m
     [90m 137 |[39m       expect(loaded)[33m.[39mtoBeNull()[33m;[39m
    [31m[1m>[22m[39m[90m 138 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 139 |[39m     })[33m;[39m
     [90m 140 |[39m   })[33m;[39m
     [90m 141 |[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:138:31)

  ‚óè localStorage utilities ‚Ä∫ clearUserProgress ‚Ä∫ should handle localStorage errors gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Failed to clear user progress:", Any<Error>

    Number of calls: 0

    [0m [90m 154 |[39m       clearUserProgress()[33m;[39m
     [90m 155 |[39m
    [31m[1m>[22m[39m[90m 156 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 157 |[39m         [32m'Failed to clear user progress:'[39m[33m,[39m
     [90m 158 |[39m         expect[33m.[39many([33mError[39m)
     [90m 159 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:156:31)

  ‚óè localStorage utilities ‚Ä∫ saveNotes ‚Ä∫ should handle localStorage errors gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Failed to save notes:", Any<Error>

    Number of calls: 0

    [0m [90m 193 |[39m       saveNotes([])[33m;[39m
     [90m 194 |[39m
    [31m[1m>[22m[39m[90m 195 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 196 |[39m         [32m'Failed to save notes:'[39m[33m,[39m
     [90m 197 |[39m         expect[33m.[39many([33mError[39m)
     [90m 198 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:195:31)

  ‚óè localStorage utilities ‚Ä∫ loadNotes ‚Ä∫ should handle invalid JSON gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 233 |[39m
     [90m 234 |[39m       expect(loaded)[33m.[39mtoEqual([])[33m;[39m
    [31m[1m>[22m[39m[90m 235 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 236 |[39m     })[33m;[39m
     [90m 237 |[39m   })[33m;[39m
     [90m 238 |[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:235:31)

  ‚óè localStorage utilities ‚Ä∫ saveModuleProgress ‚Ä∫ should handle errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 293 |[39m       saveModuleProgress([32m'module1'[39m[33m,[39m [36mtrue[39m[33m,[39m [35m85[39m)[33m;[39m
     [90m 294 |[39m
    [31m[1m>[22m[39m[90m 295 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 296 |[39m     })[33m;[39m
     [90m 297 |[39m
     [90m 298 |[39m     it([32m'should update lastAccessed timestamp'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:295:31)

  ‚óè localStorage utilities ‚Ä∫ loadModuleProgress ‚Ä∫ should handle errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 365 |[39m
     [90m 366 |[39m       expect(result[33m.[39mcompleted)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 367 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 368 |[39m     })[33m;[39m
     [90m 369 |[39m   })[33m;[39m
     [90m 370 |[39m })[33m;[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:367:31)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

FAIL src/__tests__/App.test.tsx
  App Component
    ‚úï renders without crashing (404 ms)
    ‚úï wraps content with AdminProvider (110 ms)
    ‚úï renders navigation component (86 ms)
    ‚úï initializes user progress from localStorage when available (69 ms)
    ‚úï creates new user progress when localStorage is empty (77 ms)
    ‚úï saves user progress to localStorage on updates (68 ms)
    ‚úï renders main container with correct styling (73 ms)
    ‚úï renders with min-height screen background (48 ms)
    ‚úï includes router with future flags (61 ms)
    ‚úï provides modules from admin context (54 ms)
    ‚úï handles corrupted localStorage gracefully (13 ms)
    ‚úï AppContent receives modules from useAdmin hook (48 ms)
    ‚úï renders Routes component structure (50 ms)
    ‚úï user progress includes all required fields (56 ms)
    ‚úï multiple renders use same user progress (65 ms)

  ‚óè App Component ‚Ä∫ renders without crashing

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:125:11)

  ‚óè App Component ‚Ä∫ wraps content with AdminProvider

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:130:33)

  ‚óè App Component ‚Ä∫ renders navigation component

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:135:11)

  ‚óè App Component ‚Ä∫ initializes user progress from localStorage when available

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:151:11)

  ‚óè App Component ‚Ä∫ creates new user progress when localStorage is empty

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:158:11)

  ‚óè App Component ‚Ä∫ saves user progress to localStorage on updates

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:176:11)

  ‚óè App Component ‚Ä∫ renders main container with correct styling

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:190:33)

  ‚óè App Component ‚Ä∫ renders with min-height screen background

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:197:33)

  ‚óè App Component ‚Ä∫ includes router with future flags

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:205:11)

  ‚óè App Component ‚Ä∫ provides modules from admin context

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:211:11)

  ‚óè App Component ‚Ä∫ handles corrupted localStorage gracefully

    expect(received).not.toThrow()

    Error name:    "SyntaxError"
    Error message: "Unexpected token 'i', \"invalid-json\" is not valid JSON"

        [0m [90m 26 |[39m     [36mconst[39m saved [33m=[39m localStorage[33m.[39mgetItem([32m'jungAppProgress'[39m)[33m;[39m
         [90m 27 |[39m     [36mif[39m (saved) {
        [31m[1m>[22m[39m[90m 28 |[39m       [36mreturn[39m [33mJSON[39m[33m.[39mparse(saved)[33m;[39m
         [90m    |[39m                   [31m[1m^[22m[39m
         [90m 29 |[39m     }
         [90m 30 |[39m     [36mconst[39m newProgress [33m=[39m {
         [90m 31 |[39m       userId[33m:[39m [32m'user-'[39m [33m+[39m [33mDate[39m[33m.[39mnow()[33m,[39m[0m

      at src/App.tsx:28:19
      at mountState (node_modules/react-dom/cjs/react-dom.development.js:16167:20)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:16880:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at AppContent (src/App.tsx:25:51)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at src/__tests__/App.test.tsx:220:24
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:83:11)
      at Object.toThrow (node_modules/expect/build/index.js:382:21)
      at Object.<anonymous> (src/__tests__/App.test.tsx:220:39)
      at Object.<anonymous> (src/__tests__/App.test.tsx:220:39)

  ‚óè App Component ‚Ä∫ AppContent receives modules from useAdmin hook

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:229:11)

  ‚óè App Component ‚Ä∫ renders Routes component structure

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:236:33)

  ‚óè App Component ‚Ä∫ user progress includes all required fields

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:244:11)

  ‚óè App Component ‚Ä∫ multiple renders use same user progress

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:258:31)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üéØ Generation attempt 2/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    ‚úÖ System validation completed. Score: 40/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üéØ Generation attempt 2/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    ‚úÖ System validation completed. Score: 0/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Incomplete Module

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üéØ Generation attempt 2/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    ‚úÖ System validation completed. Score: 30/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    ‚úÖ System validation completed. Score: 40/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üéØ Generation attempt 2/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    ‚úÖ System validation completed. Score: 44/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üéØ Generation attempt 2/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

PASS src/__tests__/integration/errorHandling.test.tsx
  Error Handling and Edge Cases
    Input Validation
      ‚úì should disable generate button for short input (116 ms)
      ‚úì should enable button with valid input (81 ms)
    Advanced Options Edge Cases
      ‚úì should handle invalid time values (95 ms)
      ‚úì should handle empty time input (89 ms)
    Error Handling in Callbacks
      ‚úì should handle errors in onGenerate callback (73 ms)
    Long Input Handling
      ‚úì should handle very long subject input (1101 ms)
      ‚úì should handle long target audience text (1079 ms)
    Prerequisites Edge Cases
      ‚úì should handle no existing modules (26 ms)
      ‚úì should handle many prerequisites (66 ms)
    Component Toggle Combinations
      ‚úì should handle all components disabled (124 ms)
    UI State Management
      ‚úì should maintain state when toggling advanced options (128 ms)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Test Module intro-jung

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üîé Validating module: Test Module incomplete-module

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

PASS src/test-utils/mocks/__tests__/llmProvider.extended.test.ts
  LLM Provider Mock Utilities - Extended Edge Case Tests
    createMockLLMProvider
      ‚úì should create a complete mock provider with all methods (7 ms)
      ‚úì should merge overrides correctly
      ‚úì should handle partial overrides without affecting other methods
      ‚úì should handle null/undefined overrides
      ‚úì should allow custom implementations (1 ms)
    createMockQuestions
      ‚úì should create exact number of questions requested
      ‚úì should create all multiple-choice questions when specified (2 ms)
      ‚úì should create all true-false questions when specified (1 ms)
      ‚úì should create mixed question types by default (1 ms)
      ‚úì should apply single difficulty level when specified (3 ms)
      ‚úì should cycle through difficulties when mixed
      ‚úì should use custom concepts when provided (1 ms)
      ‚úì should cycle through cognitive levels
      ‚úì should handle edge case with empty concepts array (1 ms)
      ‚úì should create valid question IDs (2 ms)
      ‚úì should handle zero questions gracefully
      ‚úì should distribute correct answers evenly for multiple choice (1 ms)
    mockLLMResponses
      ‚úì should contain all expected response templates
      ‚úì should have valid module outline structure (1 ms)
      ‚úì should have valid quiz questions (1 ms)
      ‚úì should have valid mind map structure
      ‚úì should have valid content generation structure (1 ms)
    createMockLLMProviderWithPatterns
      ‚úì should create successful provider pattern
      ‚úì should create failure provider pattern (10 ms)
      ‚úì should create partial response provider pattern (1 ms)
      ‚úì should create slow provider pattern (3001 ms)
      ‚úì should maintain base provider functionality (1 ms)
      ‚úì should handle edge case patterns
    Integration scenarios
      ‚úì should support complex testing scenarios
      ‚úì should support mock chaining
      ‚úì should support conditional responses (1 ms)

  console.log
    ‚úÖ System validation completed. Score: 93/100 (A)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Test Module intro-jung

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üîé Validating module: Test Module incomplete-module

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    ‚úÖ System validation completed. Score: 93/100 (A)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 3 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 1)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

  console.log
    üöÄ Starting AI resource pipeline for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:159:13)

  console.log
    üìä Analyzed dependencies: [
      {
        resourceType: 'quiz',
        requiredFor: [ 'assessment', 'validation' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'mindmap',
        requiredFor: [ 'visualization', 'overview' ],
        dependencies: [ 'module' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'test',
        requiredFor: [ 'quality', 'ci' ],
        dependencies: [ 'module', 'quiz' ],
        priority: 'high',
        autoGenerate: true
      },
      {
        resourceType: 'bibliography',
        requiredFor: [ 'research', 'academic' ],
        dependencies: [ 'module' ],
        priority: 'medium',
        autoGenerate: true
      },
      {
        resourceType: 'config',
        requiredFor: [ 'deployment', 'metadata' ],
        dependencies: [ 'module' ],
        priority: 'low',
        autoGenerate: true
      }
    ]

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:166:15)

  console.log
    üîß Generating 5 resources for module: Test Jung Module

      at AIResourcePipeline.generateRequiredResources (src/services/resourcePipeline/pipeline.ts:260:13)

  console.log
    ‚úÖ Generated test for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 2)

  console.log
    ‚úÖ Generated config for module: Test Jung Module

      at AIResourcePipeline.generateResource (src/services/resourcePipeline/pipeline.ts:329:15)
          at async Promise.all (index 4)

  console.log
    üîç Validating 2 resources for module: Test Jung Module

      at AIResourcePipeline.validateResources (src/services/resourcePipeline/pipeline.ts:495:13)

  console.log
    üîó Linking 2 resources for module: Test Jung Module

      at AIResourcePipeline.linkResources (src/services/resourcePipeline/pipeline.ts:542:13)

  console.log
    ‚úÖ Pipeline complete for module: Test Jung Module

      at AIResourcePipeline.processModule (src/services/resourcePipeline/pipeline.ts:185:15)

PASS src/services/resourcePipeline/__tests__/pipeline.test.ts
  AIResourcePipeline
    Pipeline Initialization
      ‚úì should initialize with default configuration (1 ms)
      ‚úì should initialize with custom configuration
      ‚úì should setup resource dependencies correctly (1 ms)
    Module Processing
      ‚úì should process a module and generate resources (2 ms)
      ‚úì should generate expected resource types (3 ms)
      ‚úì should handle module processing errors gracefully (22 ms)
      ‚úì should respect configuration settings (2 ms)
    Resource Generation
      ‚úì should generate quiz resource (2 ms)
      ‚úì should generate config resource (2 ms)
      ‚úì should generate test resource (2 ms)
      ‚úì should assign quality scores to resources (2 ms)
    Resource Validation
      ‚úì should validate generated resources (3 ms)
      ‚úì should mark validation status correctly (6 ms)
    Resource Linking
      ‚úì should link resources together (2 ms)
      ‚úì should update module content with linked resources (2 ms)
    Event Handling
      ‚úì should emit pipeline events (2 ms)
      ‚úì should emit specific event types (2 ms)
    Error Handling
      ‚úì should handle resource generation failures (1 ms)
      ‚úì should emit error events on failure (1 ms)
    Configuration Updates
      ‚úì should update configuration
      ‚úì should clear completed generations
  PipelineIntegrationHooks
    Hook Registration
      ‚úì should register custom hooks (1 ms)
      ‚úì should unregister hooks
    Hook Execution
      ‚úì should execute pre-generation hooks (502 ms)
      ‚úì should execute post-generation hooks (504 ms)
    Hook Configuration
      ‚úì should update hook configuration (1 ms)
      ‚úì should track active hooks
  PipelineMonitoringService
    Metrics Tracking
      ‚úì should track basic metrics (1 ms)
      ‚úì should update metrics on pipeline events (504 ms)
    Status Tracking
      ‚úì should track pipeline status (1 ms)
      ‚úì should update status on activity (503 ms)
    Alert System
      ‚úì should create alerts for errors (502 ms)
      ‚úì should acknowledge alerts (1 ms)
    Health Checks
      ‚úì should perform health checks (502 ms)
      ‚úì should update health status (1 ms)
    Performance Summary
      ‚úì should provide performance summary
  Integration Tests
    ‚úì should work end-to-end with all components (2 ms)
    ‚úì should handle complex module with all resource types (4 ms)

  console.log
    üéØ Generation attempt 2/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    ‚úÖ System validation completed. Score: 40/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    üéØ Generation attempt 2/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    ‚úÖ System validation completed. Score: 0/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Test Module single-test

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    ‚úÖ System validation completed. Score: 40/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üîé Validating module: Advanced Jungian Concepts

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üîé Validating module: Dream Analysis Techniques

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üéØ Generation attempt 2/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    ‚úÖ System validation completed. Score: 92/100 (A)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

PASS src/services/validation/__tests__/validationSystem.test.ts
  jaqEdu Validation System
    SystemValidator
      ‚úì should validate system successfully (105 ms)
      ‚úì should handle basic validation (54 ms)
    Basic Validation
      ‚úì should handle empty modules gracefully (870 ms)
      ‚úì should validate single module (484 ms)

  console.log
    üé• VideoGenerator.generateVideos called with: {
      topic: 'Sombra',
      concepts: [ 'inconsciente', 'proje√ß√£o' ],
      targetAudience: 'estudantes',
      count: 3,
      language: 'pt-BR'
    }

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:46:13)

  console.log
    About to call generateStructuredResponse with schema: { type: 'array', items: { type: 'string' }, minItems: 6, maxItems: 10 }

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:234:13)

PASS src/components/admin/__tests__/AIModuleGenerator.test.tsx
  AIModuleGenerator
    rendering
      ‚úì should render the module generator form (30 ms)
      ‚úì should display example subjects (5 ms)
      ‚úì should show difficulty options (56 ms)
      ‚úì should show time estimation input (24 ms)
    form interactions
      ‚úì should update subject when typing (61 ms)
      ‚úì should select subject from examples (19 ms)
      ‚úì should change difficulty level (34 ms)
      ‚úì should change time estimation (24 ms)
      ‚úì should toggle quiz inclusion (56 ms)
      ‚úì should toggle video inclusion (51 ms)
      ‚úì should toggle bibliography inclusion (49 ms)
    advanced options
      ‚úì should toggle advanced options visibility (16 ms)
      ‚úì should update target audience (92 ms)
      ‚úì should add prerequisites (48 ms)
      ‚úì should remove prerequisites (60 ms)
    form submission
      ‚úì should call onGenerate with correct config (96 ms)
      ‚úì should not submit with empty subject (12 ms)
      ‚úì should not submit with subject less than 3 characters (25 ms)
      ‚úì should trim subject before submission (63 ms)
      ‚úì should include advanced options in config (167 ms)
      ‚úì should handle generation errors gracefully (48 ms)
    cancel functionality
      ‚úì should call onCancel when cancel button clicked (11 ms)
      ‚úì should call onCancel when X button clicked (28 ms)
    button states
      ‚úì should disable generate button with empty subject (3 ms)
      ‚úì should enable generate button with valid subject (42 ms)
      ‚úì should show sparkles icon on generate button (3 ms)
    keyboard interactions
      ‚úì should submit form on Enter key in subject input (1 ms)
      ‚úì should add prerequisite on Enter key (14 ms)
    visual feedback
      ‚úì should highlight selected difficulty (30 ms)
      ‚úì should show info tooltip for prerequisites (34 ms)

  console.log
    ‚úÖ System validation completed. Score: 31/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    ‚úÖ System validation completed. Score: 18/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

  console.log
    üîç Starting comprehensive system validation...

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:121:13)

  console.log
    üîé Validating module: Introduction to Jungian Psychology

      at SystemValidator.validateModule (src/services/validation/systemValidator.ts:182:13)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)

  console.log
    üîÑ Generating 2 quiz variations...

      at AutomaticQuizOrchestrator.generateQuizVariations (src/services/quiz/automaticQuizOrchestrator.ts:313:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/1...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)
          at async Promise.all (index 0)

  console.log
    üéØ Generation attempt 1/1...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)
          at async Promise.all (index 1)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)
          at async Promise.all (index 0)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)
          at async Promise.all (index 0)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)
          at async Promise.all (index 1)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)
          at async Promise.all (index 1)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/1...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    Generated search queries: [
      'Jung psychology lecture',
      'analytical psychology tutorial',
      'Carl Jung concepts explained',
      'Jungian theory introduction',
      'collective unconscious video',
      'shadow work tutorial',
      'individuation process explained',
      'Jung archetypes lecture'
    ] Type: object Is array: true

      at VideoGenerator.generateSearchQueries (src/services/llm/generators/video-generator.ts:242:13)

  console.log
    üîç Search queries: [
      'Jung psychology lecture',
      'analytical psychology tutorial',
      'Carl Jung concepts explained',
      'Jungian theory introduction',
      'collective unconscious video',
      'shadow work tutorial',
      'individuation process explained',
      'Jung archetypes lecture'
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:67:13)

  console.log
    YouTube Service: Using real API with key: AIzaSyA...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)
          at Array.map (<anonymous>)

  console.log
    Making YouTube API request with key: AIzaSyA...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)
          at Array.map (<anonymous>)

  console.log
    Making YouTube API request with key: AIzaSyA...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)
          at Array.map (<anonymous>)

  console.log
    Making YouTube API request with key: AIzaSyA...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)
          at Array.map (<anonymous>)

  console.log
    üì∫ Found videos: 6 videos

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:82:13)

  console.log
    üì∫ Sample video IDs: [
      {
        id: 'VjZyGfb-LbM',
        title: 'Understanding Jung psychology lecture Through Jungian Analysis'
      },
      {
        id: '7uaJLbm9hBQ',
        title: 'Jung psychology lecture: A Jungian Perspective - Animated'
      },
      {
        id: 'VjZyGfb-LbM',
        title: 'Understanding analytical psychology tutorial Through Jungian Analysis'
      }
    ]

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:83:13)

  console.log
    API Configuration Status:

      at Object.<anonymous> (src/__tests__/integration/apiIntegration.test.ts:133:15)

  console.log
      OpenAI API Key: ‚úÖ Configured

      at Object.<anonymous> (src/__tests__/integration/apiIntegration.test.ts:134:15)

  console.log
      YouTube API Key: ‚úÖ Configured

      at Object.<anonymous> (src/__tests__/integration/apiIntegration.test.ts:135:15)

  console.log
      OpenAI Model: gpt-4o-mini

      at Object.<anonymous> (src/__tests__/integration/apiIntegration.test.ts:136:15)

  console.log
      LLM Provider: openai

      at Object.<anonymous> (src/__tests__/integration/apiIntegration.test.ts:137:15)

PASS src/__tests__/integration/apiIntegration.test.ts
  API Integration Tests
    LLM Provider Tests
      Mock Provider
        ‚úì should generate completion with mock provider (503 ms)
        ‚úì should generate structured response with mock provider (503 ms)
        ‚úì should handle video search queries (502 ms)
        ‚úì should handle section generation (501 ms)
      OpenAI Provider (Mocked)
        ‚úì should create OpenAI provider instance (1 ms)
        ‚úì should estimate token count
        ‚úì should handle availability check
    API Configuration Status
      ‚úì should report API configuration status (4 ms)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: true

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    üéØ Debug: Quiz received from orchestrator: {
      hasQuiz: true,
      questionCount: 1,
      questions: [
        {
          id: 'q-1',
          hasQuestion: true,
          hasOptions: true,
          optionsCount: 4,
          type: 'multiple-choice'
        }
      ]
    }

      at src/hooks/useModuleGenerator.ts:85:19

  console.log
    üéØ Debug: Final module quiz: { hasQuiz: true, finalQuestionCount: 1 }

      at generateAIModule (src/hooks/useModuleGenerator.ts:145:13)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: false

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: true

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: true

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    üéØ Debug: Quiz received from orchestrator: {
      hasQuiz: true,
      questionCount: 1,
      questions: [
        {
          id: 'q-1',
          hasQuestion: true,
          hasOptions: true,
          optionsCount: 4,
          type: 'multiple-choice'
        }
      ]
    }

      at src/hooks/useModuleGenerator.ts:85:19

  console.log
    üéØ Debug: Final module quiz: { hasQuiz: true, finalQuestionCount: 1 }

      at generateAIModule (src/hooks/useModuleGenerator.ts:145:13)

FAIL src/components/notes/__tests__/NoteEditor.test.tsx (8.241 s)
  NoteEditor
    rendering
      ‚úì should render the note editor modal (43 ms)
      ‚úì should render with initial content (4 ms)
      ‚úì should focus on textarea when rendered (3 ms)
      ‚úì should render as a modal overlay (11 ms)
    user interactions
      ‚úì should update content when typing (435 ms)
      ‚úì should save content when save button clicked (202 ms)
      ‚úì should not save empty content (25 ms)
      ‚úì should not save whitespace-only content (96 ms)
      ‚úì should cancel when cancel button clicked (27 ms)
      ‚úì should cancel when X button clicked (61 ms)
      ‚úì should preserve unsaved changes when attempting to save empty content (161 ms)
    button states
      ‚úï should disable save button when content is empty (7 ms)
      ‚úì should enable save button when content is not empty (64 ms)
      ‚úï should disable save button when content becomes empty (7 ms)
    editing existing notes
      ‚úì should load and edit existing content (208 ms)
      ‚úì should preserve initial content on cancel (84 ms)
    keyboard interactions
      ‚úï should handle Tab key in textarea (66 ms)
      ‚úì should handle Enter key for new lines (72 ms)
      ‚úì should handle Ctrl+Enter for save (if implemented) (90 ms)
    content validation
      ‚úì should trim content before saving (101 ms)
      ‚úï should handle very long content (5000 ms)
      ‚úï should handle special characters (176 ms)
      ‚úï should handle unicode and emojis (136 ms)
    accessibility
      ‚úì should have proper ARIA labels (6 ms)
      ‚úï should be keyboard navigable (26 ms)
      ‚úï should announce save button state changes (2 ms)
    visual feedback
      ‚úì should show save icon in save button (1 ms)
      ‚úì should apply focus styles to textarea (1 ms)
      ‚úì should have proper button hover states (2 ms)

  ‚óè NoteEditor ‚Ä∫ button states ‚Ä∫ should disable save button when content is empty

    expect(element).toBeDisabled()

    Received element is not disabled:
      <span />

    [0m [90m 161 |[39m
     [90m 162 |[39m       [36mconst[39m saveButton [33m=[39m screen[33m.[39mgetByText([32m'Salvar'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 163 |[39m       expect(saveButton)[33m.[39mtoBeDisabled()[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 164 |[39m       expect(saveButton)[33m.[39mtoHaveClass([32m'disabled:opacity-50'[39m[33m,[39m [32m'disabled:cursor-not-allowed'[39m)[33m;[39m
     [90m 165 |[39m     })[33m;[39m
     [90m 166 |[39m[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:163:26)

  ‚óè NoteEditor ‚Ä∫ button states ‚Ä∫ should disable save button when content becomes empty

    expect(element).toBeDisabled()

    Received element is not disabled:
      <span />

    [0m [90m 186 |[39m       [36mawait[39m user[33m.[39mclear(textarea)[33m;[39m
     [90m 187 |[39m
    [31m[1m>[22m[39m[90m 188 |[39m       expect(saveButton)[33m.[39mtoBeDisabled()[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 189 |[39m     })[33m;[39m
     [90m 190 |[39m   })[33m;[39m
     [90m 191 |[39m[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:188:26)

  ‚óè NoteEditor ‚Ä∫ keyboard interactions ‚Ä∫ should handle Tab key in textarea

    expect(received).toContain(expected) // indexOf

    Expected substring: "Indented text"
    Received string:    "Line 1"

    [0m [90m 236 |[39m
     [90m 237 |[39m       expect(textarea[33m.[39mvalue)[33m.[39mtoContain([32m'Line 1'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 238 |[39m       expect(textarea[33m.[39mvalue)[33m.[39mtoContain([32m'Indented text'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 239 |[39m     })[33m;[39m
     [90m 240 |[39m
     [90m 241 |[39m     it([32m'should handle Enter key for new lines'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:238:30)

  ‚óè NoteEditor ‚Ä∫ content validation ‚Ä∫ should handle very long content

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 280 |[39m     })[33m;[39m
     [90m 281 |[39m
    [31m[1m>[22m[39m[90m 282 |[39m     it([32m'should handle very long content'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 283 |[39m       [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
     [90m 284 |[39m       render([33m<[39m[33mNoteEditor[39m {[33m...[39mdefaultProps} [33m/[39m[33m>[39m)[33m;[39m
     [90m 285 |[39m[0m

      at src/components/notes/__tests__/NoteEditor.test.tsx:282:5
      at src/components/notes/__tests__/NoteEditor.test.tsx:267:3
      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:11:1)

  ‚óè NoteEditor ‚Ä∫ content validation ‚Ä∫ should handle special characters

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Jung's \"Shadow\" & <Anima> concepts: 100% important! #psychology @carl_jung"
    Received: "AAAJAuAnAgA'AsA A\"ASAhAaAdAoAwA\"A A&A A<AAAnAiAmAaA>A AcAoAnAcAeApAtAsA:A A1A0A0A%A AiAmApAoArAtAaAnAtA!A A#ApAsAyAcAhAoAlAoAgAyA A@AcAaArAlA_AjAuAnAgAAA"

    Number of calls: 1

    [0m [90m 307 |[39m       [36mawait[39m user[33m.[39mclick(saveButton)[33m;[39m
     [90m 308 |[39m
    [31m[1m>[22m[39m[90m 309 |[39m       expect(mockOnSave)[33m.[39mtoHaveBeenCalledWith(specialContent)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 310 |[39m     })[33m;[39m
     [90m 311 |[39m
     [90m 312 |[39m     it([32m'should handle unicode and emojis'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:309:26)

  ‚óè NoteEditor ‚Ä∫ content validation ‚Ä∫ should handle unicode and emojis

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Jung e a sombra üß† Conceitos fundamentais: œàœÖœáŒÆ (psyche) ‚ö°"
    Received: "AAAJAuAnAgA AeA AaA AsAoAmAbArAaA AÔøΩAÔøΩA ACAoAnAcAeAiAtAoAsA AfAuAnAdAaAmAeAnAtAaAiAsA:A AœàAœÖAœáAŒÆA A(ApAsAyAcAhAeA)A A‚ö°AAA"

    Number of calls: 1

    [0m [90m 322 |[39m       [36mawait[39m user[33m.[39mclick(saveButton)[33m;[39m
     [90m 323 |[39m
    [31m[1m>[22m[39m[90m 324 |[39m       expect(mockOnSave)[33m.[39mtoHaveBeenCalledWith(unicodeContent)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 325 |[39m     })[33m;[39m
     [90m 326 |[39m   })[33m;[39m
     [90m 327 |[39m[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:324:26)

  ‚óè NoteEditor ‚Ä∫ accessibility ‚Ä∫ should be keyboard navigable

    expect(received).toBe(expected) // Object.is equality

    - Expected  -  3
    + Received  + 23

    - <span>
    -   Salvar
    - </span>
    + <button
    +   class="text-gray-400 hover:text-gray-600"
    + >
    +   <svg
    +     class="lucide lucide-x w-6 h-6"
    +     fill="none"
    +     height="24"
    +     stroke="currentColor"
    +     stroke-linecap="round"
    +     stroke-linejoin="round"
    +     stroke-width="2"
    +     viewBox="0 0 24 24"
    +     width="24"
    +     xmlns="http://www.w3.org/2000/svg"
    +   >
    +     <path
    +       d="M18 6 6 18"
    +     />
    +     <path
    +       d="m6 6 12 12"
    +     />
    +   </svg>
    + </button>

    [0m [90m 347 |[39m       [90m// The Save button should be focused now[39m
     [90m 348 |[39m       [36mconst[39m saveButton [33m=[39m screen[33m.[39mgetByText([32m'Salvar'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 349 |[39m       expect(document[33m.[39mactiveElement)[33m.[39mtoBe(saveButton)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 350 |[39m     })[33m;[39m
     [90m 351 |[39m
     [90m 352 |[39m     it([32m'should announce save button state changes'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:349:38)

  ‚óè NoteEditor ‚Ä∫ accessibility ‚Ä∫ should announce save button state changes

    expect(element).toHaveAttribute("disabled") // element.hasAttribute("disabled")

    Expected the element to have attribute:
      disabled
    Received:
      null

    [0m [90m 358 |[39m
     [90m 359 |[39m       [90m// Initially disabled[39m
    [31m[1m>[22m[39m[90m 360 |[39m       expect(saveButton)[33m.[39mtoHaveAttribute([32m'disabled'[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 361 |[39m
     [90m 362 |[39m       [90m// Type to enable[39m
     [90m 363 |[39m       [36mawait[39m user[33m.[39mtype(textarea[33m,[39m [32m'Content'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:360:26)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: true

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    üéØ Debug: Final module quiz: { hasQuiz: false, finalQuestionCount: 0 }

      at generateAIModule (src/hooks/useModuleGenerator.ts:145:13)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: true

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    üéØ Debug: Quiz received from orchestrator: {
      hasQuiz: true,
      questionCount: 3,
      questions: [
        {
          id: 'q-1',
          hasQuestion: true,
          hasOptions: false,
          optionsCount: 0,
          type: 'multiple-choice'
        },
        {
          id: 'q-2',
          hasQuestion: true,
          hasOptions: true,
          optionsCount: 0,
          type: 'multiple-choice'
        },
        {
          id: 'q-3',
          hasQuestion: true,
          hasOptions: true,
          optionsCount: 4,
          type: 'multiple-choice'
        }
      ]
    }

      at src/hooks/useModuleGenerator.ts:85:19

  console.log
    üéØ Debug: Final module quiz: { hasQuiz: true, finalQuestionCount: 3 }

      at generateAIModule (src/hooks/useModuleGenerator.ts:145:13)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: true

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    üéØ Debug: Final module quiz: { hasQuiz: false, finalQuestionCount: 0 }

      at generateAIModule (src/hooks/useModuleGenerator.ts:145:13)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/1...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    üö® Creating fallback quiz...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:134:19)

  console.log
    üîÑ Creating fallback quiz with basic questions...

      at AutomaticQuizOrchestrator.createFallbackQuiz (src/services/quiz/automaticQuizOrchestrator.ts:193:13)

  console.log
    üîç Analyzing content for quiz generation...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:62:13)

  console.log
    üéØ Generation attempt 1/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    ‚úÖ System validation completed. Score: 26/100 (F)

      at SystemValidator.validateSystem (src/services/validation/systemValidator.ts:168:15)

FAIL src/services/validation/__tests__/systemValidator.test.ts (8.447 s)
  SystemValidator
    validateSystem
      ‚úï should successfully validate a well-formed module (571 ms)
      ‚úï should return detailed module validation results (246 ms)
      ‚úï should validate content quality (828 ms)
      ‚úï should validate structural integrity (965 ms)
      ‚úï should handle empty module array (482 ms)
      ‚úï should handle module with missing required fields (691 ms)
      ‚úï should detect poor content quality (443 ms)
      ‚úï should validate quiz quality (599 ms)
      ‚úï should validate Jungian concept alignment (758 ms)
      ‚úï should provide recommendations for improvement (868 ms)
      ‚úï should handle multiple modules (563 ms)
      ‚úï should calculate appropriate grades
    validateModuleStructure
      ‚úï should validate all required module fields
      ‚úï should detect missing components
      ‚úï should validate content structure
    analyzeContentQuality
      ‚úï should calculate content metrics correctly (1 ms)
      ‚úï should detect shallow content
      ‚úï should reward comprehensive objectives
    checkJungianAlignment
      ‚úï should detect Jungian concepts
      ‚úï should give low scores to non-Jungian content
    error handling
      ‚úï should handle null or undefined modules
      ‚úï should handle modules with circular references (2 ms)
      ‚úï should handle validation errors gracefully (641 ms)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should successfully validate a well-formed module

    TypeError: Cannot read properties of undefined (reading 'passed')

    [0m [90m 112 |[39m
     [90m 113 |[39m       expect(result)[33m.[39mtoBeDefined()[33m;[39m
    [31m[1m>[22m[39m[90m 114 |[39m       expect(result[33m.[39msummary[33m.[39mpassed)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 115 |[39m       expect(result[33m.[39msummary[33m.[39mscore)[33m.[39mtoBeGreaterThan([35m80[39m)[33m;[39m
     [90m 116 |[39m       expect(result[33m.[39msummary[33m.[39mgrade)[33m.[39mtoMatch([35m/[A-B]/[39m)[33m;[39m
     [90m 117 |[39m       expect(result[33m.[39msummary[33m.[39mvalidModules)[33m.[39mtoBe([35m1[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:114:29)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should return detailed module validation results

    expect(received).toHaveLength(expected)

    Matcher error: received value must have a length property whose value must be a number

    Received has value: undefined

    [0m [90m 122 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([mockValidModule])[33m;[39m
     [90m 123 |[39m
    [31m[1m>[22m[39m[90m 124 |[39m       expect(result[33m.[39mmoduleResults)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 125 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mmoduleId)[33m.[39mtoBe([32m'test-module-1'[39m)[33m;[39m
     [90m 126 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mpassed)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 127 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mcontentQuality)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:124:36)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should validate content quality

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 133 |[39m     it([32m'should validate content quality'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 134 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([mockValidModule])[33m;[39m
    [31m[1m>[22m[39m[90m 135 |[39m       [36mconst[39m contentQuality [33m=[39m result[33m.[39mmoduleResults[[35m0[39m][33m.[39mcontentQuality[33m;[39m
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 136 |[39m
     [90m 137 |[39m       expect(contentQuality[33m.[39mscore)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m
     [90m 138 |[39m       expect(contentQuality[33m.[39mclarity)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:135:50)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should validate structural integrity

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 145 |[39m     it([32m'should validate structural integrity'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 146 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([mockValidModule])[33m;[39m
    [31m[1m>[22m[39m[90m 147 |[39m       [36mconst[39m structural [33m=[39m result[33m.[39mmoduleResults[[35m0[39m][33m.[39mstructuralIntegrity[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 148 |[39m
     [90m 149 |[39m       expect(structural[33m.[39mscore)[33m.[39mtoBeGreaterThan([35m80[39m)[33m;[39m
     [90m 150 |[39m       expect(structural[33m.[39mhasAllComponents)[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:147:46)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should handle empty module array

    TypeError: Cannot read properties of undefined (reading 'passed')

    [0m [90m 158 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([])[33m;[39m
     [90m 159 |[39m
    [31m[1m>[22m[39m[90m 160 |[39m       expect(result[33m.[39msummary[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 161 |[39m       expect(result[33m.[39msummary[33m.[39mscore)[33m.[39mtoBe([35m0[39m)[33m;[39m
     [90m 162 |[39m       expect(result[33m.[39msummary[33m.[39mgrade)[33m.[39mtoBe([32m'F'[39m)[33m;[39m
     [90m 163 |[39m       expect(result[33m.[39msummary[33m.[39mtotalModules)[33m.[39mtoBe([35m0[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:160:29)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should handle module with missing required fields

    TypeError: Cannot read properties of undefined (reading 'passed')

    [0m [90m 174 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([incompleteModule])[33m;[39m
     [90m 175 |[39m
    [31m[1m>[22m[39m[90m 176 |[39m       expect(result[33m.[39msummary[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 177 |[39m       expect(result[33m.[39msummary[33m.[39minvalidModules)[33m.[39mtoBe([35m1[39m)[33m;[39m
     [90m 178 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 179 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39merrors[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:176:29)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should detect poor content quality

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 193 |[39m
     [90m 194 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([poorModule])[33m;[39m
    [31m[1m>[22m[39m[90m 195 |[39m       [36mconst[39m contentQuality [33m=[39m result[33m.[39mmoduleResults[[35m0[39m][33m.[39mcontentQuality[33m;[39m
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 196 |[39m
     [90m 197 |[39m       expect(contentQuality[33m.[39mscore)[33m.[39mtoBeLessThan([35m50[39m)[33m;[39m
     [90m 198 |[39m       expect(contentQuality[33m.[39mclarity)[33m.[39mtoBeLessThan([35m50[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:195:50)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should validate quiz quality

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 222 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([moduleWithPoorQuiz])[33m;[39m
     [90m 223 |[39m
    [31m[1m>[22m[39m[90m 224 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mcontentQuality[33m.[39mquizQuality)[33m.[39mtoBeLessThan([35m50[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 225 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mwarnings)[33m.[39mtoContain([32m'Quiz questions lack depth and clarity'[39m)[33m;[39m
     [90m 226 |[39m     })[33m;[39m
     [90m 227 |[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:224:34)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should validate Jungian concept alignment

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 241 |[39m
     [90m 242 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([nonJungianModule])[33m;[39m
    [31m[1m>[22m[39m[90m 243 |[39m       [36mconst[39m contentQuality [33m=[39m result[33m.[39mmoduleResults[[35m0[39m][33m.[39mcontentQuality[33m;[39m
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 244 |[39m
     [90m 245 |[39m       expect(contentQuality[33m.[39mjungianAlignment)[33m.[39mtoBeLessThan([35m30[39m)[33m;[39m
     [90m 246 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:243:50)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should provide recommendations for improvement

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 254 |[39m       
     [90m 255 |[39m       result[33m.[39mrecommendations[33m.[39mforEach(rec [33m=>[39m {
    [31m[1m>[22m[39m[90m 256 |[39m         expect(rec[33m.[39marea)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 257 |[39m         expect(rec[33m.[39mpriority)[33m.[39mtoMatch([35m/low|medium|high|critical/[39m)[33m;[39m
     [90m 258 |[39m         expect(rec[33m.[39mdescription)[33m.[39mtoBeDefined()[33m;[39m
     [90m 259 |[39m         expect(rec[33m.[39mimpact)[33m.[39mtoBeDefined()[33m;[39m[0m

      at forEach (src/services/validation/__tests__/systemValidator.test.ts:256:26)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:255:30)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should handle multiple modules

    TypeError: Cannot read properties of undefined (reading 'totalModules')

    [0m [90m 270 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem(modules)[33m;[39m
     [90m 271 |[39m
    [31m[1m>[22m[39m[90m 272 |[39m       expect(result[33m.[39msummary[33m.[39mtotalModules)[33m.[39mtoBe([35m3[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 273 |[39m       expect(result[33m.[39mmoduleResults)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m 274 |[39m       expect(result[33m.[39msummary[33m.[39mvalidModules)[33m.[39mtoBe([35m3[39m)[33m;[39m
     [90m 275 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:272:29)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should calculate appropriate grades

    TypeError: _systemValidator.systemValidator.calculateGrade is not a function

    [0m [90m 286 |[39m
     [90m 287 |[39m       [36mfor[39m ([36mconst[39m testCase [36mof[39m testCases) {
    [31m[1m>[22m[39m[90m 288 |[39m         [36mconst[39m grade [33m=[39m (systemValidator [36mas[39m any)[33m.[39mcalculateGrade(testCase[33m.[39mscore)[33m;[39m
     [90m     |[39m                                                [31m[1m^[22m[39m
     [90m 289 |[39m         expect(grade)[33m.[39mtoBe(testCase[33m.[39mexpectedGrade)[33m;[39m
     [90m 290 |[39m       }
     [90m 291 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:288:48)

  ‚óè SystemValidator ‚Ä∫ validateModuleStructure ‚Ä∫ should validate all required module fields

    TypeError: _systemValidator.systemValidator.validateModuleStructure is not a function

    [0m [90m 294 |[39m   describe([32m'validateModuleStructure'[39m[33m,[39m () [33m=>[39m {
     [90m 295 |[39m     it([32m'should validate all required module fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 296 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39mvalidateModuleStructure(mockValidModule)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 297 |[39m
     [90m 298 |[39m       expect(result[33m.[39mhasAllComponents)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 299 |[39m       expect(result[33m.[39mmissingComponents)[33m.[39mtoHaveLength([35m0[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:296:53)

  ‚óè SystemValidator ‚Ä∫ validateModuleStructure ‚Ä∫ should detect missing components

    TypeError: _systemValidator.systemValidator.validateModuleStructure is not a function

    [0m [90m 308 |[39m       }[33m;[39m
     [90m 309 |[39m
    [31m[1m>[22m[39m[90m 310 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39mvalidateModuleStructure(incompleteModule)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 311 |[39m
     [90m 312 |[39m       expect(result[33m.[39mhasAllComponents)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 313 |[39m       expect(result[33m.[39mmissingComponents)[33m.[39mtoContain([32m'quiz'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:310:53)

  ‚óè SystemValidator ‚Ä∫ validateModuleStructure ‚Ä∫ should validate content structure

    TypeError: _systemValidator.systemValidator.validateModuleStructure is not a function

    [0m [90m 326 |[39m       }[33m;[39m
     [90m 327 |[39m
    [31m[1m>[22m[39m[90m 328 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39mvalidateModuleStructure(moduleWithPoorContent)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 329 |[39m
     [90m 330 |[39m       expect(result[33m.[39mcontentStructure)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 331 |[39m       expect(result[33m.[39mscore)[33m.[39mtoBeLessThan([35m50[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:328:53)

  ‚óè SystemValidator ‚Ä∫ analyzeContentQuality ‚Ä∫ should calculate content metrics correctly

    TypeError: _systemValidator.systemValidator.analyzeContentQuality is not a function

    [0m [90m 335 |[39m   describe([32m'analyzeContentQuality'[39m[33m,[39m () [33m=>[39m {
     [90m 336 |[39m     it([32m'should calculate content metrics correctly'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 337 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39manalyzeContentQuality(mockValidModule)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 338 |[39m
     [90m 339 |[39m       expect(result[33m.[39mwordCount)[33m.[39mtoBeGreaterThan([35m100[39m)[33m;[39m
     [90m 340 |[39m       expect(result[33m.[39mreadabilityScore)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:337:53)

  ‚óè SystemValidator ‚Ä∫ analyzeContentQuality ‚Ä∫ should detect shallow content

    TypeError: _systemValidator.systemValidator.analyzeContentQuality is not a function

    [0m [90m 355 |[39m       }[33m;[39m
     [90m 356 |[39m
    [31m[1m>[22m[39m[90m 357 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39manalyzeContentQuality(shallowModule)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 358 |[39m
     [90m 359 |[39m       expect(result[33m.[39mdepth)[33m.[39mtoBeLessThan([35m30[39m)[33m;[39m
     [90m 360 |[39m       expect(result[33m.[39mscore)[33m.[39mtoBeLessThan([35m40[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:357:53)

  ‚óè SystemValidator ‚Ä∫ analyzeContentQuality ‚Ä∫ should reward comprehensive objectives

    TypeError: _systemValidator.systemValidator.analyzeContentQuality is not a function

    [0m [90m 373 |[39m       }[33m;[39m
     [90m 374 |[39m
    [31m[1m>[22m[39m[90m 375 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39manalyzeContentQuality(moduleWithGoodObjectives)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 376 |[39m
     [90m 377 |[39m       expect(result[33m.[39mpedagogicalSoundness)[33m.[39mtoBeGreaterThan([35m85[39m)[33m;[39m
     [90m 378 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:375:53)

  ‚óè SystemValidator ‚Ä∫ checkJungianAlignment ‚Ä∫ should detect Jungian concepts

    TypeError: _systemValidator.systemValidator.checkJungianAlignment is not a function

    [0m [90m 381 |[39m   describe([32m'checkJungianAlignment'[39m[33m,[39m () [33m=>[39m {
     [90m 382 |[39m     it([32m'should detect Jungian concepts'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 383 |[39m       [36mconst[39m concepts [33m=[39m (systemValidator [36mas[39m any)[33m.[39mcheckJungianAlignment(mockValidModule)[33m;[39m
     [90m     |[39m                                                 [31m[1m^[22m[39m
     [90m 384 |[39m
     [90m 385 |[39m       expect(concepts)[33m.[39mtoBeGreaterThan([35m80[39m)[33m;[39m
     [90m 386 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:383:49)

  ‚óè SystemValidator ‚Ä∫ checkJungianAlignment ‚Ä∫ should give low scores to non-Jungian content

    TypeError: _systemValidator.systemValidator.checkJungianAlignment is not a function

    [0m [90m 398 |[39m       }[33m;[39m
     [90m 399 |[39m
    [31m[1m>[22m[39m[90m 400 |[39m       [36mconst[39m concepts [33m=[39m (systemValidator [36mas[39m any)[33m.[39mcheckJungianAlignment(nonJungianModule)[33m;[39m
     [90m     |[39m                                                 [31m[1m^[22m[39m
     [90m 401 |[39m
     [90m 402 |[39m       expect(concepts)[33m.[39mtoBeLessThan([35m20[39m)[33m;[39m
     [90m 403 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:400:49)

  ‚óè SystemValidator ‚Ä∫ error handling ‚Ä∫ should handle null or undefined modules

    TypeError: Cannot read properties of undefined (reading 'passed')

    [0m [90m 408 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([36mnull[39m [36mas[39m any)[33m;[39m
     [90m 409 |[39m
    [31m[1m>[22m[39m[90m 410 |[39m       expect(result[33m.[39msummary[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 411 |[39m       expect(result[33m.[39msummary[33m.[39mscore)[33m.[39mtoBe([35m0[39m)[33m;[39m
     [90m 412 |[39m       expect(result[33m.[39msummary[33m.[39mcriticalIssues)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 413 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:410:29)

  ‚óè SystemValidator ‚Ä∫ error handling ‚Ä∫ should handle modules with circular references

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 421 |[39m       [90m// Should handle gracefully[39m
     [90m 422 |[39m       expect(result)[33m.[39mtoBeDefined()[33m;[39m
    [31m[1m>[22m[39m[90m 423 |[39m       expect(result[33m.[39msummary)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 424 |[39m     })[33m;[39m
     [90m 425 |[39m
     [90m 426 |[39m     it([32m'should handle validation errors gracefully'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:423:30)

  ‚óè SystemValidator ‚Ä∫ error handling ‚Ä∫ should handle validation errors gracefully

    TypeError: Cannot read properties of undefined (reading 'passed')

    [0m [90m 432 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([errorModule])[33m;[39m
     [90m 433 |[39m
    [31m[1m>[22m[39m[90m 434 |[39m       expect(result[33m.[39msummary[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 435 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39merrors[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 436 |[39m     })[33m;[39m
     [90m 437 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:434:29)

  console.log
    ‚úÖ Selected videos: 2

      at VideoGenerator.generateVideos (src/services/llm/generators/video-generator.ts:142:13)

  console.log
    BibliographyGenerator: Calling generateStructuredResponse with prompt snippet: 
    Gere 5 recursos educacionais sobre "Sombra" em psicologia junguiana com LINKS ACESS√çVEIS.
    
    Conceito

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:146:15)

  console.log
    üìä Quiz quality score: 60%

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:109:17)

  console.log
    ‚ö†Ô∏è Quality below threshold, retrying with improvements...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:125:19)

  console.log
    Issues found: []

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:126:19)

  console.log
    üéØ Generation attempt 2/2...

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:88:15)

  console.log
    üìä Quiz quality score: 80%

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:109:17)

  console.log
    ‚úÖ Quality threshold met, using this quiz

      at AutomaticQuizOrchestrator.generateAutomaticQuiz (src/services/quiz/automaticQuizOrchestrator.ts:119:19)

PASS src/__tests__/services/quiz/automaticQuizOrchestrator.test.ts (6.274 s)
  AutomaticQuizOrchestrator
    generateAutomaticQuiz
      ‚úì should generate a quiz successfully with default options (622 ms)
      ‚úì should include analytics with content analysis (610 ms)
      ‚úì should handle different difficulty levels (1217 ms)
      ‚úì should include essay questions when requested (611 ms)
      ‚úì should respect question count limits (1227 ms)
      ‚úì should provide improvement suggestions (615 ms)
    generateQuizVariations
      ‚úì should generate multiple quiz variations (309 ms)
    analyzeQuizPerformance
      ‚úì should analyze user performance correctly
      ‚úì should provide appropriate recommendations based on performance (1 ms)
    error handling
      ‚úì should handle missing content gracefully (308 ms)
      ‚úì should create fallback quiz when generation fails (1 ms)
    quality threshold handling
      ‚úì should retry generation when quality is below threshold (610 ms)

  console.log
    BibliographyGenerator: Received sources: [
      {
        type: 'book',
        authors: [ 'Jung, Carl Gustav' ],
        title: 'Man and His Symbols',
        year: 2016,
        publisher: 'Dell Publishing',
        url: 'https://books.google.com.br/books?id=exemplo123',
        abstract: 'Accessible introduction to fundamental Jungian concepts',
        relevance: 'Essential introductory work for beginners',
        jungianConcepts: [ 'arqu√©tipos', 'inconsciente coletivo', 's√≠mbolos' ],
        readingLevel: 'beginner'
      },
      {
        type: 'article',
        authors: [ 'Silva, Maria' ],
        title: 'The Shadow in Jungian Psychology: A Review',
        year: 2022,
        journal: 'Journal of Analytical Psychology',
        url: 'https://scielo.br/exemplo456',
        abstract: 'Systematic review of the shadow concept',
        relevance: 'Current article with Brazilian perspective',
        jungianConcepts: [ 'sombra', 'proje√ß√£o' ],
        readingLevel: 'intermediate'
      }
    ]

      at BibliographyGenerator.generateBibliography (src/services/llm/generators/bibliography-generator.ts:152:15)

  console.log
    Bibliography test - received: [
      {
        id: 'bib-1753189719320-0',
        type: 'book',
        authors: [ 'Jung, Carl Gustav' ],
        title: 'Man and His Symbols',
        year: 2016,
        publisher: 'Dell Publishing',
        url: 'https://books.google.com.br/books?id=exemplo123',
        abstract: 'Accessible introduction to fundamental Jungian concepts',
        relevance: 'Essential introductory work for beginners',
        jungianConcepts: [ 'arqu√©tipos', 'inconsciente coletivo', 's√≠mbolos' ],
        readingLevel: 'beginner',
        formattedCitation: undefined
      },
      {
        id: 'bib-1753189719320-1',
        type: 'article',
        authors: [ 'Silva, Maria' ],
        title: 'The Shadow in Jungian Psychology: A Review',
        year: 2022,
        journal: 'Journal of Analytical Psychology',
        url: 'https://scielo.br/exemplo456',
        abstract: 'Systematic review of the shadow concept',
        relevance: 'Current article with Brazilian perspective',
        jungianConcepts: [ 'sombra', 'proje√ß√£o' ],
        readingLevel: 'intermediate',
        formattedCitation: undefined
      }
    ]

      at Object.<anonymous> (src/services/__tests__/ai-resources.test.ts:50:13)

  console.log
    First entry type: object

      at Object.<anonymous> (src/services/__tests__/ai-resources.test.ts:51:13)

  console.log
    Entry 0: {
      id: 'bib-1753189719320-0',
      type: 'book',
      authors: [ 'Jung, Carl Gustav' ],
      title: 'Man and His Symbols',
      year: 2016,
      publisher: 'Dell Publishing',
      url: 'https://books.google.com.br/books?id=exemplo123',
      abstract: 'Accessible introduction to fundamental Jungian concepts',
      relevance: 'Essential introductory work for beginners',
      jungianConcepts: [ 'arqu√©tipos', 'inconsciente coletivo', 's√≠mbolos' ],
      readingLevel: 'beginner',
      formattedCitation: undefined
    }

      at forEach (src/services/__tests__/ai-resources.test.ts:54:15)
          at Array.forEach (<anonymous>)

  console.log
    Entry 1: {
      id: 'bib-1753189719320-1',
      type: 'article',
      authors: [ 'Silva, Maria' ],
      title: 'The Shadow in Jungian Psychology: A Review',
      year: 2022,
      journal: 'Journal of Analytical Psychology',
      url: 'https://scielo.br/exemplo456',
      abstract: 'Systematic review of the shadow concept',
      relevance: 'Current article with Brazilian perspective',
      jungianConcepts: [ 'sombra', 'proje√ß√£o' ],
      readingLevel: 'intermediate',
      formattedCitation: undefined
    }

      at forEach (src/services/__tests__/ai-resources.test.ts:54:15)
          at Array.forEach (<anonymous>)

  console.log
    LLM Config loaded: {
      provider: 'openai',
      model: 'gpt-4o-mini',
      hasApiKey: true,
      apiKeyPrefix: 'sk-proj...'
    }

      at ConfigManager.loadConfig (src/services/llm/config.ts:154:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    Progress: initializing - Starting module generation...

      at ModuleGenerationOrchestrator.<anonymous> (src/services/__tests__/ai-resources.test.ts:70:15)

  console.log
    Progress: content - Generating educational content...

      at ModuleGenerationOrchestrator.<anonymous> (src/services/__tests__/ai-resources.test.ts:70:15)

PASS src/__tests__/integration/moduleGeneration.test.tsx
  Module Generation Integration
    Module Generation Flow
      ‚úì should complete full module generation workflow (177 ms)
      ‚úì should handle minimum input requirements (53 ms)
      ‚úì should allow cancellation (37 ms)
    Advanced Options
      ‚úì should handle custom generation options (280 ms)
      ‚úì should handle prerequisite selection (135 ms)
    Example Subjects
      ‚úì should populate subject from examples (62 ms)
      ‚úì should allow editing example subjects (153 ms)
    Component Options
      ‚úì should toggle all component inclusions (154 ms)

  console.log
    Progress: quiz - Creating assessment questions...

      at ModuleGenerationOrchestrator.<anonymous> (src/services/__tests__/ai-resources.test.ts:70:15)

  console.log
    Generated raw questions: [
      {
        question: 'Mock question 1 about Jungian psychology?',
        options: [
          'Correct answer for question 1',
          'Distractor A for question 1',
          'Distractor B for question 1',
          'Distractor C for question 1'
        ],
        correctAnswer: 0,
        explanation: 'This is the explanation for question 1 about Jungian concepts.',
        difficulty: 'easy',
        cognitiveLevel: 'recall'
      },
      {
        question: 'Mock question 2 about Jungian psychology?',
        options: [
          'Correct answer for question 2',
          'Distractor A for question 2',
          'Distractor B for question 2',
          'Distractor C for question 2'
        ],
        correctAnswer: 0,
        explanation: 'This is the explanation for question 2 about Jungian concepts.',
        difficulty: 'medium',
        cognitiveLevel: 'understanding'
      },
      {
        question: 'Mock question 3 about Jungian psychology?',
        options: [
          'Correct answer for question 3',
          'Distractor A for question 3',
          'Distractor B for question 3',
          'Distractor C for question 3'
        ],
        correctAnswer: 0,
        explanation: 'This is the explanation for question 3 about Jungian concepts.',
        difficulty: 'hard',
        cognitiveLevel: 'application'
      },
      {
        question: 'Mock question 4 about Jungian psychology?',
        options: [
          'Correct answer for question 4',
          'Distractor A for question 4',
          'Distractor B for question 4',
          'Distractor C for question 4'
        ],
        correctAnswer: 0,
        explanation: 'This is the explanation for question 4 about Jungian concepts.',
        difficulty: 'easy',
        cognitiveLevel: 'analysis'
      },
      {
        question: 'Mock question 5 about Jungian psychology?',
        options: [
          'Correct answer for question 5',
          'Distractor A for question 5',
          'Distractor B for question 5',
          'Distractor C for question 5'
        ],
        correctAnswer: 0,
        explanation: 'This is the explanation for question 5 about Jungian concepts.',
        difficulty: 'medium',
        cognitiveLevel: 'recall'
      }
    ] Type: object Is array: true

      at QuizGenerator.generateQuestions (src/services/llm/generators/quiz-generator.ts:215:13)

  console.log
    Progress: finalizing - Finalizing module...

      at ModuleGenerationOrchestrator.<anonymous> (src/services/__tests__/ai-resources.test.ts:70:15)

  console.log
    Progress: complete - Module generation complete!

      at ModuleGenerationOrchestrator.<anonymous> (src/services/__tests__/ai-resources.test.ts:70:15)

PASS src/services/__tests__/ai-resources.test.ts
  AI Resource Generation
    ‚úì should generate videos with real YouTube IDs (1018 ms)
    ‚úì should generate bibliography with real URLs (506 ms)
    ‚úì should generate complete module with AI resources (383 ms)

PASS src/components/admin/__tests__/ModulePreview.test.tsx
  ModulePreview
    Basic Rendering
      ‚úì should render module preview header (12 ms)
      ‚úì should render module information in sidebar (7 ms)
      ‚úì should render all sections in sidebar (8 ms)
      ‚úì should render introduction content by default (21 ms)
      ‚úì should have fixed positioning and z-index (5 ms)
    Section Navigation
      ‚úì should expand section when clicked (9 ms)
      ‚úì should highlight expanded section in sidebar (6 ms)
      ‚úì should show multiple expanded sections (11 ms)
      ‚úì should toggle quiz section visibility (8 ms)
    Edit Mode
      ‚úì should show edit button when not editing (4 ms)
      ‚úì should show save and cancel buttons when editing (10 ms)
      ‚úì should call onEdit when edit button clicked (4 ms)
      ‚úì should show regenerate and enhance buttons in edit mode (6 ms)
      ‚úì should enable section editing when clicked in edit mode (13 ms)
      ‚úì should update introduction content (11 ms)
      ‚úì should call onSave when save button clicked (5 ms)
      ‚úì should call onCancel when cancel button clicked (6 ms)
    Section Editing
      ‚úì should update section title and content (11 ms)
      ‚úì should update section content (13 ms)
      ‚úì should exit edit mode when done editing clicked (12 ms)
    Section Regeneration
      ‚úì should call onSectionRegenerate for introduction (7 ms)
      ‚úì should call onSectionRegenerate for section (7 ms)
      ‚úì should show spinning icon while regenerating (1516 ms)
    AI Suggestions Panel
      ‚úì should display AI suggestions (5 ms)
      ‚úì should show correct priority icons (4 ms)
      ‚úì should display suggestion type and target (4 ms)
      ‚úì should close suggestions panel when X clicked (20 ms)
      ‚úì should not show suggestions panel when no suggestions provided (3 ms)
    Additional Features
      ‚úì should display key terms for sections (8 ms)
      ‚úì should display quiz questions with correct answers marked (10 ms)
      ‚úì should handle complex option format in quiz (6 ms)
      ‚úì should call onCancel when X button clicked (13 ms)

  console.log
    Using OpenAI provider with model: gpt-4o-mini

      at Function.getProvider (src/services/llm/provider.ts:351:15)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: true

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    üéØ Debug: Quiz received from orchestrator: {
      hasQuiz: true,
      questionCount: 1,
      questions: [
        {
          id: 'q-1',
          hasQuestion: true,
          hasOptions: true,
          optionsCount: 4,
          type: 'multiple-choice'
        }
      ]
    }

      at src/hooks/useModuleGenerator.ts:85:19

  console.log
    üéØ Debug: Final module quiz: { hasQuiz: true, finalQuestionCount: 1 }

      at generateAIModule (src/hooks/useModuleGenerator.ts:145:13)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: true

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: true

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    üéØ Debug: Final module quiz: { hasQuiz: false, finalQuestionCount: 0 }

      at generateAIModule (src/hooks/useModuleGenerator.ts:145:13)

  console.log
    Verifica√ß√£o de disponibilidade do provedor: true

      at generateAIModule (src/hooks/useModuleGenerator.ts:61:13)

  console.log
    üéØ Debug: Final module quiz: { hasQuiz: false, finalQuestionCount: 0 }

      at generateAIModule (src/hooks/useModuleGenerator.ts:145:13)

PASS src/hooks/__tests__/useModuleGenerator.test.ts
  useModuleGenerator
    Initial State
      ‚úì should initialize with default values (2 ms)
    generateModule
      ‚úì should generate a module successfully (14 ms)
      ‚úì should handle provider unavailability (2 ms)
      ‚úì should handle generation errors (2 ms)
      ‚úì should update generation steps during progress (2 ms)
      ‚úì should create generation steps based on config (2 ms)
      ‚úì should handle quiz generation with malformed data (3 ms)
      ‚úì should extract YouTube ID from various URL formats (2 ms)
    regenerateSection
      ‚úì should regenerate a section (1504 ms)
      ‚úì should do nothing if no module is generated (1 ms)
    updateGeneratedModule
      ‚úì should update the generated module (1 ms)
    reset
      ‚úì should reset all state to initial values (2 ms)
    Edge Cases
      ‚úì should handle error that is not an Error instance (2 ms)
      ‚úì should handle video with duration as object (1 ms)
      ‚úì should handle progress updates for unknown stages (3 ms)

PASS src/pages/admin/__tests__/AdminResources.test.tsx
  AdminResources Component
    ‚úì renders admin resources page with correct title and description (33 ms)
    ‚úì renders tabs for bibliography and films (115 ms)
    ‚úì bibliography tab is active by default (49 ms)
    ‚úì displays all bibliography entries from all modules (11 ms)
    ‚úì displays module association for each bibliography entry (8 ms)
    ‚úì switching to films tab shows film entries (77 ms)
    ‚úì add button text changes based on active tab (135 ms)
    ‚úì search functionality filters bibliography entries (43 ms)
    ‚úì search by author works correctly (30 ms)
    ‚úì module filter works correctly (25 ms)
    ‚úì clicking add book opens add form modal (61 ms)
    ‚úì can fill and submit bibliography form (312 ms)
    ‚úì clicking add film opens film form modal (120 ms)
    ‚úì can cancel adding a resource (129 ms)
    ‚úì deleting bibliography entry shows confirmation and removes it (25 ms)
    ‚úì canceling delete confirmation does not delete item (28 ms)
    ‚úì handles empty resources gracefully (33 ms)
    ‚úì handles modules without bibliography or films arrays (19 ms)
    ‚úì displays correct resource counts (6 ms)

PASS src/components/admin/__tests__/ModuleEditor.test.tsx
  ModuleEditor Component
    ‚úì renders with all form fields (20 ms)
    ‚úì loads module data into form fields (8 ms)
    ‚úì displays sections in the content tab (13 ms)
    ‚úì adds new section (15 ms)
    ‚úì switches between tabs (75 ms)
    ‚úì has save and cancel buttons (5 ms)
    ‚úì updates form fields (9 ms)
    ‚úì calls onSave with updated module data (15 ms)
    ‚úì calls onCancel when cancel button clicked (4 ms)
    ‚úì validates required fields before saving (4 ms)
    ‚úì displays quiz section in content tab (6 ms)
    ‚úì handles difficulty level change (5 ms)
    ‚úì handles estimated time input (14 ms)
    ‚úì preserves module ID when saving (5 ms)
    Section Management
      ‚úì expands and collapses sections (49 ms)
      ‚úì updates section content (26 ms)
      ‚úì deletes section (21 ms)
      ‚úì adds key terms to section (26 ms)
    Videos Tab
      ‚úì displays and manages videos (5 ms)
      ‚úì adds new video (6 ms)
    Resources Tab
      ‚úì displays bibliography (12 ms)
      ‚úì adds new bibliography entry (15 ms)
      ‚úì manages films (8 ms)
    Prerequisites
      ‚úì displays and manages prerequisites (4 ms)
      ‚úì adds prerequisite (10 ms)
      ‚úì removes prerequisite (5 ms)
    Quiz Integration
      ‚úì displays quiz editor in quiz tab (5 ms)
      ‚úì updates quiz data (9 ms)
    Validation
      ‚úì prevents saving with empty title (4 ms)
      ‚úì prevents saving with only whitespace in title (6 ms)
    Icon Selector
      ‚úì updates module icon (4 ms)
    Edge Cases
      ‚úì handles module without videos (5 ms)
      ‚úì handles module without bibliography (5 ms)
      ‚úì handles invalid estimated time input (11 ms)

PASS src/pages/__tests__/TestYouTubeIntegration.test.tsx
  TestYouTubeIntegration Component
    ‚úì renders page header and description (12 ms)
    ‚úì renders input field with default topic (3 ms)
    ‚úì renders tab navigation (3 ms)
    ‚úì switches between tabs (10 ms)
    ‚úì updates topic when input changes (4 ms)
    ‚úì searches YouTube when search button is clicked (46 ms)
    ‚úì displays loading state during search (21 ms)
    ‚úì displays error when search fails (35 ms)
    ‚úì generates AI videos when generate button is clicked (21 ms)
    ‚úì formats video duration correctly (16 ms)
    ‚úì formats view count correctly (22 ms)
    ‚úì opens video player when video is clicked (23 ms)
    ‚úì closes video player when close button is clicked (30 ms)
    ‚úì disables buttons when topic is empty (9 ms)
    ‚úì triggers search on Enter key press (6 ms)
    ‚úì displays metadata badges for generated videos (15 ms)
    ‚úì displays how it works section (3 ms)
    ‚úì logs console messages during operations (14 ms)
    ‚úì handles generate error gracefully (19 ms)

PASS src/components/mindmap/__tests__/InteractiveMindMap.test.tsx
  InteractiveMindMap
    ‚úì renders without crashing (9 ms)
    ‚úì displays correct number of nodes and edges (4 ms)
    ‚úì shows controls when showControls is true (3 ms)
    ‚úì hides controls when showControls is false (3 ms)
    ‚úì shows minimap when showMiniMap is true (3 ms)
    ‚úì hides minimap when showMiniMap is false (2 ms)
    ‚úì handles node click with custom callback (28 ms)
    ‚úì navigates to module page when node clicked without custom callback (77 ms)
    ‚úì changes layout when layout button is clicked (36 ms)
    ‚úì generates and displays study path (19 ms)
    ‚úì clears study path when clear button is clicked (37 ms)
    ‚úì filters nodes by category (17 ms)
    ‚úì handles multiple category selections (37 ms)
    ‚úì renders with selected module (4 ms)
    ‚úì handles sector click in minimap (16 ms)
    ‚úì displays legend with correct categories and difficulties (3 ms)
    ‚úì uses initial layout when provided (3 ms)
    ‚úì renders bottom legend panel (2 ms)
    ‚úì handles empty modules array (2 ms)
    ‚úì updates nodes when modules change (4 ms)

PASS src/pages/admin/__tests__/AdminDashboard.test.tsx
  AdminDashboard Component
    ‚úì renders admin dashboard with correct title and welcome message (48 ms)
    ‚úì displays correct statistics (13 ms)
    ‚úì renders all admin cards with correct information (6 ms)
    ‚úì admin cards are clickable links with correct paths (46 ms)
    ‚úì renders quick action buttons (42 ms)
    ‚úì displays system status with last login information (5 ms)
    ‚úì handles null currentAdmin gracefully (4 ms)
    ‚úì calculates statistics correctly with empty modules (4 ms)
    ‚úì handles modules without videos correctly (8 ms)
    ‚úì hover effects on cards work correctly (33 ms)
    ‚úì renders all icon components correctly (4 ms)

PASS src/components/admin/__tests__/AutomaticQuizGenerator.test.tsx
  AutomaticQuizGenerator Component
    Component Rendering
      ‚úì renders with title and description (17 ms)
      ‚úì renders generation options with default values (7 ms)
      ‚úì shows advanced options when clicked (13 ms)
    Content Preview
      ‚úì displays content preview when content is analyzed (9 ms)
      ‚úì re-analyzes content when props change (7 ms)
    Form Interactions
      ‚úì updates question count (5 ms)
      ‚úì updates difficulty level (4 ms)
      ‚úì toggles essay questions checkbox (4 ms)
      ‚úì updates advanced options (16 ms)
    Quiz Generation
      ‚úì disables generate button when content is missing (4 ms)
      ‚úì generates quiz successfully (1057 ms)
      ‚úì displays generation progress steps (19 ms)
      ‚úì handles generation error (15 ms)
      ‚úì button is disabled during generation (47 ms)
      ‚úì button is disabled without required content (10 ms)
    Analytics
      ‚úì logs analytics when button is clicked (20 ms)
    Options Persistence
      ‚úì maintains options during generation (17 ms)

PASS src/App.test.tsx
  App Component
    ‚úì renders without crashing (5 ms)
    ‚úì initializes user progress from localStorage (2 ms)
    ‚úì creates new user progress if none exists (1 ms)
    ‚úì navigation renders correctly (2 ms)
    Routing and Components
      ‚úì renders all route components correctly (13 ms)
      ‚úì passes correct props to components (1 ms)
    localStorage integration
      ‚úì saves user progress to localStorage on initial render (4 ms)
      ‚úì loads existing progress from localStorage (5 ms)
    AppContent component
      ‚úì initializes with correct state structure (5 ms)
      ‚úì renders main container with correct classes (2 ms)
    App wrapper component
      ‚úì wraps AppContent with AdminProvider (1 ms)
    Component Structure
      ‚úì renders with correct CSS classes (8 ms)
      ‚úì initializes with AdminProvider wrapper (1 ms)
      ‚úì renders navigation component (2 ms)

PASS src/services/llm/__tests__/provider-json-parsing.test.ts
  OpenAIProvider JSON Parsing
    ‚úì should parse JSON wrapped in markdown code blocks (1 ms)
    ‚úì should parse JSON arrays wrapped in code blocks (2 ms)
    ‚úì should parse plain JSON without code blocks
    ‚úì should extract JSON from response with extra text (1 ms)
    ‚úì should retry on parse failures (1005 ms)

PASS src/pages/__tests__/SearchPage.test.tsx
  SearchPage Component
    ‚úì renders search input and placeholder text (4 ms)
    ‚úì searches in module titles (55 ms)
    ‚úì searches in module descriptions (3 ms)
    ‚úì searches in section content (14 ms)
    ‚úì searches in key terms (5 ms)
    ‚úì highlights search matches (20 ms)
    ‚úì displays result count (4 ms)
    ‚úì shows no results message for non-matching search (2 ms)
    ‚úì displays result type badges (3 ms)
    ‚úì shows module context for each result (10 ms)
    ‚úì sorts results by relevance (match count) (3 ms)
    ‚úì clears results when search is cleared (32 ms)
    ‚úì handles case-insensitive search (114 ms)

PASS src/components/admin/__tests__/GenerationProgress.test.tsx
  GenerationProgress
    Basic Rendering
      ‚úì should render all steps (16 ms)
      ‚úì should show the correct status icons (5 ms)
      ‚úì should display step messages when present (3 ms)
      ‚úì should show header with Brain icon and title (3 ms)
      ‚úì should display progress count (6 ms)
      ‚úì should show animated dots for in-progress step (14 ms)
      ‚úì should apply correct styling for different step statuses (4 ms)
    Timer Functionality
      ‚úì should display and update elapsed time (8 ms)
      ‚úì should format time correctly for single digit seconds (4 ms)
      ‚úì should display remaining time estimate (5 ms)
      ‚úì should show 0:00 when elapsed time exceeds estimate (3 ms)
      ‚úì should use default estimated time of 45 seconds when not provided (5 ms)
      ‚úì should clean up timer on unmount (2 ms)
    Cancel Functionality
      ‚úì should show cancel button (16 ms)
      ‚úì should call onCancel directly when no steps are completed (3 ms)
      ‚úì should show confirmation dialog when steps are completed (5 ms)
      ‚úì should show correct completed steps count in confirmation (4 ms)
      ‚úì should call onCancel when confirmed in dialog (12 ms)
      ‚úì should close dialog when choosing to continue (11 ms)
      ‚úì should reset showCancelConfirm state properly (13 ms)
    Progress Bar
      ‚úì should show progress bar with correct percentage (4 ms)
      ‚úì should update progress bar width (2 ms)
      ‚úì should calculate progress correctly for different scenarios (6 ms)
      ‚úì should round progress percentage correctly (2 ms)
    Error State
      ‚úì should display error icon for failed steps (3 ms)
      ‚úì should style error text correctly (2 ms)
    Z-index and Overlay
      ‚úì should render with correct z-index layers (6 ms)
      ‚úì should render cancel confirmation with higher z-index (5 ms)
    Accessibility
      ‚úì should have proper button roles (9 ms)
      ‚úì should have proper dialog structure when confirmation shown (11 ms)

PASS src/components/admin/__tests__/QuizEditor.test.tsx
  QuizEditor Component
    ‚úì renders with quiz title and all questions (5 ms)
    ‚úì displays quiz editor interface (4 ms)
    ‚úì updates quiz title (4 ms)
    ‚úì handles empty quiz (1 ms)
    ‚úì displays questions when quiz exists (2 ms)
    ‚úì quiz has add question button (3 ms)
    ‚úì quiz has delete button (10 ms)
    ‚úì displays question options (22 ms)
    ‚úì displays explanations (15 ms)
    ‚úì calls onUpdate with updated quiz data (12 ms)
    ‚úì creates new quiz when none exists (1 ms)
    ‚úì deletes quiz when delete button clicked (4 ms)
    ‚úì handles quiz with no initial questions (8 ms)
    ‚úì calls onUpdate when title changes (3 ms)
    ‚úì toggles question expansion (31 ms)
    ‚úì toggles question visibility (5 ms)
    ‚úì handles quiz without ID (3 ms)
    Question Management
      ‚úì adds new question when add button clicked (3 ms)
      ‚úì deletes question when delete button clicked (19 ms)
      ‚úì updates question text when edited (13 ms)
    Option Management
      ‚úì updates option text when edited (16 ms)
      ‚úì changes correct answer when radio button clicked (30 ms)
      ‚úì updates explanation text (22 ms)
    Edge Cases
      ‚úì handles questions with string options (10 ms)
      ‚úì preserves question type when updating (7 ms)
      ‚úì handles quiz with many questions (19 ms)

PASS src/utils/auth.test.ts
  auth utilities
    hashPassword
      ‚úì should hash a password with salt (1 ms)
      ‚úì should produce different hashes for different passwords
      ‚úì should produce different hashes for different salts
      ‚úì should produce the same hash for the same password and salt
    generateSalt
      ‚úì should generate a salt of correct length
      ‚úì should generate different salts each time (1 ms)
    verifyPassword
      ‚úì should verify correct password
      ‚úì should reject incorrect password
      ‚úì should reject correct password with wrong salt
    generateToken
      ‚úì should generate a token of default length
      ‚úì should generate a token of specified length
      ‚úì should generate different tokens each time (1 ms)
    createSessionToken
      ‚úì should create a session token with default expiry
      ‚úì should create a session token with custom expiry
    validateSessionToken
      ‚úì should validate a valid token (1 ms)
      ‚úì should reject an expired token
      ‚úì should reject an invalid token format
      ‚úì should reject a token with missing exp field
    browser compatibility
      ‚úì should use btoa/atob when available (1 ms)

PASS src/pages/__tests__/AIDemo.test.tsx
  AIDemo Component
    ‚úì renders page title and main heading (7 ms)
    ‚úì renders how it works section (16 ms)
    ‚úì renders all steps with descriptions (21 ms)
    ‚úì renders features list (7 ms)
    ‚úì renders CTA button with correct link (33 ms)
    ‚úì renders alternative demo link (9 ms)
    ‚úì renders configuration options section (7 ms)
    ‚úì displays API configuration instructions (5 ms)
    ‚úì displays demo mode information (7 ms)
    ‚úì renders all feature icons (10 ms)
    ‚úì renders brain icon in header (3 ms)
    ‚úì renders arrow icon in CTA button (3 ms)
    ‚úì renders step numbers correctly (10 ms)
    ‚úì applies correct styling classes (20 ms)
    ‚úì renders configuration boxes with borders (12 ms)
    ‚úì renders responsive grid layouts (4 ms)
    ‚úì all text content is properly structured (27 ms)

PASS src/pages/admin/__tests__/AdminModules.test.tsx
  AdminModules Component
    ‚úì renders admin modules page with correct title and description (11 ms)
    ‚úì renders add module button (84 ms)
    ‚úì displays all modules with correct information (20 ms)
    ‚úì displays module metadata correctly (12 ms)
    ‚úì difficulty badges have correct styling (14 ms)
    ‚úì expanding module shows additional details (51 ms)
    ‚úì collapsing expanded module hides details (119 ms)
    ‚úì displays prerequisites for modules that have them (62 ms)
    ‚úì clicking add module button opens module editor for new module (94 ms)
    ‚úì clicking edit button opens module editor with existing module (41 ms)
    ‚úì saving edited module updates the modules list (153 ms)
    ‚úì canceling module editor closes it without saving (191 ms)
    ‚úì deleting a module shows confirmation and removes it (50 ms)
    ‚úì canceling delete confirmation does not delete module (44 ms)
    ‚úì handles empty modules list gracefully (15 ms)
    ‚úì creating a new module adds it to the list (245 ms)

PASS src/pages/__tests__/EnhancedMindMapPage.test.tsx
  EnhancedMindMapPage Component
    ‚úì renders main page with title and description (21 ms)
    ‚úì renders interactive mindmap with correct props (6 ms)
    ‚úì renders all module buttons (4 ms)
    ‚úì shows deep dive view when module is clicked (6 ms)
    ‚úì updates header when in deep dive mode (10 ms)
    ‚úì shows breadcrumb navigation in deep dive mode (9 ms)
    ‚úì returns to overview when back button is clicked (12 ms)
    ‚úì returns to overview when breadcrumb is clicked (27 ms)
    ‚úì displays feature info panel (10 ms)
    ‚úì shows API key status when configured (4 ms)
    ‚úì shows demo mode warning when API key is not configured (10 ms)
    ‚úì hides feature info panel in deep dive mode (10 ms)
    ‚úì shows exploration mode indicator in deep dive (8 ms)
    ‚úì displays instruction overlay (7 ms)
    ‚úì uses default modules when none provided (15 ms)
    ‚úì handles module not found gracefully (4 ms)
    ‚úì maintains state when switching between modules (20 ms)

PASS src/utils/__tests__/auth.test.ts
  Auth Utilities
    hashPassword
      ‚úì generates a hash from password and salt (1 ms)
      ‚úì generates same hash for same password and salt
      ‚úì generates different hash for different passwords
      ‚úì generates different hash for different salts
    generateSalt
      ‚úì generates a salt string
      ‚úì generates different salts on each call
      ‚úì generates salt with valid hex characters
    verifyPassword
      ‚úì verifies correct password (1 ms)
      ‚úì rejects incorrect password
      ‚úì rejects correct password with wrong salt
    generateToken
      ‚úì generates token with default length
      ‚úì generates token with custom length
      ‚úì generates different tokens on each call
      ‚úì generates token with alphanumeric characters
    createSessionToken
      ‚úì creates a session token for user
      ‚úì creates different tokens for same user
      ‚úì creates token with custom expiry
      ‚úì encodes user information in token
    validateSessionToken
      ‚úì validates a valid token
      ‚úì returns null for expired token
      ‚úì returns null for invalid token format
      ‚úì returns null for tampered token
      ‚úì validates token expiry correctly (1 ms)

PASS src/pages/__tests__/NotesPage.test.tsx
  NotesPage Component
    ‚úì renders page header and description (39 ms)
    ‚úì displays all notes sorted by timestamp (8 ms)
    ‚úì filters notes by search term (11 ms)
    ‚úì filters notes by module (27 ms)
    ‚úì displays note count correctly (13 ms)
    ‚úì shows empty state when no notes exist (2 ms)
    ‚úì shows appropriate message when no notes match filters (16 ms)
    ‚úì deletes a note when delete button is clicked (9 ms)
    ‚úì opens note editor when edit button is clicked (17 ms)
    ‚úì saves edited note content (11 ms)
    ‚úì cancels note editing (22 ms)
    ‚úì displays tags when present (13 ms)
    ‚úì formats date correctly (14 ms)
    ‚úì handles unknown module gracefully (3 ms)
    ‚úì combines search and module filters (16 ms)

  console.log
    üöÄ Generating complete module for topic: Collective Unconscious

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Collective Unconscious

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Collective Unconscious

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Collective Unconscious

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Collective Unconscious

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

PASS src/pages/__tests__/TestYouTubeAPI.test.tsx
  TestYouTubeAPI Component
    ‚úì renders page header and description (3 ms)
    ‚úì displays test button (9 ms)
    ‚úì shows error when no API key is present (31 ms)
    ‚úì shows loading state while testing API (11 ms)
    ‚úì displays successful API response (22 ms)
    ‚úì displays API error response (58 ms)
    ‚úì handles network fetch error (26 ms)
    ‚úì displays debug information correctly (5 ms)
    ‚úì shows correct debug info when API key is missing (1 ms)
    ‚úì logs API key prefix to console (10 ms)
    ‚úì renders video links correctly (12 ms)
    ‚úì constructs correct API URL (10 ms)
    ‚úì handles unknown error types (13 ms)
    ‚úì resets state before new API test (24 ms)

  console.log
    üöÄ Generating complete module for topic: Collective Unconscious

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Collective Unconscious

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Test Topic

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Quick Topic

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Study Topic

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Research Topic

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Basic Topic

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Advanced Topic

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: advanced

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Test Topic

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Empty Topic

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

PASS src/components/quiz/__tests__/QuizComponent.test.tsx
  QuizComponent
    ‚úì renders quiz title and first question (6 ms)
    ‚úì displays all answer options (5 ms)
    ‚úì shows explanation after selecting an answer (6 ms)
    ‚úì displays correct/incorrect feedback (6 ms)
    ‚úì navigates to next question (6 ms)
    ‚úì completes quiz and shows results (14 ms)
    ‚úì shows previous score if available (8 ms)
    ‚úì disables next button until answer is selected (22 ms)
    ‚úì shows progress bar (12 ms)
    ‚úì allows retaking quiz (18 ms)
    ‚úì shows detailed results for each question (11 ms)

  console.log
    üöÄ Generating complete module for topic: AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Jung & "Complex" <Theory> ÁâπÊÆäÂ≠óÁ¨¶

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Partial Success Topic

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Concurrent Test

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

PASS src/components/__tests__/Navigation.test.tsx
  Navigation Component
    ‚úì renders all navigation links (7 ms)
    ‚úì highlights active link based on current route (13 ms)
    ‚úì shows inactive links with correct styling (8 ms)
    ‚úì shows admin link when not logged in as admin (11 ms)
    ‚úì shows admin controls when logged in as admin (3 ms)
    ‚úì highlights admin link when on admin route (2 ms)
    ‚úì handles logout when logout button is clicked (25 ms)
    ‚úì renders icons for all navigation items (3 ms)
    ‚úì applies responsive classes to navigation items (3 ms)
    ‚úì logo links to dashboard (17 ms)
    ‚úì applies correct icon sizing (2 ms)
    ‚úì admin settings icon shows when not admin (10 ms)
    ‚úì logout icon shows when admin (14 ms)
    ‚úì navigation has correct container and layout classes (4 ms)
    ‚úì all navigation links have correct transition classes (10 ms)
    ‚úì handles navigation for enhanced mindmap (2 ms)

  console.log
    üìä Detected difficulty level: beginner

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:145:17)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

PASS src/pages/__tests__/ModulePage.test.tsx
  ModulePage Component
    ‚úì renders module content correctly (13 ms)
    ‚úì displays module icon and metadata (5 ms)
    ‚úì shows content tab by default (13 ms)
    ‚úì switches between tabs correctly (13 ms)
    ‚úì displays key terms in content sections (23 ms)
    ‚úì opens note editor when Add Note is clicked (9 ms)
    ‚úì saves note correctly (32 ms)
    ‚úì handles quiz completion (15 ms)
    ‚úì tracks time spent on module (15 ms)
    ‚úì handles non-existent module gracefully (2 ms)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    üöÄ Generating complete module for topic: Metadata Test

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:126:13)

  console.log
    üìö Generating module structure...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:132:15)

  console.log
    üß† Generating mind map...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:151:17)

  console.log
    ‚ùì Generating quiz...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:163:17)

  console.log
    üé• Searching for educational videos...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:186:17)

  console.log
    üìñ Generating bibliography...

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:201:17)

  console.log
    ‚úÖ Module generation complete! Included: module, mindMap, quiz, bibliography

      at UnifiedModuleGenerator.generateCompleteModule (src/services/moduleGeneration/index.ts:237:15)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: false,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

PASS src/pages/admin/__tests__/AdminLogin.test.tsx
  AdminLogin Component
    ‚úì renders login form with all elements (33 ms)
    ‚úì shows error message for invalid credentials (43 ms)
    ‚úì successfully logs in with valid credentials (16 ms)
    ‚úì form validation requires both fields (4 ms)
    ‚úì password field is of type password (2 ms)
    ‚úì clears error message when user types (16 ms)
    ‚úì displays icons in input fields (9 ms)
    ‚úì form prevents default submission (8 ms)
    ‚úì updates input values on change (11 ms)
    ‚úì shows security notice with proper styling (7 ms)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚úÖ AI-generated bibliography entries: 1

      at ModuleGenerationOrchestrator.generateBibliography (src/services/llm/orchestrator.ts:460:15)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚úÖ AI-generated bibliography entries: 1

      at ModuleGenerationOrchestrator.generateBibliography (src/services/llm/orchestrator.ts:460:15)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

PASS src/services/moduleGeneration/__tests__/unifiedModuleGenerator.test.ts
  UnifiedModuleGenerator
    constructor
      ‚úì should initialize all services correctly (1 ms)
      ‚úì should handle missing API key (6 ms)
    generateCompleteModule
      ‚úì should generate complete module with all components (15 ms)
      ‚úì should auto-detect difficulty when not provided (2 ms)
      ‚úì should handle individual component generation failures gracefully (14 ms)
      ‚úì should respect component inclusion flags (2 ms)
      ‚úì should handle complete generation failure (17 ms)
      ‚úì should use custom quiz question count (3 ms)
      ‚úì should enhance quiz questions when quiz is generated (2 ms)
    generateCustomModule
      ‚úì should generate module with specific components only (3 ms)
    preset generation methods
      generateQuickModule
        ‚úì should generate module with quick settings (5 ms)
      generateStudyModule
        ‚úì should generate comprehensive study module (17 ms)
      generateResearchModule
        ‚úì should generate research-focused module (3 ms)
    private method testing through public interface
      difficulty analysis
        ‚úì should detect beginner content (9 ms)
        ‚úì should detect advanced content (2 ms)
    error handling and edge cases
      ‚úì should handle null quiz response (2 ms)
      ‚úì should handle empty module sections (2 ms)
      ‚úì should handle very long topic names (11 ms)
      ‚úì should handle special characters in topic (12 ms)
    integration scenarios
      ‚úì should handle partial success scenario (15 ms)
      ‚úì should handle concurrent component generation (61 ms)
    metadata generation
      ‚úì should include all metadata fields (2 ms)
  UnifiedModuleGenerator - Singleton
    ‚úì should export singleton instance (1 ms)

  console.log
    LLM Orchestrator initialized: {
      provider: 'mock',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: false,
      useRealServices: false
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

PASS src/services/llm/__tests__/orchestrator.test.ts
  ModuleGenerationOrchestrator
    Constructor
      ‚úì should initialize with mock provider when useRealServices is false (30 ms)
      ‚úì should initialize with OpenAI provider when config has API key (4 ms)
      ‚úì should initialize with mock provider when no API key is available (3 ms)
      ‚úì should initialize all generators (1 ms)
    generateModule
      ‚úì should generate a complete module with all components (7 ms)
      ‚úì should handle generation without optional components (2 ms)
      ‚úì should emit error progress on failure (16 ms)
      ‚úì should extract Jungian concepts from content (3 ms)
    extractYouTubeId
      ‚úì should extract YouTube ID from various URL formats (2 ms)
    analyzeDifficulty
      ‚úì should analyze content difficulty correctly (3 ms)
      ‚úì should consider technical terms in difficulty analysis (2 ms)
    checkProviderAvailability
      ‚úì should return true when provider is available (1 ms)
      ‚úì should return false when provider is not available (1 ms)
      ‚úì should return false when provider throws error (1 ms)
    estimateTokenUsage
      ‚úì should estimate token usage based on options (5 ms)
      ‚úì should return base estimate for minimal options (2 ms)
  LLMOrchestrator
    generateModule
      ‚úì should generate module with default options (2 ms)
      ‚úì should generate module with custom options (2 ms)
    generateQuiz
      ‚úì should generate quiz with specified options (1 ms)
    generateBibliography
      ‚úì should generate bibliography with default count (2 ms)
      ‚úì should generate bibliography with custom count (3 ms)

PASS src/components/modules/__tests__/VideoPlayer.test.tsx
  VideoPlayer Component
    ‚úì renders video player with title and description (4 ms)
    ‚úì displays video duration (3 ms)
    ‚úì renders YouTube player with correct video ID (3 ms)
    ‚úì formats duration correctly for different times (7 ms)
    ‚úì renders YouTube player component (2 ms)
    ‚úì handles videos without description (1 ms)
    ‚úì renders with responsive aspect ratio (1 ms)

PASS src/pages/__tests__/BibliographyPage.test.tsx
  BibliographyPage Component
    ‚úì renders page title and description (11 ms)
    ‚úì displays tabs for books and films (5 ms)
    ‚úì shows count badges for each tab (4 ms)
    ‚úì displays bibliography items by default (5 ms)
    ‚úì switches to films tab when clicked (18 ms)
    ‚úì displays appropriate icons for different types (3 ms)
    ‚úì shows external link for resources with URLs (5 ms)
    ‚úì shows trailer link for films (5 ms)
    ‚úì sorts items by year (newest first) (4 ms)
    ‚úì displays recommended starting points (18 ms)
    ‚úì handles empty bibliography gracefully (2 ms)
    ‚úì removes duplicate entries (3 ms)
    ‚úì highlights active tab (9 ms)

PASS src/pages/__tests__/Dashboard.test.tsx
  Dashboard Component
    ‚úì renders welcome message (10 ms)
    ‚úì displays progress and study information correctly (17 ms)
    ‚úì renders all modules with completion status (10 ms)
    ‚úì indicates locked modules with prerequisites (8 ms)

PASS src/components/common/__tests__/ErrorBoundary.test.tsx
  ErrorBoundary Component
    ‚úì renders children when there is no error (3 ms)
    ‚úì catches errors and displays fallback UI (29 ms)
    ‚úì displays custom fallback when provided (2 ms)
    ‚úì calls onError callback when error occurs (3 ms)
    ‚úì resets error boundary when reset button is clicked (3 ms)
    ‚úì shows error details in development mode (4 ms)
    ‚úì hides error details in production mode (8 ms)
    ‚úì resets when resetKeys change (4 ms)
    ‚úì resets when children change and resetOnPropsChange is true (3 ms)
    ‚úì does not reset when children change and resetOnPropsChange is false (3 ms)
    ‚úì handles multiple errors correctly (5 ms)
    ‚úì maintains error state across rerenders (9 ms)
    ‚úì renders error icon correctly (4 ms)
    ‚úì applies correct styling to fallback UI (2 ms)
    ‚úì handles errors from async components (2 ms)
    ‚úì componentDidCatch logs in development (3 ms)
    ‚úì does not log in production (3 ms)

PASS src/pages/__tests__/MindMapPage.test.tsx
  MindMapPage Component
    ‚úì renders mind map title and description (4 ms)
    ‚úì renders ReactFlow component (3 ms)
    ‚úì includes controls and minimap (2 ms)
    ‚úì displays legend for node types (1 ms)
    ‚úì creates nodes for all modules (1 ms)
    ‚úì applies correct styling to container (2 ms)
    ‚úì legend shows color indicators (1 ms)

PASS src/contexts/__tests__/useAdmin.test.tsx
  useAdmin Hook
    Hook Usage
      ‚úì should throw error when used outside AdminProvider (41 ms)
      ‚úì should return context when used within AdminProvider (1 ms)
    Initial State
      ‚úì should initialize with default values (1 ms)
      ‚úì should load modules from localStorage if available (1 ms)
      ‚úì should load mindmap data from localStorage if available
      ‚úì should restore valid session from localStorage (1 ms)
      ‚úì should clear invalid session from localStorage (1 ms)
    Login
      ‚úì should login successfully with correct credentials (4 ms)
      ‚úì should login successfully with legacy password (2 ms)
      ‚úì should fail login with incorrect username (1 ms)
      ‚úì should fail login with incorrect password (1 ms)
    Logout
      ‚úì should logout successfully (4 ms)
    Update Functions
      ‚úì should update modules and persist to localStorage (6 ms)
      ‚úì should update mindmap and persist to localStorage (3 ms)
    State Persistence
      ‚úì should maintain state across re-renders (3 ms)
      ‚úì should update localStorage when modules change (3 ms)
    Edge Cases
      ‚úì should handle malformed localStorage data gracefully (1 ms)
      ‚úì should handle empty arrays in updates (3 ms)
      ‚úì should not store password in currentAdmin (3 ms)

PASS src/__tests__/services/bibliography/bibliographyEnricher.extended.test.ts
  BibliographyEnricher Extended Tests
    formatters
      APA formatter
        ‚úì should format single author book correctly
        ‚úì should format multiple authors article correctly (1 ms)
        ‚úì should format two authors correctly
        ‚úì should format film reference correctly
        ‚úì should format chapter reference correctly
        ‚úì should handle missing data gracefully (5 ms)
      MLA formatter
        ‚úì should format single author book correctly
        ‚úì should format multiple authors article correctly
        ‚úì should format two authors correctly (1 ms)
        ‚úì should format film reference correctly
        ‚úì should handle missing issue number
        ‚úì should handle unknown type with fallback format
      Chicago formatter
        ‚úì should format book correctly
        ‚úì should format article correctly
        ‚úì should handle missing data gracefully
        ‚úì should handle unknown type with fallback format
    enrichReference
      ‚úì should assess reading level correctly for beginner titles (1 ms)
      ‚úì should assess reading level for Memories, Dreams, Reflections
      ‚úì should assess reading level for practical and introduction categories
      ‚úì should assess advanced level for specific Collected Works
      ‚úì should assess scholar level for Red Book and Black Books (1 ms)
      ‚úì should assess scholar level for academic articles
      ‚úì should calculate topic relevance scores correctly
      ‚úì should find prerequisites correctly (1 ms)
      ‚úì should find prerequisites for advanced works
      ‚úì should find related references based on shared categories
      ‚úì should calculate relevance score with reading level preference
      ‚úì should handle references without prerequisites
      ‚úì should generate all citation formats
    generateBibliography
      ‚úì should filter by include types (2 ms)
      ‚úì should filter by exclude types (2 ms)
      ‚úì should filter by year range (1 ms)
      ‚úì should filter by reading level (2 ms)
      ‚úì should sort by year (9 ms)
      ‚úì should sort by reading level (2 ms)
      ‚úì should sort by title alphabetically (10 ms)
      ‚úì should sort by relevance by default (2 ms)
      ‚úì should limit results correctly (1 ms)
      ‚úì should handle empty options (2 ms)
      ‚úì should combine multiple filters (1 ms)
    generateReadingPath
      ‚úì should generate reading paths for a topic (4 ms)
      ‚úì should include appropriate descriptions (8 ms)
      ‚úì should include scholar path when available (4 ms)
      ‚úì should filter out empty paths (3 ms)
      ‚úì should sort references by relevance within each path (4 ms)
    exportBibliography
      ‚úì should export in APA format
      ‚úì should export in MLA format
      ‚úì should export in Chicago format (3 ms)
      ‚úì should export in BibTeX format (1 ms)
      ‚úì should handle missing fields in BibTeX export
      ‚úì should join multiple authors with "and" in BibTeX
      ‚úì should default to APA format

PASS src/pages/__tests__/MiniMapDemo.test.tsx
  MiniMapDemo Component
    ‚úì renders page title (4 ms)
    ‚úì renders "What's New" section (2 ms)
    ‚úì renders all feature descriptions (4 ms)
    ‚úì renders InteractiveMindMap with correct props (3 ms)
    ‚úì renders usage instructions section (2 ms)
    ‚úì renders all usage steps (9 ms)
    ‚úì applies correct styling classes to sections (4 ms)
    ‚úì renders ordered list for usage instructions (8 ms)
    ‚úì sets correct height for mindmap container (3 ms)
    ‚úì uses proper semantic HTML structure (8 ms)
    ‚úì renders with proper container constraints (2 ms)
    ‚úì all text content is properly formatted (2 ms)
    ‚úì page has proper background styling (7 ms)

PASS src/components/__tests__/MiniMapSector.test.tsx
  MiniMapSector Component
    Rendering
      ‚úì renders sectors with correct visual elements (6 ms)
    User Interactions
      ‚úì handles sector click when onSectorClick is provided (2 ms)
      ‚úì does not handle click when onSectorClick is not provided (5 ms)
      ‚úì shows pointer cursor when onSectorClick is provided (3 ms)
      ‚úì handles multiple sector clicks (2 ms)
    Edge Cases
      ‚úì handles empty sectors array gracefully (1 ms)
  ModuleNode Component
    Rendering
      ‚úì renders node with correct label (1 ms)
      ‚úì renders module info when provided (3 ms)
      ‚úì renders category badge when provided (1 ms)
      ‚úì renders handles for connections (1 ms)
      ‚úì applies correct styling from data (2 ms)
      ‚úì renders difficulty indicator (1 ms)
    Props Handling
      ‚úì handles missing optional properties (1 ms)
      ‚úì uses default colors when not provided (1 ms)
      ‚úì handles unknown difficulty levels (5 ms)
    Accessibility
      ‚úì provides semantic structure for screen readers (1 ms)
      ‚úì text content is readable (2 ms)
  MiniMapLegend Component
    Rendering
      ‚úì renders categories section (7 ms)
      ‚úì renders difficulties section (3 ms)
      ‚úì applies correct positioning styles (2 ms)
      ‚úì renders color indicators for categories (2 ms)
      ‚úì renders color indicators for difficulties (1 ms)
    Edge Cases
      ‚úì handles empty categories array (1 ms)
      ‚úì handles empty difficulties array (2 ms)
      ‚úì handles categories with long names (1 ms)
    Styling
      ‚úì applies correct background and border styles (1 ms)
      ‚úì uses appropriate font sizes (1 ms)
  getDifficultyColor Utility
    ‚úì returns correct colors for valid difficulty levels (1 ms)
    ‚úì returns default color for invalid inputs

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

PASS src/components/common/__tests__/LoadingSpinner.test.tsx
  LoadingSpinner Component
    ‚úì renders with default props (2 ms)
    ‚úì renders with small size (1 ms)
    ‚úì renders with medium size (1 ms)
    ‚úì renders with large size
    ‚úì renders with secondary color (1 ms)
    ‚úì renders with white color
    ‚úì renders with custom className (1 ms)
    ‚úì renders with loading text (1 ms)
    ‚úì does not render text when not provided
    ‚úì renders in fullscreen mode (1 ms)
    ‚úì renders normally when fullScreen is false
    ‚úì combines all props correctly (1 ms)
    ‚úì renders SVG with correct attributes (1 ms)
    ‚úì handles invalid color prop gracefully (1 ms)
    ‚úì text inherits color from spinner

PASS src/contexts/__tests__/AdminContext.test.tsx
  AdminContext
    ‚úì provides default values when not logged in (2 ms)
    ‚úì successful login with valid credentials (6 ms)
    ‚úì failed login with invalid credentials (3 ms)
    ‚úì logout clears admin state (7 ms)
    ‚úì persists modules to localStorage (4 ms)
    ‚úì persists mind map to localStorage (2 ms)
    ‚úì loads saved modules from localStorage (1 ms)
    ‚úì loads saved mind map from localStorage (1 ms)
    ‚úì restores session from valid token (4 ms)
    ‚úì ignores expired session token (2 ms)
    ‚úì throws error when useAdmin used outside provider (23 ms)

  console.log
    Generated raw questions: [
      {
        question: 'Basic question',
        options: [ 'A', 'B', 'C', 'D' ],
        correctAnswer: 0,
        explanation: 'Basic explanation',
        difficulty: 'medium',
        cognitiveLevel: 'understanding'
      }
    ] Type: object Is array: true

      at EnhancedQuizGenerator.generateQuestions (src/services/llm/generators/quiz-generator.ts:215:13)

  console.log
    Generated raw questions: [] Type: object Is array: true

      at EnhancedQuizGenerator.generateQuestions (src/services/llm/generators/quiz-generator.ts:215:13)

  console.log
    Generated raw questions: null Type: object Is array: false

      at EnhancedQuizGenerator.generateQuestions (src/services/llm/generators/quiz-generator.ts:215:13)

PASS src/components/__tests__/AIGeneratedFooter.test.tsx
  AIGeneratedFooter
    ‚úì should render with default text (2 ms)
    ‚úì should render sparkles icon (1 ms)
    ‚úì should apply custom className
    ‚úì should have default styling classes (1 ms)
    ‚úì should maintain proper structure (1 ms)

  console.log
    üîß Fixing question 1 with issues: [
      'Q1: Distractor "Op√ß√£o A" is too short',
      'Q1: Distractor "Op√ß√£o C" is too short',
      'Q1: Distractor "Op√ß√£o D" is too short',
      'Q1: Not enough plausible distractors related to psychology'
    ]

      at EnhancedQuizGenerator.fixValidationIssues (src/services/llm/generators/quiz-generator.ts:400:19)

  console.log
    ‚úÖ Successfully fixed question 1

      at EnhancedQuizGenerator.fixValidationIssues (src/services/llm/generators/quiz-generator.ts:414:23)

  console.log
    üîß Fixing question 2 with issues: [
      'Q2: Distractor "Op√ß√£o B" is too short',
      'Q2: Distractor "Op√ß√£o C" is too short',
      'Q2: Distractor "Op√ß√£o D" is too short',
      'Q2: Not enough plausible distractors related to psychology'
    ]

      at EnhancedQuizGenerator.fixValidationIssues (src/services/llm/generators/quiz-generator.ts:400:19)

  console.log
    ‚úÖ Successfully fixed question 2

      at EnhancedQuizGenerator.fixValidationIssues (src/services/llm/generators/quiz-generator.ts:414:23)

PASS src/__tests__/services/quiz/enhancedQuizGenerator.test.ts
  EnhancedQuizGenerator
    generateEnhancedQuiz
      ‚úì should generate enhanced quiz with specified parameters (3 ms)
      ‚úì should use templates when enabled (2 ms)
      ‚úì should generate questions for specific concepts
      ‚úì should include essay questions when enabled (1 ms)
      ‚úì should adapt difficulty based on user level (1 ms)
    generateQuiz (base method)
      ‚úì should generate basic quiz (14 ms)
    error handling
      ‚úì should handle generation failures (5 ms)
      ‚úì should handle invalid parameters gracefully (1 ms)
      ‚úì should handle malformed LLM responses (4 ms)

PASS src/services/quiz/__tests__/quizValidator.test.ts
  QuizValidator
    validateQuiz
      ‚úì should validate a well-formed quiz successfully (3 ms)
      ‚úì should fail validation for quiz with no questions
      ‚úì should fail validation for null questions array
      ‚úì should aggregate errors from individual questions
      ‚úì should calculate quality score based on question quality (1 ms)
      ‚úì should provide suggestions for improvement (2 ms)
    question validation
      ‚úì should validate multiple choice questions correctly
      ‚úì should fail validation for MC questions with wrong number of options (8 ms)
      ‚úì should fail validation for MC questions with invalid correct answer
      ‚úì should warn about missing or short explanations (1 ms)
      ‚úì should warn about simple memorization questions
      ‚úì should handle essay questions properly
      ‚úì should handle questions with missing required fields
    distractor quality assessment
      ‚úì should identify generic distractors
      ‚úì should identify very short distractors
      ‚úì should identify duplicate options (1 ms)
      ‚úì should identify obviously wrong answers
      ‚úì should check for inconsistent option lengths
      ‚úì should check for plausible psychology-related distractors
      ‚úì should handle non-string option formats
      ‚úì should handle missing options or correct answer
    question complexity assessment
      ‚úì should identify higher-order thinking questions (1 ms)
      ‚úì should identify lower-order memorization questions
      ‚úì should give bonus for scenario-based questions
      ‚úì should consider question length in complexity
    suggestion generation
      ‚úì should suggest difficulty diversity
      ‚úì should suggest more application questions (1 ms)
      ‚úì should suggest quality improvements for low-scoring questions
      ‚úì should suggest longer explanations
      ‚úì should handle edge cases in suggestion generation
    edge cases and error handling
      ‚úì should handle questions with special characters
      ‚úì should handle very long questions and options
      ‚úì should handle malformed question objects (1 ms)
      ‚úì should handle different question types gracefully
      ‚úì should handle quiz with mixed valid and invalid questions

PASS src/components/__tests__/ProtectedRoute.test.tsx
  ProtectedRoute Component
    ‚úì redirects to admin login when not authenticated (6 ms)
    ‚úì renders children when authenticated (2 ms)
    ‚úì works with nested routes (1 ms)
    ‚úì handles multiple children elements (1 ms)

  console.log
    LLM Config loaded: {
      provider: 'openai',
      model: 'gpt-4o-mini',
      hasApiKey: true,
      apiKeyPrefix: 'sk-proj...'
    }

      at ConfigManager.loadConfig (src/services/llm/config.ts:154:13)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

PASS src/components/common/__tests__/MarkdownContent.test.tsx
  MarkdownContent Component
    ‚úì renders content with default prose styling (2 ms)
    ‚úì applies custom className and prose settings (1 ms)
    ‚úì handles empty and edge case content (2 ms)
    ‚úì processes content through contentProcessor (1 ms)
    ‚úì combines prose class with custom className when prose is true (1 ms)
    ‚úì renders content without prose when prose is false (1 ms)
    ‚úì applies correct data-testid (2 ms)
    ‚úì renders with various content types (2 ms)
    ‚úì handles special characters in content
    ‚úì renders markdown with custom components prop (1 ms)
    ‚úì uses remark-gfm plugin
    ‚úì handles null or undefined content gracefully (1 ms)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: MockLLMProvider { delay: 500 }
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: MockLLMProvider { delay: 500 }
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: MockLLMProvider { delay: 500 }
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: MockLLMProvider { delay: 500 }
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

PASS src/services/quiz/__tests__/quizTemplates.test.ts
  QuizTemplates
    getQuestionTemplate
      ‚úì should return appropriate template for known topics (6 ms)
      ‚úì should handle null and undefined topics (1 ms)
      ‚úì should handle empty string topics
      ‚úì should handle non-string topics
      ‚úì should return easy templates for easy difficulty
      ‚úì should return hard templates for hard difficulty
      ‚úì should handle case-insensitive topic matching
      ‚úì should handle partial topic matching
      ‚úì should return default template for unknown topics (1 ms)
      ‚úì should handle null or missing difficulty
      ‚úì should handle invalid difficulty values
      ‚úì should handle topics with leading/trailing whitespace
    getTopicConcepts
      ‚úì should return concepts for known topics
      ‚úì should handle null and undefined topics
      ‚úì should handle empty string topics
      ‚úì should handle non-string topics (1 ms)
      ‚úì should handle jungQuestionTypes keys
      ‚úì should return general concepts for unknown topics
      ‚úì should handle case-insensitive matching
      ‚úì should handle partial topic matching
      ‚úì should handle Portuguese topics
    getTopicMisconceptions
      ‚úì should return misconceptions for known topics (1 ms)
      ‚úì should handle null and undefined topics
      ‚úì should handle empty string topics
      ‚úì should handle non-string topics
      ‚úì should return empty array for unknown topics
      ‚úì should handle case-insensitive matching
    answerValidationPatterns
      multipleChoice
        ‚úì should validate correct answers
        ‚úì should invalidate incorrect answers
        ‚úì should provide appropriate feedback
      trueFalse
        ‚úì should validate boolean answers (1 ms)
      shortAnswer
        ‚úì should validate answers containing all key terms
        ‚úì should invalidate answers missing key terms
        ‚úì should handle case-insensitive validation
        ‚úì should provide feedback with missing terms
      essay
        ‚úì should score essays based on rubric
        ‚úì should handle essays missing required terms (3 ms)
        ‚úì should calculate depth based on word count
        ‚úì should provide comprehensive feedback
    data structures
      ‚úì should have valid jungQuestionTypes (1 ms)
      ‚úì should have valid jungQuestionTemplates (1 ms)
      ‚úì should have valid topicTemplates (1 ms)
      ‚úì should have valid difficultyProgressions (1 ms)
      ‚úì should have valid questionStemVariations (1 ms)
    edge cases and special scenarios
      ‚úì should handle topics with special characters
      ‚úì should handle numeric string topics
      ‚úì should handle very long topic strings
      ‚úì should handle topics with only whitespace
      ‚úì should maintain consistency across function calls

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

PASS src/__tests__/services/llm/orchestrator.test.ts
  ModuleGenerationOrchestrator
    extractYouTubeId
      ‚úì should extract YouTube ID from valid URL (26 ms)
      ‚úì should return null for invalid URLs (1 ms)
      ‚úì should handle undefined and null URLs without throwing (1 ms)
      ‚úì should handle non-string values (2 ms)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    Making YouTube API request with key: test-ap...

      at YouTubeService.searchVideos (src/services/video/youtubeService.ts:82:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: Using real API with key: test-ap...

      at new YouTubeService (src/services/video/youtubeService.ts:60:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

PASS src/__tests__/services/llm/generators/content-generator.test.ts
  ContentGenerator
    generateModuleContent
      ‚úì should generate module content successfully (1 ms)
      ‚úì should adapt content based on difficulty level
      ‚úì should handle custom learning objectives (1 ms)
      ‚úì should include prerequisites in generation
    generateConceptExplanation
      ‚úì should generate concept explanation
      ‚úì should adjust explanation depth
    enrichContent
      ‚úì should enrich existing content with examples (3 ms)
    summarizeContent
      ‚úì should generate content summary
    error handling
      ‚úì should handle generation failures (8 ms)
      ‚úì should validate input parameters (14 ms)
    streaming content generation
      ‚úì should support streaming for long content (1 ms)

PASS src/__tests__/services/video/youtubeService.extended.test.ts
  YouTubeService Extended Tests
    Constructor and initialization
      ‚úì should initialize with API key from constructor (1 ms)
      ‚úì should initialize with API key from environment
      ‚úì should initialize in mock mode without API key
    searchVideos
      ‚úì should search videos with default options (19 ms)
      ‚úì should cache search results (2 ms)
      ‚úì should handle API errors and switch to mock mode (1 ms)
      ‚úì should apply all search options (3 ms)
    searchEducationalChannels
      ‚úì should search for educational channels (11 ms)
      ‚úì should handle channel search errors (1 ms)
    getVideoById
      ‚úì should get video by ID
      ‚úì should return null for non-existent video (1 ms)
      ‚úì should handle API errors (1 ms)
    getVideoDetails
      ‚úì should get video details in expected format
      ‚úì should throw error for missing video ID (25 ms)
      ‚úì should throw error for invalid video ID (1 ms)
      ‚úì should handle videos without likes (1 ms)
    getVideoTranscript
      ‚úì should fetch video transcript
      ‚úì should return null for empty video ID (1 ms)
      ‚úì should return null in mock mode (3 ms)
      ‚úì should handle transcript API errors (1 ms)
    getChannelInfo
      ‚úì should get channel information
      ‚úì should return null for non-existent channel (1 ms)
      ‚úì should return mock data in mock mode (1 ms)
      ‚úì should handle channel API errors
    searchEducationalVideos
      ‚úì should search educational videos with appropriate filters (2 ms)
      ‚úì should use medium duration for shorter videos (1 ms)
    Private methods
      ‚úì should parse ISO 8601 duration correctly (5 ms)
      ‚úì should handle duration without hours (3 ms)
      ‚úì should handle duration with only seconds (2 ms)
    Mock mode behavior
      ‚úì should return mock search results (1 ms)
      ‚úì should return mock channel results (1 ms)
      ‚úì should return mock video by ID (2 ms)

PASS src/services/moduleGeneration/__tests__/integration.test.ts
  UnifiedModuleGenerator Integration Tests
    Complete Module Generation
      ‚úì should generate a complete module with all components (2 ms)
      ‚úì should handle partial component generation
      ‚úì should auto-detect difficulty when not provided
    Preset Module Generation
      ‚úì should generate a quick module with minimal components
      ‚úì should generate a study module with comprehensive components (1 ms)
      ‚úì should generate a research module focused on academic content
    Custom Module Generation
      ‚úì should generate custom module with specific components
    Service Integration
      ‚úì should integrate with LLM orchestrator
      ‚úì should handle errors gracefully (8 ms)
    Difficulty Analysis
      ‚úì should analyze beginner level content
      ‚úì should analyze intermediate level content (3 ms)
      ‚úì should analyze advanced level content
  Integration with Individual Services
    ‚úì should properly integrate mind map generation
    ‚úì should properly integrate quiz generation with enhancements (1 ms)
    ‚úì should properly integrate video enrichment
    ‚úì should properly integrate bibliography generation

PASS src/__tests__/services/modules/moduleService.crud.test.ts
  ModuleService CRUD Operations
    getAllModules
      ‚úì should return empty array when no modules exist
      ‚úì should return all stored modules (1 ms)
      ‚úì should handle localStorage errors gracefully (3 ms)
    getModuleById
      ‚úì should return null when module not found
      ‚úì should return module when found (1 ms)
    createModule
      ‚úì should create a new module with generated ID (2 ms)
      ‚úì should validate module before creation (16 ms)
    updateModule
      ‚úì should update existing module
      ‚úì should throw error when module not found
    deleteModule
      ‚úì should delete existing module
      ‚úì should return false when module not found
    searchModules
      ‚úì should search modules by title
      ‚úì should filter by difficulty level
      ‚úì should filter by tags
    draft management
      ‚úì should save draft module

PASS src/__tests__/services/modules/moduleGenerator.basic.test.ts
  ModuleGenerator Basic Tests
    generateModule
      ‚úì should generate a basic module (2 ms)
      ‚úì should report progress during generation
      ‚úì should handle generation errors gracefully (9 ms)
    resumeFromDraft
      ‚úì should resume generation from a draft (1 ms)

PASS src/__tests__/services/bibliography/referenceDatabase.test.ts
  Reference Database
    Data integrity
      ‚úì should have all required fields for each reference (15 ms)
      ‚úì should have valid reference types (2 ms)
      ‚úì should have unique IDs
      ‚úì should have reasonable year values (2 ms)
      ‚úì should have consistent data for Collected Works (4 ms)
      ‚úì should have consistent ISBN format (1 ms)
      ‚úì should have DOI format for articles with DOI
    findReferencesByKeywords
      ‚úì should find references by single keyword
      ‚úì should find references by multiple keywords
      ‚úì should be case-insensitive (1 ms)
      ‚úì should find references with partial keyword matches
      ‚úì should return empty array for non-existent keywords (1 ms)
      ‚úì should handle empty keyword array
    findReferencesByCategory
      ‚úì should find references by category
      ‚úì should be case-insensitive
      ‚úì should find popular/accessible works
      ‚úì should find academic category
      ‚úì should return empty array for non-existent category
    findReferencesByAuthor
      ‚úì should find all Jung references (2 ms)
      ‚úì should find references by partial author name
      ‚úì should handle array authors correctly
      ‚úì should be case-insensitive
      ‚úì should return empty array for non-existent author
    findReferencesByType
      ‚úì should find all books (1 ms)
      ‚úì should find all articles
      ‚úì should find all films
      ‚úì should find chapters
      ‚úì should find interviews
      ‚úì should return empty array for invalid type
    findReferencesInYearRange
      ‚úì should find references in specific decade
      ‚úì should find recent publications
      ‚úì should include boundary years
      ‚úì should return empty array for future years
      ‚úì should return empty array for invalid range
    Reference collections
      ‚úì should have correct number of Collected Works
      ‚úì should have popular works including Man and His Symbols
      ‚úì should have contemporary Jungian authors
      ‚úì should have film references with URLs
      ‚úì should have academic research with DOIs
    Reference categories list
      ‚úì should contain all major categories
      ‚úì should have all categories present in actual references (1 ms)
    Keyword groups
      ‚úì should have core concepts (2 ms)
      ‚úì should have major archetypes (1 ms)
      ‚úì should have process keywords
      ‚úì should have clinical keywords
      ‚úì should have spiritual keywords
    Complex queries
      ‚úì should combine multiple search criteria effectively
      ‚úì should find introductory materials (1 ms)
      ‚úì should find materials about specific archetypes

PASS src/services/mindmap/__tests__/mindMapLayouts.test.ts
  MindMapLayouts
    Basic Layout Application
      ‚úì applies hierarchical layout correctly (1 ms)
      ‚úì applies radial layout correctly
      ‚úì applies force-directed layout correctly (2 ms)
      ‚úì applies circular layout correctly (1 ms)
      ‚úì applies tree layout correctly (1 ms)
    Configuration Handling
      ‚úì uses custom configuration
      ‚úì falls back to default configuration
    Layout Recommendations
      ‚úì suggests appropriate layout for different graph structures
    Edge Cases
      ‚úì handles empty node array
      ‚úì handles single node (1 ms)
      ‚úì handles disconnected components
    Performance
      ‚úì handles large graphs efficiently (1 ms)
    Utility Functions
      ‚úì prepares nodes for layout correctly (1 ms)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

PASS src/services/llm/providers/__tests__/openai.test.ts
  OpenAIProvider
    constructor
      ‚úì should initialize with provided API key and model
      ‚úì should use environment variables when no parameters provided (1 ms)
      ‚úì should throw error when no API key is available (16 ms)
      ‚úì should use default model when not specified (1 ms)
    generateCompletion
      ‚úì should successfully generate completion
      ‚úì should handle custom options (1 ms)
      ‚úì should throw error on API failure
      ‚úì should handle network errors
    generateStructuredOutput
      ‚úì should generate and parse structured JSON output (1 ms)
      ‚úì should handle JSON in markdown code blocks
      ‚úì should handle JSON with backticks
      ‚úì should extract JSON from mixed content
      ‚úì should handle JSON arrays (1 ms)
      ‚úì should throw error when no valid JSON found
      ‚úì should handle options in structured output
    streamCompletion
      ‚úì should stream completion chunks (1 ms)
      ‚úì should handle streaming with options
      ‚úì should handle streaming API errors
      ‚úì should handle missing response body
      ‚úì should skip invalid JSON lines in stream (1 ms)
      ‚úì should handle empty delta content
      ‚úì should release lock even on error

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

PASS src/__tests__/services/llm/provider.test.ts
  OpenAIProvider
    constructor
      ‚úì should initialize with OpenAI provider (1 ms)
    generateCompletion
      ‚úì should generate completion successfully
      ‚úì should handle API errors (21 ms)
      ‚úì should retry on temporary failures (1 ms)
      ‚úì should respect temperature and max tokens options
    generateStructuredResponse
      ‚úì should generate and parse JSON output (1 ms)
      ‚úì should handle invalid JSON responses (7 ms)
    getTokenCount
      ‚úì should estimate token count
    isAvailable
      ‚úì should check API availability
      ‚úì should handle unavailable API
  MockLLMProvider
    ‚úì should generate mock completions (12 ms)
    ‚úì should generate mock structured responses (16 ms)
    ‚úì should always be available (1 ms)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

  console.log
    YouTube Service: No API key found, using mock mode

      at new YouTubeService (src/services/video/youtubeService.ts:62:15)

PASS src/__tests__/services/mindmap/mindMapGenerator.test.ts
  MindMapGenerator
    generateMindMap
      ‚úì should generate a mind map from concepts (1 ms)
      ‚úì should create hierarchical structure (1 ms)
      ‚úì should assign categories to nodes (1 ms)
      ‚úì should handle empty concepts array
      ‚úì should handle duplicate concepts
    generateConceptMap
      ‚úì should create interconnected concept map (1 ms)
      ‚úì should detect and create cross-connections
    layout algorithms
      ‚úì should apply hierarchical layout
      ‚úì should apply radial layout
      ‚úì should apply force-directed layout (1 ms)
    style customization
      ‚úì should apply custom node styles
      ‚úì should apply custom edge styles
    interactive features
      ‚úì should add interaction handlers to nodes (9 ms)
      ‚úì should mark nodes as expandable when they have children
    export functionality
      ‚úì should export to JSON format (1 ms)
      ‚úì should export to DOT format for Graphviz
      ‚úì should export to SVG format
    performance optimization
      ‚úì should handle large number of concepts efficiently (1 ms)
      ‚úì should optimize edge creation for dense graphs
    error handling
      ‚úì should handle invalid input gracefully (14 ms)
      ‚úì should validate layout options

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

PASS src/__tests__/services/video/youtubeService.test.ts
  YouTubeService
    searchVideos
      ‚úì should search videos successfully (9 ms)
      ‚úì should handle search with filters (1 ms)
      ‚úì should handle API errors gracefully
      ‚úì should handle empty results
    getVideoDetails
      ‚úì should fetch video details with statistics (1 ms)
      ‚úì should parse ISO 8601 duration correctly
    getVideoTranscript
      ‚úì should handle videos without transcripts (7 ms)
      ‚úì should handle empty video ID (1 ms)
    getChannelInfo
      ‚úì should fetch channel information (1 ms)
    searchEducationalVideos
      ‚úì should filter for educational content
    rate limiting and caching
      ‚úì should cache search results (1 ms)
      ‚úì should handle multiple concurrent requests (1 ms)
    error handling and validation
      ‚úì should not throw for empty API key (uses mock mode)
      ‚úì should handle network errors gracefully (1 ms)
      ‚úì should validate video IDs (19 ms)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

PASS src/__tests__/types/index.test.ts
  Types - index.ts
    Module Type
      ‚úì should accept valid module objects (1 ms)
      ‚úì should accept module with all optional fields
    ModuleContent Type
      ‚úì should accept valid module content
      ‚úì should accept module content with all optional fields
    Section Type
      ‚úì should accept valid section objects
      ‚úì should accept section with optional fields
    Video Type
      ‚úì should accept video with numeric duration (1 ms)
      ‚úì should accept video with object duration
      ‚úì should accept video with YouTube ID
    Quiz and Question Types
      ‚úì should accept valid quiz objects
      ‚úì should accept quiz with all optional fields
      ‚úì should accept question with all optional fields (6 ms)
    Bibliography Type
      ‚úì should accept valid bibliography entries (1 ms)
      ‚úì should accept bibliography with optional fields
    Film Type
      ‚úì should accept valid film objects
      ‚úì should accept film with optional fields
    UserProgress Type
      ‚úì should accept valid user progress
      ‚úì should accept user progress with notes
    MindMap Types
      ‚úì should accept valid mind map node (1 ms)
      ‚úì should accept mind map node with all optional fields
      ‚úì should accept valid mind map edge
      ‚úì should accept mind map edge with optional fields
    AdminUser Type
      ‚úì should accept valid admin user
      ‚úì should accept admin user with last login
    AppSettings Type
      ‚úì should accept valid app settings
      ‚úì should accept app settings with data (1 ms)
    Type Aliases
      ‚úì should validate PublicationType values
      ‚úì should validate DifficultyLevel values
    Type Factory Functions
      ‚úì should create valid modules using factory
      ‚úì should create valid quizzes using factory
    Type Guards
      ‚úì should correctly identify Module objects (1 ms)
      ‚úì should correctly identify Video objects

PASS src/services/mindmap/__tests__/reactFlowAdapter.test.ts
  ReactFlowAdapter
    convertToReactFlow
      ‚úì converts mind map nodes to React Flow format (12 ms)
      ‚úì handles empty nodes and edges
      ‚úì applies category-based styling (1 ms)
    convertFromReactFlow
      ‚úì converts React Flow nodes back to mind map format (1 ms)
    generateFromModule
      ‚úì generates React Flow data from module
      ‚úì handles module without mind map data
    applyLayout
      ‚úì applies layout to React Flow data (1 ms)
    generateStudyPath
      ‚úì generates optimal study path from nodes
      ‚úì handles disconnected components in study path
    filterByCategory
      ‚úì filters nodes by category
      ‚úì handles non-existent category (1 ms)
    highlightPath
      ‚úì highlights nodes in a study path
    suggestLayout
      ‚úì suggests appropriate layout for graph structure
      ‚úì handles empty graph
    Error Handling
      ‚úì handles malformed node data gracefully
      ‚úì handles malformed edge data gracefully (1 ms)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

PASS src/__tests__/reportWebVitals.test.ts
  reportWebVitals
    ‚úì should not call web vitals when no callback is provided (2 ms)
    ‚úì should not call web vitals when callback is not a function
    ‚úì should call all web vitals functions when valid callback is provided
    ‚úì should handle valid function callback properly

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 10086.59ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: 64/100 (Grade: D)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: needs_major_work

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

PASS src/__tests__/types/schema.test.ts
  Types - schema.ts
    EducationalModule Type
      ‚úì should accept valid educational module
      ‚úì should accept educational module with sections
      ‚úì should accept educational module with videos (1 ms)
      ‚úì should accept educational module with quiz
      ‚úì should accept educational module with bibliography
      ‚úì should accept educational module with mindmap
      ‚úì should accept educational module with all optional fields
    ValidationError Type
      ‚úì should accept error severity levels
      ‚úì should work in validation error arrays (1 ms)
    Quiz Type (schema version)
      ‚úì should accept valid quiz structure
      ‚úì should accept quiz questions with optional fields
    Type Validation Helpers
      ‚úì should validate valid educational module
      ‚úì should catch validation errors
      ‚úì should provide warnings and info (1 ms)
    Type Compatibility Tests
      ‚úì should allow EducationalModule to be used as Module-like structure
      ‚úì should handle different video duration formats
    Schema Factory Functions
      ‚úì should create educational modules with factory (14 ms)
      ‚úì should create validation errors with factory (1 ms)

PASS src/config/__tests__/admin.test.ts
  Admin Configuration
    ADMIN_CONFIG
      ‚úì has default admin configuration
      ‚úì has session configuration (1 ms)
      ‚úì has security settings
    PASSWORD_REGEX
      ‚úì validates strong passwords
      ‚úì rejects weak passwords (1 ms)
    validatePasswordComplexity
      ‚úì validates password length
      ‚úì validates password complexity when required
      ‚úì accepts valid complex passwords (3 ms)
      ‚úì provides specific error messages (1 ms)
    Environment variable support
      ‚úì uses environment variables when available (1 ms)

PASS src/__tests__/services/bibliography/bibliographyEnricher.test.ts
  BibliographyEnricher
    searchBibliography
      ‚úì should search academic references by concepts (1 ms)
      ‚úì should filter by publication type
      ‚úì should search journal articles
      ‚úì should include citation counts
    searchFilmReferences
      ‚úì should search films by Jungian concepts (1 ms)
      ‚úì should analyze psychological themes in films
      ‚úì should filter by genre and decade
    generateCitations
      ‚úì should generate APA citations
      ‚úì should generate MLA citations (1 ms)
      ‚úì should generate Chicago style citations
      ‚úì should handle multiple authors
    enrichBibliographyItem
      ‚úì should fetch additional metadata (1 ms)
      ‚úì should fetch from external APIs when available
    generateReadingList
      ‚úì should create a structured reading list (1 ms)
    analyzeBibliographicTrends
      ‚úì should analyze publication trends (1 ms)
    error handling
      ‚úì should handle API failures gracefully (16 ms)
      ‚úì should validate search parameters (32 ms)
      ‚úì should handle empty search results (13 ms)
    caching and performance
      ‚úì should cache search results
      ‚úì should batch API requests efficiently

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

PASS src/services/llm/providers/__tests__/mock.test.ts
  MockLLMProvider
    generateCompletion
      ‚úì should generate a mock response after simulated delay
      ‚úì should generate mind map response for mind map prompts
      ‚úì should handle long prompts correctly
      ‚úì should handle options parameter
    generateStructuredOutput
      ‚úì should generate mock concepts for concept extraction prompts (1 ms)
      ‚úì should generate mock hierarchy for hierarchy prompts
      ‚úì should return default response for unknown prompt types
      ‚úì should handle complex module names in concept extraction (1 ms)
      ‚úì should maintain proper parent-child relationships in concepts
      ‚úì should include proper connections between concepts
    streamCompletion
      ‚úì should stream response in chunks (1 ms)
      ‚úì should stream mind map responses
      ‚úì should handle empty prompts
      ‚úì should respect options parameter (1 ms)
    edge cases
      ‚úì should handle very long prompts in streaming
      ‚úì should handle prompts without module name in concept extraction

PASS src/types/__tests__/schema.test.ts
  Schema Types
    EducationalModule
      ‚úì should allow creating a valid EducationalModule (1 ms)
      ‚úì should support optional properties
      ‚úì should support different education levels (1 ms)
    Quiz
      ‚úì should allow creating a comprehensive quiz
      ‚úì should handle different question types (5 ms)
    Reference
      ‚úì should support different reference types
      ‚úì should handle references with optional properties (1 ms)
    Content Structure
      ‚úì should support complex section structures (1 ms)
      ‚úì should support video metadata
    Type Validation
      ‚úì should ensure proper typing for educational content
      ‚úì should handle optional fields correctly (1 ms)

PASS src/schemas/__tests__/module.validator.extended.test.ts
  ModuleValidator - Extended Edge Case Tests
    ModuleValidator.validate
      ‚úì should validate a complete valid module
      ‚úì should catch missing required fields
      ‚úì should validate empty title strings
      ‚úì should catch negative time estimates
      ‚úì should catch negative minutes
      ‚úì should validate content structure
      ‚úì should accept content with only introduction
      ‚úì should accept content with only sections
      ‚úì should handle null/undefined values gracefully (1 ms)
      ‚úì should handle extreme values
      ‚úì should handle special characters in strings
      ‚úì should handle fractional time values
    validateEducationalModule
      ‚úì should transform validation result to expected format
      ‚úì should return empty errors array for valid module
      ‚úì should preserve all error messages (1 ms)
    sanitizeModule
      ‚úì should trim title and description
      ‚úì should handle missing title and description
      ‚úì should preserve other fields unchanged (31 ms)
      ‚úì should handle null/undefined gracefully (2 ms)
      ‚úì should handle whitespace-only strings (3 ms)
      ‚úì should not mutate the original module
      ‚úì should handle modules with circular references

PASS src/utils/__tests__/localStorage.extended.test.ts
  localStorage utilities - Extended Tests
    saveUserProgress
      ‚úì should save valid user progress to localStorage (2 ms)
      ‚úì should handle localStorage quota exceeded error (5 ms)
      ‚úì should handle serialization errors
    loadUserProgress
      ‚úì should load and parse user progress from localStorage (1 ms)
      ‚úì should return null when no progress exists
      ‚úì should handle invalid JSON gracefully
      ‚úì should handle localStorage access errors
    clearUserProgress
      ‚úì should remove user progress from localStorage
      ‚úì should handle removal errors gracefully
    saveNotes
      ‚úì should save notes array to localStorage (1 ms)
      ‚úì should handle empty notes array
      ‚úì should handle save errors
    loadNotes
      ‚úì should load and parse notes from localStorage
      ‚úì should return empty array when no notes exist
      ‚úì should handle corrupted data gracefully
    saveModuleProgress
      ‚úì should create new progress if none exists (1 ms)
      ‚úì should update existing progress
      ‚úì should not duplicate completed modules
      ‚úì should handle completion without score
      ‚úì should handle score without completion (1 ms)
      ‚úì should handle save errors gracefully
    loadModuleProgress
      ‚úì should load module progress correctly
      ‚úì should return defaults when no progress exists
      ‚úì should handle load errors gracefully
    Edge cases and boundary conditions
      ‚úì should handle very large data gracefully (7 ms)
      ‚úì should handle special characters in content
      ‚úì should handle concurrent operations
      ‚úì should handle undefined and null values appropriately (1 ms)

PASS src/types/__tests__/index.test.ts
  Types
    ‚úì should allow creating a valid Module object
    ‚úì should allow creating a valid Section object
    ‚úì should allow creating a valid Video object
    ‚úì should allow creating a valid Quiz object (1 ms)
    ‚úì should allow creating a valid Question object
    ‚úì should allow creating a valid UserProgress object (1 ms)
    ‚úì should allow creating a valid Note object
    ‚úì should allow creating valid MindMap objects
    ‚úì should support optional properties
    ‚úì should support different difficulty levels (1 ms)

PASS src/utils/__tests__/auth.extended.test.ts
  Auth Utilities Extended Tests
    generateSalt
      ‚úì should generate a salt of correct length
      ‚úì should generate only hexadecimal characters
      ‚úì should generate unique salts (1 ms)
    hashPassword
      ‚úì should hash a password consistently with same salt (1 ms)
      ‚úì should produce different hashes for different passwords
      ‚úì should produce different hashes for same password with different salts
      ‚úì should handle empty password
      ‚úì should handle special characters in password
      ‚úì should handle unicode characters
      ‚úì should always produce 16-character hex string (1 ms)
    verifyPassword
      ‚úì should verify correct password
      ‚úì should reject incorrect password
      ‚úì should reject correct password with wrong salt
      ‚úì should handle empty password verification
      ‚úì should be case sensitive
    generateToken
      ‚úì should generate token of default length (1 ms)
      ‚úì should generate token of specified length
      ‚úì should generate alphanumeric tokens
      ‚úì should generate unique tokens (1 ms)
      ‚úì should handle different token lengths (1 ms)
    createSessionToken
      ‚úì should create session token with default expiry
      ‚úì should create session token with custom expiry
      ‚úì should use Buffer.from when btoa is not available
      ‚úì should handle special characters in userId
    validateSessionToken
      ‚úì should validate valid token (1 ms)
      ‚úì should reject expired token
      ‚úì should reject invalid token format
      ‚úì should use Buffer.from when atob is not available
      ‚úì should handle token without exp field
      ‚úì should validate token at exact expiry time (1 ms)
      ‚úì should handle malformed base64
    Integration tests
      ‚úì should handle complete authentication flow
      ‚úì should handle password change flow

PASS src/utils/__tests__/contentProcessor.test.ts
  Content Processor
    processModuleContent
      ‚úì should process module content and add metadata (1 ms)
      ‚úì should handle empty content
      ‚úì should handle content with special characters
      ‚úì should handle very long content (1 ms)
      ‚úì should handle content with line breaks and formatting
    extractKeyTerms
      ‚úì should extract psychological terms from content
      ‚úì should handle empty content for key terms
      ‚úì should extract terms from content without psychological terms (1 ms)
      ‚úì should handle content with repeated terms
      ‚úì should return terms with definitions (1 ms)
    generateSummary
      ‚úì should generate a summary from content
      ‚úì should handle short content for summary
      ‚úì should handle empty content for summary (1 ms)
      ‚úì should create meaningful summaries (5 ms)
      ‚úì should handle content with special formatting
    Integration Tests
      ‚úì should work together to process comprehensive content
      ‚úì should handle edge cases consistently (1 ms)

PASS src/utils/__tests__/localStorage.test.ts
  localStorage utilities
    saveUserProgress
      ‚úì should save user progress to localStorage
      ‚úì should handle errors gracefully
    loadUserProgress
      ‚úì should load user progress from localStorage
      ‚úì should return null when no data exists
      ‚úì should handle JSON parse errors (1 ms)
      ‚úì should handle localStorage errors
    clearUserProgress
      ‚úì should clear user progress from localStorage
      ‚úì should handle errors gracefully
    saveNotes
      ‚úì should save notes to localStorage
      ‚úì should handle errors gracefully (1 ms)
    loadNotes
      ‚úì should load notes from localStorage
      ‚úì should return empty array when no notes exist
      ‚úì should handle JSON parse errors
      ‚úì should handle localStorage errors
    saveModuleProgress
      ‚úì should save module completion (1 ms)
      ‚úì should save quiz score
      ‚úì should save both completion and score
      ‚úì should update existing progress
      ‚úì should not duplicate completed modules
      ‚úì should handle errors gracefully
    loadModuleProgress
      ‚úì should load module progress
      ‚úì should return false for uncompleted modules (1 ms)
      ‚úì should return false when no user progress exists
      ‚úì should handle errors gracefully

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 10039.85ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: 64/100 (Grade: D)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: needs_major_work

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 10043.20ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: 64/100 (Grade: D)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: needs_major_work

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 10017.64ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: 64/100 (Grade: D)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: needs_major_work

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 10055.76ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: 64/100 (Grade: D)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: needs_major_work

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 10008.95ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: 64/100 (Grade: D)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: needs_major_work

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 10003.85ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: 64/100 (Grade: D)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: needs_major_work

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 10031.56ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: NaN/100 (Grade: F)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: critical_issues

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 10059.23ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: 63/100 (Grade: D)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: needs_major_work

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

  console.log
    üöÄ Starting comprehensive end-to-end validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:157:13)

  console.log
    üìä Running system validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:183:15)

  console.log
    üîó Running integration validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:187:15)

  console.log
    üë§ Running user workflow validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:191:15)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 10048.00ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: 64/100 (Grade: D)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: needs_major_work

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

  console.log
    ‚ö° Running performance validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)

  console.log
    üîí Running security validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)

  console.log
    ‚ôø Running accessibility validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)

  console.log
    üîÑ Running reliability validation...

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)

  console.log
    ‚úÖ End-to-end validation completed in 7251.33ms

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)

  console.log
    üìä Overall Score: 6/100 (Grade: F)

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)

  console.log
    üéØ Status: critical_issues

      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

FAIL src/services/validation/__tests__/endToEndValidator.test.ts (62.217 s)
  EndToEndValidator
    validateEndToEnd
      ‚úï should successfully validate a complete module (5000 ms)
      ‚úï should run all workflow validations (5002 ms)
      ‚úï should validate security aspects (5001 ms)
      ‚úï should validate accessibility (5003 ms)
      ‚úï should calculate performance metrics (5002 ms)
      ‚úï should calculate reliability metrics (5001 ms)
      ‚úï should provide recommendations (5017 ms)
      ‚úï should handle empty module array (5002 ms)
      ‚úï should handle module with missing components (5002 ms)
      ‚úï should detect security vulnerabilities (5003 ms)
    validateUserWorkflow
      ‚úï should validate student learning journey (2 ms)
      ‚úï should validate instructor workflow
      ‚úï should handle workflow errors gracefully
    calculatePerformanceMetrics
      ‚úï should simulate realistic performance metrics
      ‚úï should penalize performance for large module sets
    validateSecurity
      ‚úì should detect common security issues (1 ms)
      ‚úï should detect XSS vulnerabilities
      ‚úï should detect SQL injection patterns
    validateAccessibility
      ‚úï should check WCAG compliance (1 ms)
      ‚úï should detect missing alt text (1 ms)
      ‚úì should check language attributes
    edge cases and error handling
      ‚úì should handle validation with system validator failure (1 ms)
      ‚úì should handle validation with integration validator failure (2 ms)
      ‚úï should handle null or undefined modules (5003 ms)
      ‚úï should handle modules with circular references (5002 ms)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should successfully validate a complete module

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 109 |[39m
     [90m 110 |[39m   describe([32m'validateEndToEnd'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 111 |[39m     it([32m'should successfully validate a complete module'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 112 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 113 |[39m
     [90m 114 |[39m       expect(result)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:111:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should run all workflow validations

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 119 |[39m     })[33m;[39m
     [90m 120 |[39m
    [31m[1m>[22m[39m[90m 121 |[39m     it([32m'should run all workflow validations'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 122 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 123 |[39m
     [90m 124 |[39m       expect(result[33m.[39mworkflows)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:121:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should validate security aspects

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 132 |[39m     })[33m;[39m
     [90m 133 |[39m
    [31m[1m>[22m[39m[90m 134 |[39m     it([32m'should validate security aspects'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 135 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 136 |[39m
     [90m 137 |[39m       expect(result[33m.[39msecurityValidation)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:134:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should validate accessibility

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 143 |[39m     })[33m;[39m
     [90m 144 |[39m
    [31m[1m>[22m[39m[90m 145 |[39m     it([32m'should validate accessibility'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 146 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 147 |[39m
     [90m 148 |[39m       expect(result[33m.[39maccessibilityValidation)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:145:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should calculate performance metrics

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 153 |[39m     })[33m;[39m
     [90m 154 |[39m
    [31m[1m>[22m[39m[90m 155 |[39m     it([32m'should calculate performance metrics'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 156 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 157 |[39m
     [90m 158 |[39m       expect(result[33m.[39mperformanceMetrics)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:155:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should calculate reliability metrics

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 164 |[39m     })[33m;[39m
     [90m 165 |[39m
    [31m[1m>[22m[39m[90m 166 |[39m     it([32m'should calculate reliability metrics'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 167 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 168 |[39m
     [90m 169 |[39m       expect(result[33m.[39mreliabilityMetrics)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:166:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should provide recommendations

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 174 |[39m     })[33m;[39m
     [90m 175 |[39m
    [31m[1m>[22m[39m[90m 176 |[39m     it([32m'should provide recommendations'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 177 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 178 |[39m
     [90m 179 |[39m       expect(result[33m.[39mrecommendations)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:176:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should handle empty module array

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 189 |[39m     })[33m;[39m
     [90m 190 |[39m
    [31m[1m>[22m[39m[90m 191 |[39m     it([32m'should handle empty module array'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 192 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([])[33m;[39m
     [90m 193 |[39m
     [90m 194 |[39m       expect(result[33m.[39moverall[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:191:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should handle module with missing components

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 198 |[39m     })[33m;[39m
     [90m 199 |[39m
    [31m[1m>[22m[39m[90m 200 |[39m     it([32m'should handle module with missing components'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 201 |[39m       [36mconst[39m incompleteModule [33m=[39m {
     [90m 202 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 203 |[39m         quiz[33m:[39m undefined[33m,[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:200:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should detect security vulnerabilities

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 213 |[39m     })[33m;[39m
     [90m 214 |[39m
    [31m[1m>[22m[39m[90m 215 |[39m     it([32m'should detect security vulnerabilities'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 216 |[39m       [36mconst[39m vulnerableModule [33m=[39m {
     [90m 217 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 218 |[39m         content[33m:[39m {[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:215:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateUserWorkflow ‚Ä∫ should validate student learning journey

    TypeError: _endToEndValidator.endToEndValidator.validateUserWorkflow is not a function

    [0m [90m 238 |[39m   describe([32m'validateUserWorkflow'[39m[33m,[39m () [33m=>[39m {
     [90m 239 |[39m     it([32m'should validate student learning journey'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 240 |[39m       [36mconst[39m workflow [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateUserWorkflow(
     [90m     |[39m                                                         [31m[1m^[22m[39m
     [90m 241 |[39m         [mockModule][33m,[39m
     [90m 242 |[39m         [32m'Student Learning Journey'[39m[33m,[39m
     [90m 243 |[39m         [32m'Complete learning path from enrollment to assessment'[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:240:57)

  ‚óè EndToEndValidator ‚Ä∫ validateUserWorkflow ‚Ä∫ should validate instructor workflow

    TypeError: _endToEndValidator.endToEndValidator.validateUserWorkflow is not a function

    [0m [90m 250 |[39m
     [90m 251 |[39m     it([32m'should validate instructor workflow'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 252 |[39m       [36mconst[39m workflow [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateUserWorkflow(
     [90m     |[39m                                                         [31m[1m^[22m[39m
     [90m 253 |[39m         [mockModule][33m,[39m
     [90m 254 |[39m         [32m'Instructor Module Creation'[39m[33m,[39m
     [90m 255 |[39m         [32m'Create and publish a complete educational module'[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:252:57)

  ‚óè EndToEndValidator ‚Ä∫ validateUserWorkflow ‚Ä∫ should handle workflow errors gracefully

    TypeError: _endToEndValidator.endToEndValidator.validateUserWorkflow is not a function

    [0m [90m 271 |[39m       )[33m;[39m
     [90m 272 |[39m
    [31m[1m>[22m[39m[90m 273 |[39m       [36mconst[39m workflow [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateUserWorkflow(
     [90m     |[39m                                                         [31m[1m^[22m[39m
     [90m 274 |[39m         [mockModule][33m,[39m
     [90m 275 |[39m         [32m'Error Test Workflow'[39m[33m,[39m
     [90m 276 |[39m         [32m'Test error handling'[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:273:57)

  ‚óè EndToEndValidator ‚Ä∫ calculatePerformanceMetrics ‚Ä∫ should simulate realistic performance metrics

    TypeError: _endToEndValidator.endToEndValidator.calculatePerformanceMetrics is not a function

    [0m [90m 285 |[39m   describe([32m'calculatePerformanceMetrics'[39m[33m,[39m () [33m=>[39m {
     [90m 286 |[39m     it([32m'should simulate realistic performance metrics'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 287 |[39m       [36mconst[39m metrics [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mcalculatePerformanceMetrics([mockModule])[33m;[39m
     [90m     |[39m                                                        [31m[1m^[22m[39m
     [90m 288 |[39m
     [90m 289 |[39m       expect(metrics[33m.[39mloadTime[33m.[39maverage)[33m.[39mtoBeGreaterThan([35m100[39m)[33m;[39m
     [90m 290 |[39m       expect(metrics[33m.[39mloadTime[33m.[39maverage)[33m.[39mtoBeLessThan([35m5000[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:287:56)

  ‚óè EndToEndValidator ‚Ä∫ calculatePerformanceMetrics ‚Ä∫ should penalize performance for large module sets

    TypeError: _endToEndValidator.endToEndValidator.calculatePerformanceMetrics is not a function

    [0m [90m 301 |[39m     it([32m'should penalize performance for large module sets'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 302 |[39m       [36mconst[39m manyModules [33m=[39m [33mArray[39m([35m20[39m)[33m.[39mfill(mockModule)[33m;[39m
    [31m[1m>[22m[39m[90m 303 |[39m       [36mconst[39m metrics [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mcalculatePerformanceMetrics(manyModules)[33m;[39m
     [90m     |[39m                                                        [31m[1m^[22m[39m
     [90m 304 |[39m
     [90m 305 |[39m       expect(metrics[33m.[39moverallScore)[33m.[39mtoBeLessThan([35m80[39m)[33m;[39m
     [90m 306 |[39m       expect(metrics[33m.[39mscalabilityScore)[33m.[39mtoBeLessThan([35m70[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:303:56)

  ‚óè EndToEndValidator ‚Ä∫ validateSecurity ‚Ä∫ should detect XSS vulnerabilities

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

    [0m [90m 328 |[39m       [36mconst[39m security [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateSecurity([xssModule])[33m;[39m
     [90m 329 |[39m
    [31m[1m>[22m[39m[90m 330 |[39m       expect(security[33m.[39mvulnerabilities[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 331 |[39m       expect(security[33m.[39mvulnerabilities[[35m0[39m][33m.[39mtype)[33m.[39mtoContain([32m'XSS'[39m)[33m;[39m
     [90m 332 |[39m       expect(security[33m.[39mvulnerabilities[[35m0[39m][33m.[39mseverity)[33m.[39mtoMatch([35m/high|critical/[39m)[33m;[39m
     [90m 333 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:330:47)

  ‚óè EndToEndValidator ‚Ä∫ validateSecurity ‚Ä∫ should detect SQL injection patterns

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 343 |[39m       expect(security[33m.[39mvulnerabilities[33m.[39msome(v [33m=>[39m 
     [90m 344 |[39m         v[33m.[39mtype[33m.[39mincludes([32m'SQL'[39m) [33m||[39m v[33m.[39mtype[33m.[39mincludes([32m'injection'[39m)
    [31m[1m>[22m[39m[90m 345 |[39m       ))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m          [31m[1m^[22m[39m
     [90m 346 |[39m     })[33m;[39m
     [90m 347 |[39m   })[33m;[39m
     [90m 348 |[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:345:10)

  ‚óè EndToEndValidator ‚Ä∫ validateAccessibility ‚Ä∫ should check WCAG compliance

    expect(received).toBeGreaterThan(expected)

    Matcher error: received value must be a number or bigint

    Received has value: undefined

    [0m [90m 351 |[39m       [36mconst[39m accessibility [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateAccessibility([mockModule])[33m;[39m
     [90m 352 |[39m
    [31m[1m>[22m[39m[90m 353 |[39m       expect(accessibility[33m.[39mwcagCompliance)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m
     [90m     |[39m                                            [31m[1m^[22m[39m
     [90m 354 |[39m       expect(accessibility[33m.[39mkeyboardNavigation)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m
     [90m 355 |[39m       expect(accessibility[33m.[39mscreenReaderSupport)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m
     [90m 356 |[39m       expect(accessibility[33m.[39mcolorContrast)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:353:44)

  ‚óè EndToEndValidator ‚Ä∫ validateAccessibility ‚Ä∫ should detect missing alt text

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

    [0m [90m 373 |[39m       [36mconst[39m accessibility [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateAccessibility([moduleWithImages])[33m;[39m
     [90m 374 |[39m
    [31m[1m>[22m[39m[90m 375 |[39m       expect(accessibility[33m.[39missues[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                                           [31m[1m^[22m[39m
     [90m 376 |[39m       expect(accessibility[33m.[39missues[33m.[39msome(i [33m=>[39m 
     [90m 377 |[39m         i[33m.[39mtype [33m===[39m [32m'missing_alt_text'[39m
     [90m 378 |[39m       ))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:375:43)

  ‚óè EndToEndValidator ‚Ä∫ edge cases and error handling ‚Ä∫ should handle null or undefined modules

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 414 |[39m     })[33m;[39m
     [90m 415 |[39m
    [31m[1m>[22m[39m[90m 416 |[39m     it([32m'should handle null or undefined modules'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 417 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([36mnull[39m [36mas[39m any)[33m;[39m
     [90m 418 |[39m
     [90m 419 |[39m       expect(result[33m.[39moverall[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:416:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:392:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ edge cases and error handling ‚Ä∫ should handle modules with circular references

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 422 |[39m     })[33m;[39m
     [90m 423 |[39m
    [31m[1m>[22m[39m[90m 424 |[39m     it([32m'should handle modules with circular references'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 425 |[39m       [36mconst[39m circularModule[33m:[39m any [33m=[39m { [33m...[39mmockModule }[33m;[39m
     [90m 426 |[39m       circularModule[33m.[39mself [33m=[39m circularModule[33m;[39m [90m// Create circular reference[39m
     [90m 427 |[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:424:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:392:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "‚ö° Running performance validation...".

    [0m [90m 193 |[39m       result[33m.[39mworkflows [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvalidateUserWorkflows(modules)[33m;[39m
     [90m 194 |[39m
    [31m[1m>[22m[39m[90m 195 |[39m       console[33m.[39mlog([32m'‚ö° Running performance validation...'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 196 |[39m       [90m// Step 4: Performance validation[39m
     [90m 197 |[39m       result[33m.[39mperformanceMetrics [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvalidatePerformance(modules)[33m;[39m
     [90m 198 |[39m[0m

      at console.log (node_modules/@jest/console/build/CustomConsole.js:187:10)
      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:195:15)
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:428:22)

  console.error
    Performance validation failed: TypeError: Converting circular structure to JSON
        --> starting at object with constructor 'Object'
        --- property 'self' closes the circle
        at JSON.stringify (<anonymous>)
        at EndToEndValidator.simulateModuleLoad (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/services/validation/endToEndValidator.ts:17487:38)
        at EndToEndValidator.measureLoadTimes (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/services/validation/endToEndValidator.ts:17472:18)
        at EndToEndValidator.validatePerformance (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/services/validation/endToEndValidator.ts:16752:46)
        at EndToEndValidator.validateEndToEnd (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/services/validation/endToEndValidator.ts:15744:46)
        at Object.<anonymous> (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/services/validation/__tests__/endToEndValidator.test.ts:428:22)

    [0m [90m 804 |[39m
     [90m 805 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 806 |[39m       console[33m.[39merror([32m'Performance validation failed:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 807 |[39m       metrics[33m.[39moverallScore [33m=[39m [35m0[39m[33m;[39m
     [90m 808 |[39m     }
     [90m 809 |[39m[0m

      at EndToEndValidator.validatePerformance (src/services/validation/endToEndValidator.ts:806:15)
      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:197:35)
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:428:22)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "üîí Running security validation...".

    [0m [90m 197 |[39m       result[33m.[39mperformanceMetrics [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvalidatePerformance(modules)[33m;[39m
     [90m 198 |[39m
    [31m[1m>[22m[39m[90m 199 |[39m       console[33m.[39mlog([32m'üîí Running security validation...'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 200 |[39m       [90m// Step 5: Security validation[39m
     [90m 201 |[39m       result[33m.[39msecurityValidation [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvalidateSecurity(modules)[33m;[39m
     [90m 202 |[39m[0m

      at console.log (node_modules/@jest/console/build/CustomConsole.js:187:10)
      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:199:15)
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:428:22)

  console.error
    Security validation failed: TypeError: Converting circular structure to JSON
        --> starting at object with constructor 'Object'
        --- property 'self' closes the circle
        at JSON.stringify (<anonymous>)
        at EndToEndValidator.assessDataProtection (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/services/validation/endToEndValidator.ts:17758:40)
        at EndToEndValidator.validateSecurity (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/services/validation/endToEndValidator.ts:16825:44)
        at EndToEndValidator.validateEndToEnd (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/services/validation/endToEndValidator.ts:15751:46)
        at Object.<anonymous> (/Users/danielbarreto/Development/workspace/ia/jaqEdu/jung-edu-app/src/services/validation/__tests__/endToEndValidator.test.ts:428:22)

    [0m [90m 847 |[39m
     [90m 848 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 849 |[39m       console[33m.[39merror([32m'Security validation failed:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 850 |[39m       security[33m.[39moverallScore [33m=[39m [35m0[39m[33m;[39m
     [90m 851 |[39m     }
     [90m 852 |[39m[0m

      at EndToEndValidator.validateSecurity (src/services/validation/endToEndValidator.ts:849:15)
      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:201:35)
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:428:22)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "‚ôø Running accessibility validation...".

    [0m [90m 201 |[39m       result[33m.[39msecurityValidation [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvalidateSecurity(modules)[33m;[39m
     [90m 202 |[39m
    [31m[1m>[22m[39m[90m 203 |[39m       console[33m.[39mlog([32m'‚ôø Running accessibility validation...'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 204 |[39m       [90m// Step 6: Accessibility validation[39m
     [90m 205 |[39m       result[33m.[39maccessibilityValidation [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvalidateAccessibility(modules)[33m;[39m
     [90m 206 |[39m[0m

      at console.log (node_modules/@jest/console/build/CustomConsole.js:187:10)
      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:203:15)
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:428:22)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "üîÑ Running reliability validation...".

    [0m [90m 205 |[39m       result[33m.[39maccessibilityValidation [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvalidateAccessibility(modules)[33m;[39m
     [90m 206 |[39m
    [31m[1m>[22m[39m[90m 207 |[39m       console[33m.[39mlog([32m'üîÑ Running reliability validation...'[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 208 |[39m       [90m// Step 7: Reliability validation[39m
     [90m 209 |[39m       result[33m.[39mreliabilityMetrics [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvalidateReliability(modules)[33m;[39m
     [90m 210 |[39m[0m

      at console.log (node_modules/@jest/console/build/CustomConsole.js:187:10)
      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:207:15)
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:428:22)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "‚úÖ End-to-end validation completed in 9594.78ms".

    [0m [90m 223 |[39m       result[33m.[39moverall[33m.[39mduration [33m=[39m performance[33m.[39mnow() [33m-[39m startTime[33m;[39m
     [90m 224 |[39m
    [31m[1m>[22m[39m[90m 225 |[39m       console[33m.[39mlog([32m`‚úÖ End-to-end validation completed in ${result.overall.duration.toFixed(2)}ms`[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 226 |[39m       console[33m.[39mlog([32m`üìä Overall Score: ${result.overall.score}/100 (Grade: ${result.overall.grade})`[39m)[33m;[39m
     [90m 227 |[39m       console[33m.[39mlog([32m`üéØ Status: ${result.overall.status}`[39m)[33m;[39m
     [90m 228 |[39m[0m

      at console.log (node_modules/@jest/console/build/CustomConsole.js:187:10)
      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:225:15)
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:428:22)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "üìä Overall Score: 38/100 (Grade: F)".

    [0m [90m 224 |[39m
     [90m 225 |[39m       console[33m.[39mlog([32m`‚úÖ End-to-end validation completed in ${result.overall.duration.toFixed(2)}ms`[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 226 |[39m       console[33m.[39mlog([32m`üìä Overall Score: ${result.overall.score}/100 (Grade: ${result.overall.grade})`[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 227 |[39m       console[33m.[39mlog([32m`üéØ Status: ${result.overall.status}`[39m)[33m;[39m
     [90m 228 |[39m
     [90m 229 |[39m     } [36mcatch[39m (error) {[0m

      at console.log (node_modules/@jest/console/build/CustomConsole.js:187:10)
      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:226:15)
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:428:22)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "üéØ Status: critical_issues".

    [0m [90m 225 |[39m       console[33m.[39mlog([32m`‚úÖ End-to-end validation completed in ${result.overall.duration.toFixed(2)}ms`[39m)[33m;[39m
     [90m 226 |[39m       console[33m.[39mlog([32m`üìä Overall Score: ${result.overall.score}/100 (Grade: ${result.overall.grade})`[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 227 |[39m       console[33m.[39mlog([32m`üéØ Status: ${result.overall.status}`[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 228 |[39m
     [90m 229 |[39m     } [36mcatch[39m (error) {
     [90m 230 |[39m       console[33m.[39merror([32m'‚ùå End-to-end validation failed:'[39m[33m,[39m error)[33m;[39m[0m

      at console.log (node_modules/@jest/console/build/CustomConsole.js:187:10)
      at EndToEndValidator.validateEndToEnd (src/services/validation/endToEndValidator.ts:227:15)
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:428:22)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚úÖ Integration validation completed. Score: 88/100

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:117:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚úÖ Integration validation completed. Score: 92/100

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:117:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚úÖ Integration validation completed. Score: 96/100

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:117:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚úÖ Integration validation completed. Score: 96/100

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:117:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚úÖ Integration validation completed. Score: 92/100

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:117:15)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚úÖ Integration validation completed. Score: 92/100

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:117:15)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    üîó Starting comprehensive integration validation...

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:63:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }

      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)

  console.log
    ‚úÖ Integration validation completed. Score: 84/100

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:117:15)

  console.log
    ‚úÖ Integration validation completed. Score: 92/100

      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:117:15)

FAIL src/services/validation/__tests__/integrationValidator.test.ts (172.203 s)
  IntegrationValidator
    validateIntegration
      ‚úï should successfully validate module integration (10003 ms)
      ‚úï should run API integration tests (10003 ms)
      ‚úï should validate module relationships (10001 ms)
      ‚úï should validate data flow (10001 ms)
      ‚úï should handle empty module array (10001 ms)
      ‚úï should handle module with missing components (10002 ms)
      ‚úï should calculate integration score (10002 ms)
      ‚úï should provide recommendations (10001 ms)
    API Integration Tests
      ‚úï should validate module CRUD operations (5000 ms)
      ‚úï should validate quiz submission (5003 ms)
      ‚úï should validate authentication flow (5000 ms)
    Module Relationships
      ‚úï should validate quiz-module relationship (5002 ms)
      ‚úï should validate mindmap-module relationship (5003 ms)
      ‚úï should detect broken relationships (5002 ms)
    Data Flow Tests
      ‚úï should validate data consistency (5000 ms)
      ‚úï should validate data transformations (5000 ms)
      ‚úï should validate data validation (5001 ms)
    Component Integration
      ‚úï should validate UI component integration (5001 ms)
      ‚úï should validate service integration (5001 ms)
      ‚úï should validate external service integration (5005 ms)
    error handling
      ‚úï should handle null or undefined modules (10001 ms)
      ‚úï should handle validation errors gracefully (10001 ms)
      ‚úï should provide detailed error messages (10001 ms)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should successfully validate module integration

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 77 |[39m
     [90m 78 |[39m   describe([32m'validateIntegration'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 79 |[39m     it([32m'should successfully validate module integration'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 80 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 81 |[39m
     [90m 82 |[39m       expect(result)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:79:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should run API integration tests

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 86 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 87 |[39m
    [31m[1m>[22m[39m[90m 88 |[39m     it([32m'should run API integration tests'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 89 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 90 |[39m
     [90m 91 |[39m       expect(result[33m.[39mcategories)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:88:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should validate module relationships

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m  95 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m  96 |[39m
    [31m[1m>[22m[39m[90m  97 |[39m     it([32m'should validate module relationships'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m  98 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m  99 |[39m
     [90m 100 |[39m       [36mconst[39m allTests [33m=[39m [[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:97:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should validate data flow

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 112 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 113 |[39m
    [31m[1m>[22m[39m[90m 114 |[39m     it([32m'should validate data flow'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 115 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 116 |[39m
     [90m 117 |[39m       expect(result[33m.[39mcategories[33m.[39mdataIntegration)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:114:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should handle empty module array

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 120 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 121 |[39m
    [31m[1m>[22m[39m[90m 122 |[39m     it([32m'should handle empty module array'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 123 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([])[33m;[39m
     [90m 124 |[39m
     [90m 125 |[39m       expect(result[33m.[39moverall[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:122:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should handle module with missing components

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 128 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 129 |[39m
    [31m[1m>[22m[39m[90m 130 |[39m     it([32m'should handle module with missing components'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 131 |[39m       [36mconst[39m incompleteModule [33m=[39m {
     [90m 132 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 133 |[39m         quiz[33m:[39m undefined[33m,[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:130:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should calculate integration score

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 150 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 151 |[39m
    [31m[1m>[22m[39m[90m 152 |[39m     it([32m'should calculate integration score'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 153 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 154 |[39m
     [90m 155 |[39m       expect(result[33m.[39moverall[33m.[39mscore)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:152:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should provide recommendations

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 158 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 159 |[39m
    [31m[1m>[22m[39m[90m 160 |[39m     it([32m'should provide recommendations'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 161 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 162 |[39m
     [90m 163 |[39m       expect(result[33m.[39mrecommendations)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:160:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ API Integration Tests ‚Ä∫ should validate module CRUD operations

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 167 |[39m
     [90m 168 |[39m   describe([32m'API Integration Tests'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 169 |[39m     it([32m'should validate module CRUD operations'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 170 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 171 |[39m       [36mconst[39m apiTests [33m=[39m result[33m.[39mcategories[33m.[39mapiIntegration[33m;[39m
     [90m 172 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:169:5
      at src/services/validation/__tests__/integrationValidator.test.ts:168:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ API Integration Tests ‚Ä∫ should validate quiz submission

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 175 |[39m     })[33m;[39m
     [90m 176 |[39m
    [31m[1m>[22m[39m[90m 177 |[39m     it([32m'should validate quiz submission'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 178 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 179 |[39m       [36mconst[39m serviceTests [33m=[39m result[33m.[39mcategories[33m.[39mserviceIntegration[33m;[39m
     [90m 180 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:177:5
      at src/services/validation/__tests__/integrationValidator.test.ts:168:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ API Integration Tests ‚Ä∫ should validate authentication flow

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 182 |[39m     })[33m;[39m
     [90m 183 |[39m
    [31m[1m>[22m[39m[90m 184 |[39m     it([32m'should validate authentication flow'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 185 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 186 |[39m       [36mconst[39m apiTests [33m=[39m result[33m.[39mcategories[33m.[39mapiIntegration[33m;[39m
     [90m 187 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:184:5
      at src/services/validation/__tests__/integrationValidator.test.ts:168:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Module Relationships ‚Ä∫ should validate quiz-module relationship

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 192 |[39m
     [90m 193 |[39m   describe([32m'Module Relationships'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 194 |[39m     it([32m'should validate quiz-module relationship'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 195 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 196 |[39m       [36mconst[39m moduleTests [33m=[39m result[33m.[39mcategories[33m.[39mmoduleIntegration[33m;[39m
     [90m 197 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:194:5
      at src/services/validation/__tests__/integrationValidator.test.ts:193:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Module Relationships ‚Ä∫ should validate mindmap-module relationship

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 203 |[39m     })[33m;[39m
     [90m 204 |[39m
    [31m[1m>[22m[39m[90m 205 |[39m     it([32m'should validate mindmap-module relationship'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 206 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 207 |[39m       [36mconst[39m moduleTests [33m=[39m result[33m.[39mcategories[33m.[39mmoduleIntegration[33m;[39m
     [90m 208 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:205:5
      at src/services/validation/__tests__/integrationValidator.test.ts:193:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Module Relationships ‚Ä∫ should detect broken relationships

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 210 |[39m     })[33m;[39m
     [90m 211 |[39m
    [31m[1m>[22m[39m[90m 212 |[39m     it([32m'should detect broken relationships'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 213 |[39m       [36mconst[39m brokenModule [33m=[39m {
     [90m 214 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 215 |[39m         quiz[33m:[39m {[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:212:5
      at src/services/validation/__tests__/integrationValidator.test.ts:193:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Data Flow Tests ‚Ä∫ should validate data consistency

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 232 |[39m
     [90m 233 |[39m   describe([32m'Data Flow Tests'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 234 |[39m     it([32m'should validate data consistency'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 235 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 236 |[39m       [36mconst[39m dataTests [33m=[39m result[33m.[39mcategories[33m.[39mdataIntegration[33m;[39m
     [90m 237 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:234:5
      at src/services/validation/__tests__/integrationValidator.test.ts:233:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Data Flow Tests ‚Ä∫ should validate data transformations

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 239 |[39m     })[33m;[39m
     [90m 240 |[39m
    [31m[1m>[22m[39m[90m 241 |[39m     it([32m'should validate data transformations'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 242 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 243 |[39m       [36mconst[39m dataTests [33m=[39m result[33m.[39mcategories[33m.[39mdataIntegration[33m;[39m
     [90m 244 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:241:5
      at src/services/validation/__tests__/integrationValidator.test.ts:233:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Data Flow Tests ‚Ä∫ should validate data validation

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 246 |[39m     })[33m;[39m
     [90m 247 |[39m
    [31m[1m>[22m[39m[90m 248 |[39m     it([32m'should validate data validation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 249 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 250 |[39m       [36mconst[39m dataTests [33m=[39m result[33m.[39mcategories[33m.[39mdataIntegration[33m;[39m
     [90m 251 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:248:5
      at src/services/validation/__tests__/integrationValidator.test.ts:233:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Component Integration ‚Ä∫ should validate UI component integration

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 255 |[39m
     [90m 256 |[39m   describe([32m'Component Integration'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 257 |[39m     it([32m'should validate UI component integration'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 258 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 259 |[39m       [36mconst[39m serviceTests [33m=[39m result[33m.[39mcategories[33m.[39mserviceIntegration[33m;[39m
     [90m 260 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:257:5
      at src/services/validation/__tests__/integrationValidator.test.ts:256:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Component Integration ‚Ä∫ should validate service integration

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 263 |[39m     })[33m;[39m
     [90m 264 |[39m
    [31m[1m>[22m[39m[90m 265 |[39m     it([32m'should validate service integration'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 266 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 267 |[39m       [36mconst[39m serviceTests [33m=[39m result[33m.[39mcategories[33m.[39mserviceIntegration[33m;[39m
     [90m 268 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:265:5
      at src/services/validation/__tests__/integrationValidator.test.ts:256:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Component Integration ‚Ä∫ should validate external service integration

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 270 |[39m     })[33m;[39m
     [90m 271 |[39m
    [31m[1m>[22m[39m[90m 272 |[39m     it([32m'should validate external service integration'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 273 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 274 |[39m       [36mconst[39m apiTests [33m=[39m result[33m.[39mcategories[33m.[39mapiIntegration[33m;[39m
     [90m 275 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:272:5
      at src/services/validation/__tests__/integrationValidator.test.ts:256:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ error handling ‚Ä∫ should handle null or undefined modules

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 279 |[39m
     [90m 280 |[39m   describe([32m'error handling'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 281 |[39m     it([32m'should handle null or undefined modules'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 282 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([36mnull[39m [36mas[39m any)[33m;[39m
     [90m 283 |[39m
     [90m 284 |[39m       expect(result[33m.[39moverall[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:281:5
      at src/services/validation/__tests__/integrationValidator.test.ts:280:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ error handling ‚Ä∫ should handle validation errors gracefully

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 286 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 287 |[39m
    [31m[1m>[22m[39m[90m 288 |[39m     it([32m'should handle validation errors gracefully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 289 |[39m       [36mconst[39m errorModule [33m=[39m {
     [90m 290 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 291 |[39m         id[33m:[39m [36mnull[39m [36mas[39m any [90m// Invalid ID[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:288:5
      at src/services/validation/__tests__/integrationValidator.test.ts:280:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ error handling ‚Ä∫ should provide detailed error messages

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 299 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 300 |[39m
    [31m[1m>[22m[39m[90m 301 |[39m     it([32m'should provide detailed error messages'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 302 |[39m       [36mconst[39m invalidModule [33m=[39m {
     [90m 303 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 304 |[39m         quiz[33m:[39m {[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:301:5
      at src/services/validation/__tests__/integrationValidator.test.ts:280:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "LLM Orchestrator initialized: {
      provider: 'openai',
      hasApiKey: true,
      model: 'gpt-4o-mini',
      usingRealProvider: true,
      useRealServices: true
    }".

    [0m [90m 79 |[39m     }
     [90m 80 |[39m     
    [31m[1m>[22m[39m[90m 81 |[39m     console[33m.[39mlog([32m'LLM Orchestrator initialized:'[39m[33m,[39m {
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 82 |[39m       provider[33m:[39m [36mthis[39m[33m.[39mprovider [36minstanceof[39m [33mMockLLMProvider[39m [33m?[39m [32m'mock'[39m [33m:[39m config[33m.[39mprovider[33m,[39m
     [90m 83 |[39m       hasApiKey[33m:[39m [33m![39m[33m![39mconfig[33m.[39mapiKey[33m,[39m
     [90m 84 |[39m       model[33m:[39m config[33m.[39mmodel[33m,[39m[0m

      at console.log (node_modules/@jest/console/build/CustomConsole.js:187:10)
      at new ModuleGenerationOrchestrator (src/services/llm/orchestrator.ts:81:13)
      at IntegrationValidator.testOpenAIApiIntegration (src/services/validation/integrationValidator.ts:860:28)
      at IntegrationValidator.testApiIntegration (src/services/validation/integrationValidator.ts:209:27)
      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:103:42)
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:258:22)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "‚úÖ Integration validation completed. Score: 88/100".

    [0m [90m 115 |[39m       report[33m.[39mcriticalIssues [33m=[39m [36mthis[39m[33m.[39midentifyCriticalIssues(report)[33m;[39m
     [90m 116 |[39m
    [31m[1m>[22m[39m[90m 117 |[39m       console[33m.[39mlog([32m`‚úÖ Integration validation completed. Score: ${report.overall.score}/100`[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 118 |[39m
     [90m 119 |[39m     } [36mcatch[39m (error) {
     [90m 120 |[39m       console[33m.[39merror([32m'‚ùå Integration validation failed:'[39m[33m,[39m error)[33m;[39m[0m

      at console.log (node_modules/@jest/console/build/CustomConsole.js:187:10)
      at IntegrationValidator.validateIntegration (src/services/validation/integrationValidator.ts:117:15)
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:170:22)

FAIL src/services/validation/__tests__/integrationValidator.extended.test.ts (186.641 s)
  IntegrationValidator - Extended Edge Case Tests
    validateIntegration
      ‚úì should handle empty module array (7314 ms)
      ‚úì should handle null/undefined modules gracefully (7977 ms)
      ‚úì should handle modules with missing required fields (6142 ms)
      ‚úì should handle circular module dependencies (7921 ms)
      ‚úì should handle very large module sets efficiently (7663 ms)
      ‚úï should catch integration errors and continue (7522 ms)
    Module Integration Tests
      ‚úì should detect missing prerequisites (7447 ms)
      ‚úì should validate section ordering edge cases (6928 ms)
      ‚úï should handle difficulty progression violations (8014 ms)
    Service Integration Tests
      ‚úì should handle service failures gracefully (7469 ms)
      ‚úï should validate quiz structure edge cases (8212 ms)
      ‚úì should handle LLM service timeouts (7771 ms)
    Data Integration Tests
      ‚úì should detect serialization issues with circular references (7876 ms)
      ‚úì should handle data migration edge cases (7525 ms)
      ‚úì should validate data relationships with orphaned references (7939 ms)
    API Integration Tests
      ‚úì should handle malformed YouTube URLs (6950 ms)
      ‚úì should test API error handling for various scenarios (7232 ms)
      ‚úì should detect rate limiting behavior (6984 ms)
    Performance Integration Tests
      ‚úì should handle concurrent loading stress (7144 ms)
      ‚úì should detect memory leaks (6471 ms)
      ‚úì should test resource cleanup effectiveness (6574 ms)
      ‚úì should test scalability limits (6797 ms)
    Report Generation
      ‚úì should generate meaningful recommendations (7977 ms)
      ‚úì should identify critical issues correctly (7344 ms)
      ‚úì should calculate scores accurately (7264 ms)

  ‚óè IntegrationValidator - Extended Edge Case Tests ‚Ä∫ validateIntegration ‚Ä∫ should catch integration errors and continue

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 132 |[39m       expect(report)[33m.[39mtoBeDefined()[33m;[39m
     [90m 133 |[39m       expect(report[33m.[39mcriticalIssues[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 134 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 135 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 136 |[39m   })[33m;[39m
     [90m 137 |[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.extended.test.ts:134:31)

  ‚óè IntegrationValidator - Extended Edge Case Tests ‚Ä∫ Module Integration Tests ‚Ä∫ should handle difficulty progression violations

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 209 |[39m       )[33m;[39m
     [90m 210 |[39m       
    [31m[1m>[22m[39m[90m 211 |[39m       expect(difficultyTest[33m?[39m[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 212 |[39m       expect(difficultyTest[33m?[39m[33m.[39merrors[33m.[39msome(e [33m=>[39m e[33m.[39mincludes([32m'requires harder prerequisite'[39m)))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 213 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 214 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.extended.test.ts:211:38)

  ‚óè IntegrationValidator - Extended Edge Case Tests ‚Ä∫ Service Integration Tests ‚Ä∫ should validate quiz structure edge cases

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 268 |[39m       )[33m;[39m
     [90m 269 |[39m       
    [31m[1m>[22m[39m[90m 270 |[39m       expect(quizTest[33m?[39m[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 271 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 272 |[39m
     [90m 273 |[39m     it([32m'should handle LLM service timeouts'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.extended.test.ts:270:32)

A worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.
-------------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                           | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                                                                          
-------------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                      |   68.61 |    64.55 |   69.16 |   68.92 |                                                                                                                                                                                                                                            
 src                           |   18.32 |    13.63 |      30 |   18.46 |                                                                                                                                                                                                                                            
  App.tsx                      |   81.25 |       50 |   66.66 |   81.25 | 48-50                                                                                                                                                                                                                                      
  index.tsx                    |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  reportWebVitals.ts           |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  test-ai-resources.ts         |       0 |        0 |       0 |       0 | 8-91                                                                                                                                                                                                                                       
  test-youtube-console.ts      |       0 |        0 |       0 |       0 | 9-124                                                                                                                                                                                                                                      
 src/components                |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  AIGeneratedFooter.tsx        |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  MiniMapSector.tsx            |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  Navigation.tsx               |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  ProtectedRoute.tsx           |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
 src/components/admin          |    83.6 |    71.06 |   76.47 |   84.75 |                                                                                                                                                                                                                                            
  AIModuleGenerator.tsx        |   97.14 |    91.66 |     100 |   97.14 | 52                                                                                                                                                                                                                                         
  AutomaticQuizGenerator.tsx   |   94.94 |    81.66 |   94.44 |   96.42 | 62,71-72                                                                                                                                                                                                                                   
  GenerationProgress.tsx       |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  ModuleEditor.tsx             |      54 |    40.74 |   44.28 |   54.54 | 93-97,104-107,115,207,285,327,363-395,438-479,539-640,665-739                                                                                                                                                                              
  ModulePreview.tsx            |   95.34 |    96.49 |   92.85 |   95.23 | 52,167                                                                                                                                                                                                                                     
  QuizEditor.tsx               |   89.09 |    65.62 |   95.83 |   97.95 | 100                                                                                                                                                                                                                                        
 src/components/common         |   66.12 |    92.68 |   34.48 |      65 |                                                                                                                                                                                                                                            
  ErrorBoundary.tsx            |     100 |       96 |     100 |     100 | 59                                                                                                                                                                                                                                         
  LoadingSpinner.tsx           |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  MarkdownContent.tsx          |   19.23 |    66.66 |       5 |   19.23 | 33-140                                                                                                                                                                                                                                     
  index.ts                     |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
  index.tsx                    |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
 src/components/mindmap        |   88.42 |    73.03 |      86 |    89.2 |                                                                                                                                                                                                                                            
  InteractiveMindMap.tsx       |   89.51 |     65.3 |   89.18 |   90.99 | 111,116-118,259-268                                                                                                                                                                                                                        
  ModuleDeepDiveMindMap.tsx    |   86.36 |     82.5 |   76.92 |   86.15 | 142-163,218-219,326                                                                                                                                                                                                                        
 src/components/modules        |   81.25 |     37.5 |      75 |   81.25 |                                                                                                                                                                                                                                            
  VideoPlayer.tsx              |   81.25 |     37.5 |      75 |   81.25 | 16,41-42                                                                                                                                                                                                                                   
 src/components/notes          |     100 |    66.66 |     100 |     100 |                                                                                                                                                                                                                                            
  NoteEditor.tsx               |     100 |    66.66 |     100 |     100 | 15                                                                                                                                                                                                                                         
 src/components/quiz           |   91.37 |    80.95 |     100 |   96.29 |                                                                                                                                                                                                                                            
  QuizComponent.tsx            |   91.37 |    80.95 |     100 |   96.29 | 19,32                                                                                                                                                                                                                                      
 src/config                    |     100 |    71.42 |     100 |     100 |                                                                                                                                                                                                                                            
  admin.ts                     |     100 |    71.42 |     100 |     100 | 7-18                                                                                                                                                                                                                                       
 src/contexts                  |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  AdminContext.tsx             |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
 src/data                      |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  mindmap.ts                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  modules.ts                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
 src/hooks                     |    98.8 |    82.95 |     100 |   98.66 |                                                                                                                                                                                                                                            
  useModuleGenerator.ts        |    98.8 |    82.95 |     100 |   98.66 | 278                                                                                                                                                                                                                                        
 src/pages                     |   89.56 |    79.87 |   86.02 |   91.45 |                                                                                                                                                                                                                                            
  AIDemo.tsx                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  BibliographyPage.tsx         |    86.2 |     87.5 |   83.33 |   88.88 | 44-46,64                                                                                                                                                                                                                                   
  Dashboard.tsx                |   89.47 |    89.47 |     100 |   89.47 | 25,38                                                                                                                                                                                                                                      
  EnhancedMindMapPage.tsx      |     100 |    95.65 |     100 |     100 | 21                                                                                                                                                                                                                                         
  MindMapPage.tsx              |   47.61 |        0 |   33.33 |   58.82 | 110,116-117,148-151                                                                                                                                                                                                                        
  MiniMapDemo.tsx              |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  ModulePage.tsx               |   77.77 |    55.55 |   68.75 |   77.27 | 40,89-97,120,273-377                                                                                                                                                                                                                       
  NotesPage.tsx                |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  SearchPage.tsx               |   94.59 |     92.3 |   91.66 |   97.05 | 156                                                                                                                                                                                                                                        
  TestYouTubeAPI.tsx           |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  TestYouTubeIntegration.tsx   |   96.82 |    87.09 |    92.3 |   98.38 | 131                                                                                                                                                                                                                                        
 src/pages/admin               |   73.76 |    63.44 |   65.55 |   73.73 |                                                                                                                                                                                                                                            
  AdminDashboard.tsx           |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  AdminLogin.tsx               |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  AdminModules.tsx             |   66.27 |    60.37 |   61.29 |   65.85 | 104-105,109-112,117-118,122-123,127-137,142-143,147-156,163,180,253,336-363                                                                                                                                                                
  AdminResources.tsx           |   73.33 |     61.9 |      62 |   73.33 | 111-135,139-146,155-162,187-194,301,342-374,468-506,529                                                                                                                                                                                    
 src/schemas                   |    87.5 |      100 |   57.14 |   84.21 |                                                                                                                                                                                                                                            
  module.example.ts            |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  module.schema.ts             |       0 |      100 |       0 |       0 | 442-450                                                                                                                                                                                                                                    
  module.validator.ts          |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
 src/services/bibliography     |      75 |    73.92 |   74.39 |   73.55 |                                                                                                                                                                                                                                            
  bibliographyEnricher.ts      |   85.03 |    75.37 |   81.03 |   84.46 | 546-568,644,680-730,763-790,838,855,878-916,960,969                                                                                                                                                                                        
  example-usage.ts             |       0 |        0 |       0 |       0 | 13-110                                                                                                                                                                                                                                     
  index.ts                     |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
  referenceDatabase.ts         |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
 src/services/llm              |   71.53 |     62.5 |   71.79 |    71.5 |                                                                                                                                                                                                                                            
  config.ts                    |    67.5 |       50 |   56.25 |      75 | 83,88-90,97,115,142-143,171                                                                                                                                                                                                                
  example-usage.ts             |       0 |        0 |       0 |       0 | 8-158                                                                                                                                                                                                                                      
  index.ts                     |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
  orchestrator.ts              |   85.98 |    59.65 |   89.18 |   85.85 | 270-327,386-403,464-473,521-523                                                                                                                                                                                                            
  provider.ts                  |   89.65 |    80.85 |   93.33 |   89.02 | 126,167,298-305,323-330,354-355                                                                                                                                                                                                            
  types.ts                     |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
 src/services/llm/generators   |   72.12 |    58.79 |   66.25 |   72.39 |                                                                                                                                                                                                                                            
  bibliography-generator.ts    |   96.87 |    71.11 |   88.88 |   96.66 | 449-452                                                                                                                                                                                                                                    
  content-generator.ts         |   79.16 |    55.98 |   61.53 |   81.53 | 102,171,219,223-232,335,381,446,718-739,766-771,784-818,851-856                                                                                                                                                                            
  mindmap-generator.ts         |   94.11 |    79.66 |   96.15 |   93.33 | 151,176-177                                                                                                                                                                                                                                
  quiz-generator.ts            |   67.88 |    42.85 |   64.28 |   68.31 | 110,224-225,320-321,332-333,345-348,417,503-514,565-649                                                                                                                                                                                    
  video-generator.ts           |   52.14 |    54.02 |   46.93 |   51.63 | 54-56,200,276-277,319-435,505-555,590,646-769                                                                                                                                                                                              
 src/services/llm/providers    |   96.47 |    96.55 |     100 |    97.5 |                                                                                                                                                                                                                                            
  mock.ts                      |   96.29 |       90 |     100 |   95.83 | 113                                                                                                                                                                                                                                        
  openai.ts                    |   96.55 |    97.91 |     100 |   98.21 | 109                                                                                                                                                                                                                                        
 src/services/mindmap          |   71.37 |    62.02 |   68.53 |   72.95 |                                                                                                                                                                                                                                            
  index.ts                     |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  llmMindMapGenerator.ts       |       0 |        0 |       0 |       0 | 30-535                                                                                                                                                                                                                                     
  mindMapGenerator.ts          |   79.16 |    71.51 |   73.58 |   81.51 | 75-144,347-349,409-438,490-491,553-554,580                                                                                                                                                                                                 
  mindMapLayouts.ts            |   94.49 |    76.31 |     100 |   95.28 | 87,108,234,446,487,531,537,546-551                                                                                                                                                                                                         
  reactFlowAdapter.ts          |   90.59 |    79.51 |   89.18 |   92.92 | 41,154-178,461,470                                                                                                                                                                                                                         
 src/services/moduleGeneration |    28.8 |    27.83 |      25 |   29.11 |                                                                                                                                                                                                                                            
  demo.ts                      |       0 |        0 |       0 |       0 | 11-296                                                                                                                                                                                                                                     
  index.ts                     |   95.89 |       90 |     100 |   97.18 | 191-194                                                                                                                                                                                                                                    
 src/services/modules          |   72.65 |     62.5 |      75 |   73.12 |                                                                                                                                                                                                                                            
  index.ts                     |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
  moduleGenerator.ts           |   91.66 |    64.06 |     100 |   91.22 | 156,164,168,172,176,180-181,456-459,477                                                                                                                                                                                                    
  moduleService.ts             |    54.4 |    61.53 |   53.57 |   54.86 | 107,167,170,175,180,185,213,229-362                                                                                                                                                                                                        
 src/services/quiz             |   51.09 |    58.52 |   52.94 |   51.35 |                                                                                                                                                                                                                                            
  adaptiveQuizEngine.ts        |       0 |        0 |       0 |       0 | 64-543                                                                                                                                                                                                                                     
  automaticQuizOrchestrator.ts |   92.92 |    78.43 |     100 |   92.55 | 67-69,142,413-414,431-432                                                                                                                                                                                                                  
  contentAnalyzer.ts           |    2.63 |     7.69 |    7.14 |    2.66 | 52-493                                                                                                                                                                                                                                     
  enhancedQuizGenerator.ts     |   86.95 |    87.27 |   90.62 |   89.41 | 184-193,335-347,401-402,407                                                                                                                                                                                                                
  example-usage.ts             |       0 |        0 |       0 |       0 | 12-311                                                                                                                                                                                                                                     
  index.ts                     |    8.82 |        0 |       0 |    9.09 | 72-166                                                                                                                                                                                                                                     
  questionTypeGenerators.ts    |       0 |        0 |       0 |       0 | 56-835                                                                                                                                                                                                                                     
  quizEnhancer.ts              |   81.21 |    82.02 |   93.93 |   84.81 | 86-89,214,227,243,251,258,273,310-393,480,482,484,486,488                                                                                                                                                                                  
  quizTemplates.ts             |   98.21 |    90.38 |      95 |   98.03 | 300                                                                                                                                                                                                                                        
  quizValidator.ts             |   94.64 |    85.82 |     100 |   93.91 | 174-177,224-227,253-256                                                                                                                                                                                                                    
  testQuizQuality.ts           |       0 |        0 |       0 |       0 | 12-137                                                                                                                                                                                                                                     
 src/services/resourcePipeline |   28.78 |    28.83 |   33.33 |   28.39 |                                                                                                                                                                                                                                            
  enhancedGenerator.ts         |       0 |        0 |       0 |       0 | 56-507                                                                                                                                                                                                                                     
  index.ts                     |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
  integrationHooks.ts          |       0 |        0 |       0 |       0 | 45-550                                                                                                                                                                                                                                     
  monitoring.ts                |       0 |        0 |       0 |       0 | 84-692                                                                                                                                                                                                                                     
  pipeline.ts                  |   96.51 |    85.45 |     100 |   97.82 | 508-509,534,725                                                                                                                                                                                                                            
 src/services/validation       |    83.7 |    73.65 |   92.41 |   84.17 |                                                                                                                                                                                                                                            
  demo.ts                      |       0 |        0 |       0 |       0 | 10-318                                                                                                                                                                                                                                     
  endToEndValidator.ts         |   89.03 |    69.94 |   97.46 |   90.61 | 359-361,432,438-440,509-511,587-589,658-660,729-731,973,1003,1244,1265,1269,1288,1309-1311,1386,1437,1593-1594,1596-1597,1599-1600,1715,1729,1758,1792,1817,1822,1839,1844,1871-1882                                                       
  index.ts                     |   95.74 |    88.23 |    87.5 |   95.62 | 294,386,398,567,622,631                                                                                                                                                                                                                    
  integrationValidator.ts      |   91.02 |    82.43 |   96.36 |   90.86 | 120-121,358-361,369-370,458,517-520,593-594,627,636,681,741-742,771,776,825-828,907-914,954,960,968-973,1005,1018-1019,1133,1184,1195-1196,1231-1232,1277-1278,1360,1364-1369,1409-1410,1455-1460,1486-1497,1520-1523                      
  systemValidator.ts           |    80.8 |    72.45 |   89.41 |   81.61 | 223-228,236,286-287,340,371,377,411,417,423,429,454-456,470-474,492-493,520,522,528,534,546,597,602,607,612,631,641,687,732,752-765,774-776,797,802,818-821,874-878,908-927,941-942,1009,1011,1020,1036-1037,1134-1135,1137-1138,1140-1141 
 src/services/video            |      62 |     68.5 |   59.45 |   62.13 |                                                                                                                                                                                                                                            
  example-usage.ts             |       0 |        0 |       0 |       0 | 8-162                                                                                                                                                                                                                                      
  index.ts                     |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
  videoEnricher.ts             |   61.14 |    62.37 |    64.7 |   60.95 | 145,172,179,249-321,388-390,396,404-414,429-440,459-512                                                                                                                                                                                    
  youtubeService.ts            |   85.03 |    81.31 |   84.61 |   87.28 | 238,305-334,444,456-458,524                                                                                                                                                                                                                
 src/test-utils                |   31.91 |        0 |      40 |   32.55 |                                                                                                                                                                                                                                            
  index.ts                     |   31.91 |        0 |      40 |   32.55 | 33-53,75-125                                                                                                                                                                                                                               
 src/test-utils/builders       |   80.89 |    53.84 |   84.61 |    81.6 |                                                                                                                                                                                                                                            
  moduleBuilder.ts             |   70.45 |    14.28 |   80.95 |   72.09 | 75-76,110-117,137,144-148                                                                                                                                                                                                                  
  quizBuilder.ts               |   91.11 |     62.5 |   88.88 |    90.9 | 19-20,49-50                                                                                                                                                                                                                                
 src/test-utils/helpers        |   28.57 |      7.4 |   13.33 |   31.68 |                                                                                                                                                                                                                                            
  testHelpers.ts               |   28.57 |      7.4 |   13.33 |   31.68 | 23,34-45,56-57,74-84,97-98,107-132,163-174,182-211,249,257-266,276-282,295-306                                                                                                                                                             
 src/test-utils/mocks          |   33.98 |    51.85 |   22.58 |   32.98 |                                                                                                                                                                                                                                            
  handlers.ts                  |       0 |        0 |       0 |       0 | 8-301                                                                                                                                                                                                                                      
  llmProvider.ts               |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  server.ts                    |       0 |      100 |       0 |       0 | 7-31                                                                                                                                                                                                                                       
 src/testUtils                 |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  mockData.ts                  |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
 src/types                     |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
  index.ts                     |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
  schema.ts                    |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                            
 src/utils                     |   97.45 |    98.55 |     100 |   97.27 |                                                                                                                                                                                                                                            
  auth.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
  contentProcessor.ts          |   98.73 |    97.77 |     100 |   98.64 | 242                                                                                                                                                                                                                                        
  localStorage.ts              |   92.68 |      100 |     100 |    92.3 | 74,90-91                                                                                                                                                                                                                                   
  test-utils.tsx               |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                            
-------------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Summary of all failing tests
FAIL src/utils/__tests__/test-utils.test.tsx
  ‚óè test-utils ‚Ä∫ custom render function ‚Ä∫ should handle components with complex provider dependencies

    expect(jest.fn()).toHaveBeenLastCalledWith(...expected)

    Expected: "/dashboard"
    Received
           1: "/login", {"state": {"from": "/"}}
    ->     2: "/login", {"state": {"from": "/"}}

    Number of calls: 2

    [0m [90m 362 |[39m       [36mconst[39m newButtons [33m=[39m screen[33m.[39mgetAllByText([32m'Action'[39m)[33m;[39m
     [90m 363 |[39m       fireEvent[33m.[39mclick(newButtons[[35m0[39m])[33m;[39m
    [31m[1m>[22m[39m[90m 364 |[39m       expect(mockNavigate)[33m.[39mtoHaveBeenLastCalledWith([32m'/dashboard'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 365 |[39m     })[33m;[39m
     [90m 366 |[39m   })[33m;[39m
     [90m 367 |[39m[0m

      at Object.<anonymous> (src/utils/__tests__/test-utils.test.tsx:364:28)

FAIL src/__tests__/index.test.tsx
  ‚óè index.tsx ‚Ä∫ creates root element and renders App

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: <div id="root" />

    Number of calls: 0

    [0m [90m 57 |[39m
     [90m 58 |[39m     [90m// Verify createRoot was called with the root element[39m
    [31m[1m>[22m[39m[90m 59 |[39m     expect([33mReactDOM[39m[33m.[39mcreateRoot)[33m.[39mtoHaveBeenCalledWith(rootElement)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 60 |[39m
     [90m 61 |[39m     [90m// Verify render was called with App wrapped in StrictMode[39m
     [90m 62 |[39m     expect(mockRoot[33m.[39mrender)[33m.[39mtoHaveBeenCalledWith([0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:59:33)

  ‚óè index.tsx ‚Ä∫ calls reportWebVitals

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 72 |[39m
     [90m 73 |[39m     [90m// Verify reportWebVitals was called[39m
    [31m[1m>[22m[39m[90m 74 |[39m     expect(reportWebVitals)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 75 |[39m   })[33m;[39m
     [90m 76 |[39m
     [90m 77 |[39m   test([32m'handles missing root element gracefully'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:74:29)

  ‚óè index.tsx ‚Ä∫ handles missing root element gracefully

    expect(received).toThrow()

    Received function did not throw

    [0m [90m 84 |[39m         require([32m'../index'[39m)[33m;[39m
     [90m 85 |[39m       })[33m;[39m
    [31m[1m>[22m[39m[90m 86 |[39m     })[33m.[39mtoThrow()[33m;[39m
     [90m    |[39m        [31m[1m^[22m[39m
     [90m 87 |[39m   })[33m;[39m
     [90m 88 |[39m
     [90m 89 |[39m   test([32m'renders in StrictMode'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:86:8)

  ‚óè index.tsx ‚Ä∫ renders in StrictMode

    expect(received).toBe(expected) // Object.is equality

    Expected: [Function default]
    Received: serializes to the same string

    [0m [90m 94 |[39m     [90m// Check that the rendered element is wrapped in StrictMode[39m
     [90m 95 |[39m     expect(renderCall[33m.[39mtype)[33m.[39mtoBe([33mReact[39m[33m.[39m[33mStrictMode[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 96 |[39m     expect(renderCall[33m.[39mprops[33m.[39mchildren[33m.[39mtype)[33m.[39mtoBe([33mApp[39m)[33m;[39m
     [90m    |[39m                                            [31m[1m^[22m[39m
     [90m 97 |[39m   })[33m;[39m
     [90m 98 |[39m
     [90m 99 |[39m   test([32m'uses correct root element id'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:96:44)

  ‚óè index.tsx ‚Ä∫ uses correct root element id

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: <div id="root" />

    Number of calls: 0

    [0m [90m 106 |[39m
     [90m 107 |[39m     [90m// Verify createRoot was called with the correct element[39m
    [31m[1m>[22m[39m[90m 108 |[39m     expect([33mReactDOM[39m[33m.[39mcreateRoot)[33m.[39mtoHaveBeenCalledWith(rootElement)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 109 |[39m     expect([33mReactDOM[39m[33m.[39mcreateRoot)[33m.[39mnot[33m.[39mtoHaveBeenCalledWith(wrongElement)[33m;[39m
     [90m 110 |[39m
     [90m 111 |[39m     document[33m.[39mbody[33m.[39mremoveChild(wrongElement)[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:108:33)

  ‚óè index.tsx ‚Ä∫ executes in correct order

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 0

      Array [
    -   "createRoot",
        "render",
    -   "reportWebVitals",
      ]

    [0m [90m 136 |[39m     require([32m'../index'[39m)[33m;[39m
     [90m 137 |[39m
    [31m[1m>[22m[39m[90m 138 |[39m     expect(executionOrder)[33m.[39mtoEqual([[32m'createRoot'[39m[33m,[39m [32m'render'[39m[33m,[39m [32m'reportWebVitals'[39m])[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 139 |[39m   })[33m;[39m
     [90m 140 |[39m
     [90m 141 |[39m   test([32m'root element type assertion works correctly'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:138:28)

  ‚óè index.tsx ‚Ä∫ root element type assertion works correctly

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 143 |[39m
     [90m 144 |[39m     [90m// Verify that createRoot was called with an HTMLElement[39m
    [31m[1m>[22m[39m[90m 145 |[39m     [36mconst[39m rootArg [33m=[39m ([33mReactDOM[39m[33m.[39mcreateRoot [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmock[33m.[39mcalls[[35m0[39m][[35m0[39m][33m;[39m
     [90m     |[39m                                                                     [31m[1m^[22m[39m
     [90m 146 |[39m     expect(rootArg)[33m.[39mtoBeInstanceOf([33mHTMLElement[39m)[33m;[39m
     [90m 147 |[39m     expect(rootArg[33m.[39mid)[33m.[39mtoBe([32m'root'[39m)[33m;[39m
     [90m 148 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:145:69)

  ‚óè index.tsx ‚Ä∫ does not call createRoot multiple times

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 157 |[39m     require([32m'../index'[39m)[33m;[39m
     [90m 158 |[39m
    [31m[1m>[22m[39m[90m 159 |[39m     expect([33mReactDOM[39m[33m.[39mcreateRoot)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 160 |[39m   })[33m;[39m
     [90m 161 |[39m
     [90m 162 |[39m   test([32m'creates root with proper element reference'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:159:33)

  ‚óè index.tsx ‚Ä∫ creates root with proper element reference

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 164 |[39m
     [90m 165 |[39m     [36mconst[39m createRootCall [33m=[39m ([33mReactDOM[39m[33m.[39mcreateRoot [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmock[33m.[39mcalls[[35m0[39m][33m;[39m
    [31m[1m>[22m[39m[90m 166 |[39m     expect(createRootCall[[35m0[39m])[33m.[39mtoBe(document[33m.[39mgetElementById([32m'root'[39m))[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 167 |[39m   })[33m;[39m
     [90m 168 |[39m
     [90m 169 |[39m   test([32m'renders exactly one App component'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:166:26)

  ‚óè index.tsx ‚Ä∫ renders exactly one App component

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

    [0m [90m 173 |[39m     [36mconst[39m appComponents [33m=[39m findComponentsByType(renderCall[33m,[39m [33mApp[39m)[33m;[39m
     [90m 174 |[39m     
    [31m[1m>[22m[39m[90m 175 |[39m     expect(appComponents)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 176 |[39m   })[33m;[39m
     [90m 177 |[39m
     [90m 178 |[39m   [90m// Helper function to find components by type in React tree[39m[0m

      at Object.<anonymous> (src/__tests__/index.test.tsx:175:27)

FAIL src/__tests__/reportWebVitals.extended.test.ts
  ‚óè reportWebVitals - Extended Tests ‚Ä∫ should call all web vitals functions when valid handler is provided

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: [Function mockConstructor]

    Number of calls: 0

    [0m [90m 33 |[39m     [36mawait[39m [36mnew[39m [33mPromise[39m(resolve [33m=>[39m setTimeout(resolve[33m,[39m [35m0[39m))[33m;[39m
     [90m 34 |[39m
    [31m[1m>[22m[39m[90m 35 |[39m     expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 36 |[39m     expect(mockWebVitals[33m.[39mgetFID)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m 37 |[39m     expect(mockWebVitals[33m.[39mgetFCP)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m 38 |[39m     expect(mockWebVitals[33m.[39mgetLCP)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:35:34)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ should handle errors in web vitals functions gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: [Function mockConstructor]

    Number of calls: 0

    [0m [90m 106 |[39m     
     [90m 107 |[39m     [90m// Other functions should still be called[39m
    [31m[1m>[22m[39m[90m 108 |[39m     expect(mockWebVitals[33m.[39mgetFID)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 109 |[39m     expect(mockWebVitals[33m.[39mgetFCP)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m 110 |[39m     expect(mockWebVitals[33m.[39mgetLCP)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m
     [90m 111 |[39m     expect(mockWebVitals[33m.[39mgetTTFB)[33m.[39mtoHaveBeenCalledWith(mockHandler)[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:108:34)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ should work with async handlers

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: [Function mockConstructor]

    Number of calls: 0

    [0m [90m 119 |[39m     [36mawait[39m [36mnew[39m [33mPromise[39m(resolve [33m=>[39m setTimeout(resolve[33m,[39m [35m0[39m))[33m;[39m
     [90m 120 |[39m     
    [31m[1m>[22m[39m[90m 121 |[39m     expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledWith(asyncHandler)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 122 |[39m     expect(mockWebVitals[33m.[39mgetFID)[33m.[39mtoHaveBeenCalledWith(asyncHandler)[33m;[39m
     [90m 123 |[39m     expect(mockWebVitals[33m.[39mgetFCP)[33m.[39mtoHaveBeenCalledWith(asyncHandler)[33m;[39m
     [90m 124 |[39m     expect(mockWebVitals[33m.[39mgetLCP)[33m.[39mtoHaveBeenCalledWith(asyncHandler)[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:121:34)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ should pass the correct handler reference to all metrics

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: [Function mockConstructor]

    Number of calls: 0

    [0m [90m 136 |[39m     
     [90m 137 |[39m     [90m// Each call should use its own handler[39m
    [31m[1m>[22m[39m[90m 138 |[39m     expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledWith(handler1)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 139 |[39m     expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledWith(handler2)[33m;[39m
     [90m 140 |[39m     expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledTimes([35m2[39m)[33m;[39m
     [90m 141 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:138:34)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ Edge cases ‚Ä∫ should not break if web-vitals module structure changes

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 191 |[39m       
     [90m 192 |[39m       [90m// Other functions should still be attempted[39m
    [31m[1m>[22m[39m[90m 193 |[39m       expect(mockWebVitals[33m.[39mgetFID)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 194 |[39m     })[33m;[39m
     [90m 195 |[39m   })[33m;[39m
     [90m 196 |[39m[0m

      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:193:36)

  ‚óè reportWebVitals - Extended Tests ‚Ä∫ Performance considerations ‚Ä∫ should handle multiple rapid calls efficiently

    expect(received).toHaveBeenCalledWith(...expected)

    Matcher error: received value must be a mock or spy function

    Received has value: undefined

    [0m [90m 218 |[39m       [90m// All handlers should be registered[39m
     [90m 219 |[39m       handlers[33m.[39mforEach(handler [33m=>[39m {
    [31m[1m>[22m[39m[90m 220 |[39m         expect(mockWebVitals[33m.[39mgetCLS)[33m.[39mtoHaveBeenCalledWith(handler)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 221 |[39m       })[33m;[39m
     [90m 222 |[39m     })[33m;[39m
     [90m 223 |[39m   })[33m;[39m[0m

      at forEach (src/__tests__/reportWebVitals.extended.test.ts:220:38)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (src/__tests__/reportWebVitals.extended.test.ts:219:16)

FAIL src/services/video/__tests__/youtubeService.test.ts
  ‚óè YouTubeService ‚Ä∫ searchVideos ‚Ä∫ should search videos with API

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 3
    Received array:  [{"categoryId": "27", "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA", "channelTitle": "Jung Psychology Institute", "description": "An in-depth exploration of Jungian concepts related to Jung shadow, covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.", "duration": "PT24M36S", "likeCount": "4821", "publishedAt": "2023-10-15T09:00:00Z", "tags": ["jung", "psychology", "archetypes", "jung shadow"], "thumbnails": {"default": {"height": 90, "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg", "width": 120}, "high": {"height": 360, "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg", "width": 480}, "maxres": {"height": 720, "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg", "width": 1280}, "medium": {"height": 180, "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg", "width": 320}}, "title": "Carl Jung and the Psychology of Jung shadow", "videoId": "nBUQsNpyPHs", "viewCount": "125430"}, {"categoryId": "27", "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA", "channelTitle": "Academy of Ideas", "description": "A comprehensive lecture examining Jung shadow through the lens of analytical psychology, featuring case studies and practical therapeutic applications.", "duration": "PT18M42S", "likeCount": "3456", "publishedAt": "2023-11-22T14:30:00Z", "tags": ["jungian analysis", "psychology", "therapy", "jung shadow"], "thumbnails": {"default": {"height": 90, "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg", "width": 120}, "high": {"height": 360, "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg", "width": 480}, "medium": {"height": 180, "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg", "width": 320}}, "title": "Understanding Jung shadow Through Jungian Analysis", "videoId": "VjZyGfb-LbM", "viewCount": "89234"}, {"categoryId": "27", "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q", "channelTitle": "Philosophy Tube", "description": "An engaging animated exploration of Jung shadow concepts in Jungian psychology, perfect for visual learners and beginners.", "duration": "PT12M15S", "likeCount": "12345", "publishedAt": "2023-09-08T10:00:00Z", "tags": ["animation", "jung", "psychology explained", "jung shadow"], "thumbnails": {"default": {"height": 90, "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg", "width": 120}, "high": {"height": 360, "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg", "width": 480}, "medium": {"height": 180, "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg", "width": 320}}, "title": "Jung shadow: A Jungian Perspective - Animated", "videoId": "7uaJLbm9hBQ", "viewCount": "234567"}]

    [0m [90m 92 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m service[33m.[39msearchVideos([32m'Jung shadow'[39m)[33m;[39m
     [90m 93 |[39m
    [31m[1m>[22m[39m[90m 94 |[39m       expect(results)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m    |[39m                       [31m[1m^[22m[39m
     [90m 95 |[39m       expect(results[[35m0[39m])[33m.[39mtoMatchObject({
     [90m 96 |[39m         videoId[33m:[39m [32m'video1'[39m[33m,[39m
     [90m 97 |[39m         title[33m:[39m [32m'Jung Shadow Concept'[39m[33m,[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:94:23)

  ‚óè YouTubeService ‚Ä∫ searchVideos ‚Ä∫ should cache search results

    expect(received).toHaveBeenCalledTimes(expected)

    Expected number of calls: 2
    Received number of calls: 3

    [0m [90m 158 |[39m
     [90m 159 |[39m       expect(results1)[33m.[39mtoEqual(results2)[33m;[39m
    [31m[1m>[22m[39m[90m 160 |[39m       expect(mockedAxios[33m.[39m[36mget[39m)[33m.[39mtoHaveBeenCalledTimes([35m2[39m)[33m;[39m [90m// Only initial calls[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 161 |[39m     })[33m;[39m
     [90m 162 |[39m
     [90m 163 |[39m     it([32m'should handle API errors gracefully'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:160:31)

  ‚óè YouTubeService ‚Ä∫ searchVideos ‚Ä∫ should handle API errors gracefully

    expect(received).toEqual(expected) // deep equality

    - Expected  -   1
    + Received  + 112

    - Array []
    + Array [
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA",
    +     "channelTitle": "Jung Psychology Institute",
    +     "description": "An in-depth exploration of Jungian concepts related to Jung shadow, covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.",
    +     "duration": "PT24M36S",
    +     "likeCount": "4821",
    +     "publishedAt": "2023-10-15T09:00:00Z",
    +     "tags": Array [
    +       "jung",
    +       "psychology",
    +       "archetypes",
    +       "jung shadow",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "maxres": Object {
    +         "height": 720,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    +         "width": 1280,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Carl Jung and the Psychology of Jung shadow",
    +     "videoId": "nBUQsNpyPHs",
    +     "viewCount": "125430",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA",
    +     "channelTitle": "Academy of Ideas",
    +     "description": "A comprehensive lecture examining Jung shadow through the lens of analytical psychology, featuring case studies and practical therapeutic applications.",
    +     "duration": "PT18M42S",
    +     "likeCount": "3456",
    +     "publishedAt": "2023-11-22T14:30:00Z",
    +     "tags": Array [
    +       "jungian analysis",
    +       "psychology",
    +       "therapy",
    +       "jung shadow",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Understanding Jung shadow Through Jungian Analysis",
    +     "videoId": "VjZyGfb-LbM",
    +     "viewCount": "89234",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q",
    +     "channelTitle": "Philosophy Tube",
    +     "description": "An engaging animated exploration of Jung shadow concepts in Jungian psychology, perfect for visual learners and beginners.",
    +     "duration": "PT12M15S",
    +     "likeCount": "12345",
    +     "publishedAt": "2023-09-08T10:00:00Z",
    +     "tags": Array [
    +       "animation",
    +       "jung",
    +       "psychology explained",
    +       "jung shadow",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Jung shadow: A Jungian Perspective - Animated",
    +     "videoId": "7uaJLbm9hBQ",
    +     "viewCount": "234567",
    +   },
    + ]

    [0m [90m 167 |[39m       
     [90m 168 |[39m       [90m// Should return empty array on error[39m
    [31m[1m>[22m[39m[90m 169 |[39m       expect(results)[33m.[39mtoEqual([])[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 170 |[39m     })[33m;[39m
     [90m 171 |[39m
     [90m 172 |[39m     it([32m'should filter restricted videos'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:169:23)

  ‚óè YouTubeService ‚Ä∫ searchVideos ‚Ä∫ should handle empty search results

    expect(received).toEqual(expected) // deep equality

    - Expected  -   1
    + Received  + 112

    - Array []
    + Array [
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA",
    +     "channelTitle": "Jung Psychology Institute",
    +     "description": "An in-depth exploration of Jungian concepts related to nonexistent query xyz, covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.",
    +     "duration": "PT24M36S",
    +     "likeCount": "4821",
    +     "publishedAt": "2023-10-15T09:00:00Z",
    +     "tags": Array [
    +       "jung",
    +       "psychology",
    +       "archetypes",
    +       "nonexistent query xyz",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "maxres": Object {
    +         "height": 720,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    +         "width": 1280,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Carl Jung and the Psychology of nonexistent query xyz",
    +     "videoId": "nBUQsNpyPHs",
    +     "viewCount": "125430",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA",
    +     "channelTitle": "Academy of Ideas",
    +     "description": "A comprehensive lecture examining nonexistent query xyz through the lens of analytical psychology, featuring case studies and practical therapeutic applications.",
    +     "duration": "PT18M42S",
    +     "likeCount": "3456",
    +     "publishedAt": "2023-11-22T14:30:00Z",
    +     "tags": Array [
    +       "jungian analysis",
    +       "psychology",
    +       "therapy",
    +       "nonexistent query xyz",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Understanding nonexistent query xyz Through Jungian Analysis",
    +     "videoId": "VjZyGfb-LbM",
    +     "viewCount": "89234",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q",
    +     "channelTitle": "Philosophy Tube",
    +     "description": "An engaging animated exploration of nonexistent query xyz concepts in Jungian psychology, perfect for visual learners and beginners.",
    +     "duration": "PT12M15S",
    +     "likeCount": "12345",
    +     "publishedAt": "2023-09-08T10:00:00Z",
    +     "tags": Array [
    +       "animation",
    +       "jung",
    +       "psychology explained",
    +       "nonexistent query xyz",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "nonexistent query xyz: A Jungian Perspective - Animated",
    +     "videoId": "7uaJLbm9hBQ",
    +     "viewCount": "234567",
    +   },
    + ]

    [0m [90m 223 |[39m
     [90m 224 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m service[33m.[39msearchVideos([32m'nonexistent query xyz'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 225 |[39m       expect(results)[33m.[39mtoEqual([])[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 226 |[39m     })[33m;[39m
     [90m 227 |[39m   })[33m;[39m
     [90m 228 |[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:225:23)

  ‚óè YouTubeService ‚Ä∫ getVideoById ‚Ä∫ should handle API errors

    expect(received).toBeNull()

    Received: {"categoryId": "27", "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA", "channelTitle": "Jung Psychology Institute", "description": "A deep dive into Jung's concept of the Shadow and its relevance to modern society.", "duration": "PT28M15S", "likeCount": "23456", "publishedAt": "2023-08-20T12:00:00Z", "tags": ["jung", "shadow", "psychology", "self-improvement"], "thumbnails": {"default": {"height": 90, "url": "https://i.ytimg.com/vi/video123/default.jpg", "width": 120}, "high": {"height": 360, "url": "https://i.ytimg.com/vi/video123/hqdefault.jpg", "width": 480}, "medium": {"height": 180, "url": "https://i.ytimg.com/vi/video123/mqdefault.jpg", "width": 320}}, "title": "The Shadow: Carl Jung's Warning to The World", "videoId": "video123", "viewCount": "567890"}

    [0m [90m 293 |[39m
     [90m 294 |[39m       [36mconst[39m video [33m=[39m [36mawait[39m service[33m.[39mgetVideoById([32m'video123'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 295 |[39m       expect(video)[33m.[39mtoBeNull()[33m;[39m
     [90m     |[39m                     [31m[1m^[22m[39m
     [90m 296 |[39m     })[33m;[39m
     [90m 297 |[39m
     [90m 298 |[39m     it([32m'should use mock mode for getVideoById'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:295:21)

  ‚óè YouTubeService ‚Ä∫ getChannelInfo ‚Ä∫ should get channel information

    expect(received).toMatchObject(expected)

    - Expected  - 4
    + Received  + 2

      Object {
    -   "channelId": "channel123",
    -   "customUrl": "@psychchannel",
    -   "subscriberCount": "100000",
    +   "subscriberCount": 100000,
        "title": "Psychology Channel",
    -   "videoCount": "150",
    +   "videoCount": 150,
      }

    [0m [90m 336 |[39m       [36mconst[39m channel [33m=[39m [36mawait[39m service[33m.[39mgetChannelInfo([32m'channel123'[39m)[33m;[39m
     [90m 337 |[39m
    [31m[1m>[22m[39m[90m 338 |[39m       expect(channel)[33m.[39mtoMatchObject({
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 339 |[39m         channelId[33m:[39m [32m'channel123'[39m[33m,[39m
     [90m 340 |[39m         title[33m:[39m [32m'Psychology Channel'[39m[33m,[39m
     [90m 341 |[39m         subscriberCount[33m:[39m [32m'100000'[39m[33m,[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:338:23)

  ‚óè YouTubeService ‚Ä∫ getChannelInfo ‚Ä∫ should handle missing statistics gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: "0"
    Received: undefined

    [0m [90m 378 |[39m       
     [90m 379 |[39m       expect(channel)[33m.[39mtoBeDefined()[33m;[39m
    [31m[1m>[22m[39m[90m 380 |[39m       expect(channel[33m?[39m[33m.[39msubscriberCount)[33m.[39mtoBe([32m'0'[39m)[33m;[39m
     [90m     |[39m                                        [31m[1m^[22m[39m
     [90m 381 |[39m       expect(channel[33m?[39m[33m.[39mvideoCount)[33m.[39mtoBe([32m'0'[39m)[33m;[39m
     [90m 382 |[39m       expect(channel[33m?[39m[33m.[39mviewCount)[33m.[39mtoBe([32m'0'[39m)[33m;[39m
     [90m 383 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:380:40)

  ‚óè YouTubeService ‚Ä∫ getChannelVideos ‚Ä∫ should get videos from a channel

    TypeError: service.getChannelVideos is not a function

    [0m [90m 422 |[39m         })[33m;[39m
     [90m 423 |[39m
    [31m[1m>[22m[39m[90m 424 |[39m       [36mconst[39m videos [33m=[39m [36mawait[39m service[33m.[39mgetChannelVideos([32m'channel123'[39m[33m,[39m { maxResults[33m:[39m [35m5[39m })[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 425 |[39m
     [90m 426 |[39m       expect(videos)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m 427 |[39m       expect(videos[[35m0[39m][33m.[39mchannelId)[33m.[39mtoBe([32m'channel123'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:424:36)

  ‚óè YouTubeService ‚Ä∫ getChannelVideos ‚Ä∫ should handle channel with no videos

    TypeError: service.getChannelVideos is not a function

    [0m [90m 441 |[39m       mockedAxios[33m.[39m[36mget[39m[33m.[39mmockResolvedValueOnce({ data[33m:[39m { items[33m:[39m [] } })[33m;[39m
     [90m 442 |[39m
    [31m[1m>[22m[39m[90m 443 |[39m       [36mconst[39m videos [33m=[39m [36mawait[39m service[33m.[39mgetChannelVideos([32m'empty-channel'[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 444 |[39m       expect(videos)[33m.[39mtoEqual([])[33m;[39m
     [90m 445 |[39m     })[33m;[39m
     [90m 446 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:443:36)

  ‚óè YouTubeService ‚Ä∫ getRelatedVideos ‚Ä∫ should search for related videos

    TypeError: service.getRelatedVideos is not a function

    [0m [90m 484 |[39m         })[33m;[39m
     [90m 485 |[39m
    [31m[1m>[22m[39m[90m 486 |[39m       [36mconst[39m videos [33m=[39m [36mawait[39m service[33m.[39mgetRelatedVideos([32m'original-video-id'[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 487 |[39m
     [90m 488 |[39m       expect(videos[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 489 |[39m       expect(mockedAxios[33m.[39m[36mget[39m)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:486:36)

  ‚óè YouTubeService ‚Ä∫ getRelatedVideos ‚Ä∫ should use mock mode for related videos

    TypeError: serviceWithMock.getRelatedVideos is not a function

    [0m [90m 491 |[39m
     [90m 492 |[39m     it([32m'should use mock mode for related videos'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 493 |[39m       [36mconst[39m videos [33m=[39m [36mawait[39m serviceWithMock[33m.[39mgetRelatedVideos([32m'video-id'[39m)[33m;[39m
     [90m     |[39m                                            [31m[1m^[22m[39m
     [90m 494 |[39m
     [90m 495 |[39m       expect(videos[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 496 |[39m       expect(videos[[35m0[39m][33m.[39mtitle)[33m.[39mtoContain([32m'Related'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:493:44)

  ‚óè YouTubeService ‚Ä∫ edge cases ‚Ä∫ should handle network timeouts

    expect(received).toEqual(expected) // deep equality

    - Expected  -   1
    + Received  + 112

    - Array []
    + Array [
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA",
    +     "channelTitle": "Jung Psychology Institute",
    +     "description": "An in-depth exploration of Jungian concepts related to Jung, covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.",
    +     "duration": "PT24M36S",
    +     "likeCount": "4821",
    +     "publishedAt": "2023-10-15T09:00:00Z",
    +     "tags": Array [
    +       "jung",
    +       "psychology",
    +       "archetypes",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "maxres": Object {
    +         "height": 720,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    +         "width": 1280,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Carl Jung and the Psychology of Jung",
    +     "videoId": "nBUQsNpyPHs",
    +     "viewCount": "125430",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA",
    +     "channelTitle": "Academy of Ideas",
    +     "description": "A comprehensive lecture examining Jung through the lens of analytical psychology, featuring case studies and practical therapeutic applications.",
    +     "duration": "PT18M42S",
    +     "likeCount": "3456",
    +     "publishedAt": "2023-11-22T14:30:00Z",
    +     "tags": Array [
    +       "jungian analysis",
    +       "psychology",
    +       "therapy",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Understanding Jung Through Jungian Analysis",
    +     "videoId": "VjZyGfb-LbM",
    +     "viewCount": "89234",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q",
    +     "channelTitle": "Philosophy Tube",
    +     "description": "An engaging animated exploration of Jung concepts in Jungian psychology, perfect for visual learners and beginners.",
    +     "duration": "PT12M15S",
    +     "likeCount": "12345",
    +     "publishedAt": "2023-09-08T10:00:00Z",
    +     "tags": Array [
    +       "animation",
    +       "jung",
    +       "psychology explained",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Jung: A Jungian Perspective - Animated",
    +     "videoId": "7uaJLbm9hBQ",
    +     "viewCount": "234567",
    +   },
    + ]

    [0m [90m 540 |[39m
     [90m 541 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m service[33m.[39msearchVideos([32m'Jung'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 542 |[39m       expect(results)[33m.[39mtoEqual([])[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 543 |[39m     })[33m;[39m
     [90m 544 |[39m
     [90m 545 |[39m     it([32m'should handle malformed API responses'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:542:23)

  ‚óè YouTubeService ‚Ä∫ edge cases ‚Ä∫ should handle malformed API responses

    expect(received).toEqual(expected) // deep equality

    - Expected  -   1
    + Received  + 112

    - Array []
    + Array [
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA",
    +     "channelTitle": "Jung Psychology Institute",
    +     "description": "An in-depth exploration of Jungian concepts related to Jung, covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.",
    +     "duration": "PT24M36S",
    +     "likeCount": "4821",
    +     "publishedAt": "2023-10-15T09:00:00Z",
    +     "tags": Array [
    +       "jung",
    +       "psychology",
    +       "archetypes",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "maxres": Object {
    +         "height": 720,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    +         "width": 1280,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Carl Jung and the Psychology of Jung",
    +     "videoId": "nBUQsNpyPHs",
    +     "viewCount": "125430",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA",
    +     "channelTitle": "Academy of Ideas",
    +     "description": "A comprehensive lecture examining Jung through the lens of analytical psychology, featuring case studies and practical therapeutic applications.",
    +     "duration": "PT18M42S",
    +     "likeCount": "3456",
    +     "publishedAt": "2023-11-22T14:30:00Z",
    +     "tags": Array [
    +       "jungian analysis",
    +       "psychology",
    +       "therapy",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Understanding Jung Through Jungian Analysis",
    +     "videoId": "VjZyGfb-LbM",
    +     "viewCount": "89234",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q",
    +     "channelTitle": "Philosophy Tube",
    +     "description": "An engaging animated exploration of Jung concepts in Jungian psychology, perfect for visual learners and beginners.",
    +     "duration": "PT12M15S",
    +     "likeCount": "12345",
    +     "publishedAt": "2023-09-08T10:00:00Z",
    +     "tags": Array [
    +       "animation",
    +       "jung",
    +       "psychology explained",
    +       "jung",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Jung: A Jungian Perspective - Animated",
    +     "videoId": "7uaJLbm9hBQ",
    +     "viewCount": "234567",
    +   },
    + ]

    [0m [90m 547 |[39m
     [90m 548 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m service[33m.[39msearchVideos([32m'Jung'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 549 |[39m       expect(results)[33m.[39mtoEqual([])[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 550 |[39m     })[33m;[39m
     [90m 551 |[39m
     [90m 552 |[39m     it([32m'should handle very long queries'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:549:23)

  ‚óè YouTubeService ‚Ä∫ edge cases ‚Ä∫ should handle very long queries

    expect(received).toEqual(expected) // deep equality

    - Expected  -   1
    + Received  + 112

    - Array []
    + Array [
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCX6OQ3DkcsbYNE6H8uQQuVA",
    +     "channelTitle": "Jung Psychology Institute",
    +     "description": "An in-depth exploration of Jungian concepts related to Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung , covering archetypal patterns, the collective unconscious, and practical applications in modern psychology.",
    +     "duration": "PT24M36S",
    +     "likeCount": "4821",
    +     "publishedAt": "2023-10-15T09:00:00Z",
    +     "tags": Array [
    +       "jung",
    +       "psychology",
    +       "archetypes",
    +       "jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung ",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "maxres": Object {
    +         "height": 720,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    +         "width": 1280,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Carl Jung and the Psychology of Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung ",
    +     "videoId": "nBUQsNpyPHs",
    +     "viewCount": "125430",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCHnyfMqiRRG1u-2MsSQLbXA",
    +     "channelTitle": "Academy of Ideas",
    +     "description": "A comprehensive lecture examining Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung  through the lens of analytical psychology, featuring case studies and practical therapeutic applications.",
    +     "duration": "PT18M42S",
    +     "likeCount": "3456",
    +     "publishedAt": "2023-11-22T14:30:00Z",
    +     "tags": Array [
    +       "jungian analysis",
    +       "psychology",
    +       "therapy",
    +       "jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung ",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/J7GY1Xg6X20/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Understanding Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung  Through Jungian Analysis",
    +     "videoId": "VjZyGfb-LbM",
    +     "viewCount": "89234",
    +   },
    +   Object {
    +     "categoryId": "27",
    +     "channelId": "UCL_f53ZEJxp8TtlOkHwMV9Q",
    +     "channelTitle": "Philosophy Tube",
    +     "description": "An engaging animated exploration of Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung  concepts in Jungian psychology, perfect for visual learners and beginners.",
    +     "duration": "PT12M15S",
    +     "likeCount": "12345",
    +     "publishedAt": "2023-09-08T10:00:00Z",
    +     "tags": Array [
    +       "animation",
    +       "jung",
    +       "psychology explained",
    +       "jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung jung ",
    +     ],
    +     "thumbnails": Object {
    +       "default": Object {
    +         "height": 90,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/default.jpg",
    +         "width": 120,
    +       },
    +       "high": Object {
    +         "height": 360,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/hqdefault.jpg",
    +         "width": 480,
    +       },
    +       "medium": Object {
    +         "height": 180,
    +         "url": "https://i.ytimg.com/vi/K4Je8J7F0B8/mqdefault.jpg",
    +         "width": 320,
    +       },
    +     },
    +     "title": "Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung Jung : A Jungian Perspective - Animated",
    +     "videoId": "7uaJLbm9hBQ",
    +     "viewCount": "234567",
    +   },
    + ]

    [0m [90m 557 |[39m
     [90m 558 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m service[33m.[39msearchVideos(longQuery)[33m;[39m
    [31m[1m>[22m[39m[90m 559 |[39m       expect(results)[33m.[39mtoEqual([])[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 560 |[39m     })[33m;[39m
     [90m 561 |[39m
     [90m 562 |[39m     it([32m'should handle special characters in queries'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/youtubeService.test.ts:559:23)

FAIL src/test-utils/examples/optimized-test-example.test.tsx
  ‚óè Optimized Test Example ‚Ä∫ Quiz Generator Tests ‚Ä∫ should generate quiz with mock questions

    expect(received).toHaveProperty(path)

    Expected path: "id"
    Received path: []

    Received value: {"questions": [{"cognitiveLevel": "remembering", "concept": "collective unconscious", "correctAnswer": 0, "difficulty": "easy", "explanation": "Explanation for question 1 about collective unconscious", "id": "q1", "options": ["Option A for 1", "Option B for 1", "Option C for 1", "Option D for 1"], "question": "Test question 1 about collective unconscious", "type": "multiple-choice"}, {"cognitiveLevel": "understanding", "concept": "shadow", "correctAnswer": true, "difficulty": "medium", "explanation": "Explanation for question 2 about shadow", "id": "q2", "options": undefined, "question": "Test question 2 about shadow", "type": "true-false"}, {"cognitiveLevel": "applying", "concept": "archetypes", "correctAnswer": 2, "difficulty": "hard", "explanation": "Explanation for question 3 about archetypes", "id": "q3", "options": ["Option A for 3", "Option B for 3", "Option C for 3", "Option D for 3"], "question": "Test question 3 about archetypes", "type": "multiple-choice"}, {"cognitiveLevel": "analyzing", "concept": "individuation", "correctAnswer": true, "difficulty": "easy", "explanation": "Explanation for question 4 about individuation", "id": "q4", "options": undefined, "question": "Test question 4 about individuation", "type": "true-false"}, {"cognitiveLevel": "remembering", "concept": "anima/animus", "correctAnswer": 0, "difficulty": "medium", "explanation": "Explanation for question 5 about anima/animus", "id": "q5", "options": ["Option A for 5", "Option B for 5", "Option C for 5", "Option D for 5"], "question": "Test question 5 about anima/animus", "type": "multiple-choice"}]}

    [0m [90m 150 |[39m [90m */[39m
     [90m 151 |[39m [36mexport[39m [36mconst[39m assertValidQuiz [33m=[39m (quiz[33m:[39m any)[33m:[39m asserts quiz is [33mQuiz[39m [33m=>[39m {
    [31m[1m>[22m[39m[90m 152 |[39m   expect(quiz)[33m.[39mtoHaveProperty([32m'id'[39m)[33m;[39m
     [90m     |[39m                [31m[1m^[22m[39m
     [90m 153 |[39m   expect(quiz)[33m.[39mtoHaveProperty([32m'title'[39m)[33m;[39m
     [90m 154 |[39m   expect(quiz)[33m.[39mtoHaveProperty([32m'questions'[39m)[33m;[39m
     [90m 155 |[39m   expect([33mArray[39m[33m.[39misArray(quiz[33m.[39mquestions))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m

      at assertValidQuiz (src/test-utils/helpers/testHelpers.ts:152:16)
      at Object.<anonymous> (src/test-utils/examples/optimized-test-example.test.tsx:110:22)

  ‚óè Optimized Test Example ‚Ä∫ Quiz Generator Tests ‚Ä∫ should handle retries using test scenario

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 3
    Received number of calls: 0

    [0m [90m 72 |[39m     [36mconst[39m result [33m=[39m [36mawait[39m serviceFn()[33m;[39m
     [90m 73 |[39m     
    [31m[1m>[22m[39m[90m 74 |[39m     expect(mockImplementation)[33m.[39mtoHaveBeenCalledTimes(expectedRetries)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 75 |[39m     [36mreturn[39m result[33m;[39m
     [90m 76 |[39m   }[33m,[39m
     [90m 77 |[39m[0m

      at Object.withRetries (src/test-utils/index.ts:74:32)
      at Object.<anonymous> (src/test-utils/examples/optimized-test-example.test.tsx:116:22)

  ‚óè Optimized Test Example ‚Ä∫ Integration Tests with MSW ‚Ä∫ should fetch modules from API

    TypeError: Network request failed

      at Timeout._onTimeout (node_modules/whatwg-fetch/dist/fetch.umd.js:567:18)

  ‚óè Optimized Test Example ‚Ä∫ Integration Tests with MSW ‚Ä∫ should handle API errors gracefully

    Cannot find module 'msw/node' from 'src/test-utils/mocks/server.ts'

    Require stack:
      src/test-utils/mocks/server.ts
      src/test-utils/examples/optimized-test-example.test.tsx

    [0m[31m[1m>[22m[39m[90m 1 |[39m [36mimport[39m { setupServer } [36mfrom[39m [32m'msw/node'[39m[33m;[39m
     [90m   |[39m [31m[1m^[22m[39m
     [90m 2 |[39m [36mimport[39m { handlers } [36mfrom[39m [32m'./handlers'[39m[33m;[39m
     [90m 3 |[39m
     [90m 4 |[39m [90m/**[39m[0m

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/test-utils/mocks/server.ts:1:1)
      at Object.<anonymous> (src/test-utils/examples/optimized-test-example.test.tsx:166:36)

FAIL src/services/llm/generators/__tests__/video-generator.test.ts
  ‚óè VideoGenerator ‚Ä∫ generateVideos ‚Ä∫ should generate videos with YouTube search and enrichment

    expect(received).toEqual(expected) // deep equality

    - Expected  - 6
    + Received  + 6

      Object {
    -   "description": "Learn about Jungian psychology",
    -   "duration": 15,
    -   "id": "video-1",
    -   "title": "Introduction to Jung",
    -   "url": "https://www.youtube.com/watch?v=abc123",
    -   "youtubeId": "abc123",
    +   "description": "Understanding the shadow",
    +   "duration": 20,
    +   "id": "video-2",
    +   "title": "Shadow Work Explained",
    +   "url": "https://www.youtube.com/watch?v=def456",
    +   "youtubeId": undefined,
      }

    [0m [90m 125 |[39m
     [90m 126 |[39m       expect(videos)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 127 |[39m       expect(videos[[35m0[39m])[33m.[39mtoEqual({
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 128 |[39m         id[33m:[39m [32m'video-1'[39m[33m,[39m
     [90m 129 |[39m         title[33m:[39m [32m'Introduction to Jung'[39m[33m,[39m
     [90m 130 |[39m         youtubeId[33m:[39m [32m'abc123'[39m[33m,[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:127:25)

  ‚óè VideoGenerator ‚Ä∫ generateVideos ‚Ä∫ should properly extract YouTube IDs from enriched videos

    expect(received).toBe(expected) // Object.is equality

    Expected: "abc123"
    Received: "xyz789"

    [0m [90m 206 |[39m       )[33m;[39m
     [90m 207 |[39m
    [31m[1m>[22m[39m[90m 208 |[39m       expect(videos[[35m0[39m][33m.[39myoutubeId)[33m.[39mtoBe([32m'abc123'[39m)[33m;[39m [90m// Should extract from URL[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 209 |[39m     })[33m;[39m
     [90m 210 |[39m
     [90m 211 |[39m     it([32m'should sort videos by combined educational and relevance score'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:208:35)

  ‚óè VideoGenerator ‚Ä∫ generateVideos ‚Ä∫ should sort videos by combined educational and relevance score

    expect(received).toBe(expected) // Object.is equality

    Expected: "Shadow Work Explained"
    Received: "Introduction to Jung"

    [0m [90m 230 |[39m
     [90m 231 |[39m       [90m// Should be sorted by score (highest first)[39m
    [31m[1m>[22m[39m[90m 232 |[39m       expect(videos[[35m0[39m][33m.[39mtitle)[33m.[39mtoBe([32m'Shadow Work Explained'[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 233 |[39m       expect(videos[[35m1[39m][33m.[39mtitle)[33m.[39mtoBe([32m'Introduction to Jung'[39m)[33m;[39m
     [90m 234 |[39m     })[33m;[39m
     [90m 235 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:232:31)

  ‚óè VideoGenerator ‚Ä∫ curateVideoPlaylist ‚Ä∫ should curate videos based on learning path

    TypeError: Cannot read properties of undefined (reading 'enrichMultipleVideos')

    [0m [90m 488 |[39m     
     [90m 489 |[39m     [90m// Enrich videos with educational metadata[39m
    [31m[1m>[22m[39m[90m 490 |[39m     [36mconst[39m enrichedVideos [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvideoEnricher[33m.[39menrichMultipleVideos(
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 491 |[39m       youtubeVideos[33m,[39m
     [90m 492 |[39m       {
     [90m 493 |[39m         assessDifficulty[33m:[39m [36mtrue[39m[33m,[39m[0m

      at VideoGenerator.curateVideoPlaylist (src/services/llm/generators/video-generator.ts:490:53)
      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:318:44)

  ‚óè VideoGenerator ‚Ä∫ curateVideoPlaylist ‚Ä∫ should mark remaining videos as supplementary

    TypeError: Cannot read properties of undefined (reading 'enrichMultipleVideos')

    [0m [90m 488 |[39m     
     [90m 489 |[39m     [90m// Enrich videos with educational metadata[39m
    [31m[1m>[22m[39m[90m 490 |[39m     [36mconst[39m enrichedVideos [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mvideoEnricher[33m.[39menrichMultipleVideos(
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 491 |[39m       youtubeVideos[33m,[39m
     [90m 492 |[39m       {
     [90m 493 |[39m         assessDifficulty[33m:[39m [36mtrue[39m[33m,[39m[0m

      at VideoGenerator.curateVideoPlaylist (src/services/llm/generators/video-generator.ts:490:53)
      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:330:44)

  ‚óè VideoGenerator ‚Ä∫ generateProgressiveLearningPath ‚Ä∫ should generate videos for different difficulty levels

    ReferenceError: mockSearchResults is not defined

    [0m [90m 414 |[39m       [90m// Mock different search results for each difficulty[39m
     [90m 415 |[39m       mockYouTubeService[33m.[39msearchVideos
    [31m[1m>[22m[39m[90m 416 |[39m         [33m.[39mmockResolvedValueOnce([mockSearchResults[[35m0[39m]]) [90m// Beginner[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 417 |[39m         [33m.[39mmockResolvedValueOnce([mockSearchResults[[35m1[39m]]) [90m// Intermediate[39m
     [90m 418 |[39m         [33m.[39mmockResolvedValueOnce([mockSearchResults[[35m0[39m]])[33m;[39m [90m// Advanced[39m
     [90m 419 |[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:416:33)

  ‚óè VideoGenerator ‚Ä∫ getRecommendations ‚Ä∫ should generate recommendations based on watch history

    ReferenceError: mockSearchResults is not defined

    [0m [90m 468 |[39m         [32m'shadow and anima relationship'[39m
     [90m 469 |[39m       ])[33m;[39m
    [31m[1m>[22m[39m[90m 470 |[39m       mockYouTubeService[33m.[39msearchVideos[33m.[39mmockResolvedValue([mockSearchResults[[35m1[39m]])[33m;[39m
     [90m     |[39m                                                          [31m[1m^[22m[39m
     [90m 471 |[39m       mockVideoEnricher[33m.[39menrichMultipleVideos[33m.[39mmockResolvedValue([mockEnrichedVideos[[35m1[39m]])[33m;[39m
     [90m 472 |[39m
     [90m 473 |[39m       [36mconst[39m recommendations [33m=[39m [36mawait[39m videoGenerator[33m.[39mgetRecommendations([0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:470:58)

  ‚óè VideoGenerator ‚Ä∫ getRecommendations ‚Ä∫ should filter out already watched videos

    ReferenceError: mockSearchResults is not defined

    [0m [90m 486 |[39m       mockProvider[33m.[39mgenerateStructuredResponse[33m.[39mmockResolvedValue([[32m'search query'[39m])[33m;[39m
     [90m 487 |[39m       mockYouTubeService[33m.[39msearchVideos[33m.[39mmockResolvedValue([
    [31m[1m>[22m[39m[90m 488 |[39m         { [33m...[39mmockSearchResults[[35m0[39m][33m,[39m videoId[33m:[39m [32m'watched1'[39m }[33m,[39m [90m// Already watched[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 489 |[39m         mockSearchResults[[35m1[39m] [90m// New video[39m
     [90m 490 |[39m       ])[33m;[39m
     [90m 491 |[39m       mockVideoEnricher[33m.[39menrichMultipleVideos[33m.[39mmockResolvedValue([mockEnrichedVideos[[35m1[39m]])[33m;[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:488:14)

  ‚óè VideoGenerator ‚Ä∫ utility methods ‚Ä∫ convertDurationToMinutes ‚Ä∫ should handle various duration formats

    TypeError: Cannot read properties of null (reading 'hours')

    [0m [90m 577 |[39m   [36mprivate[39m convertDurationToMinutes(duration[33m:[39m any)[33m:[39m number {
     [90m 578 |[39m     [90m// Handle schema's VideoDuration object[39m
    [31m[1m>[22m[39m[90m 579 |[39m     [36mif[39m ([36mtypeof[39m duration [33m===[39m [32m'object'[39m [33m&&[39m duration[33m.[39mhours [33m!==[39m undefined) {
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 580 |[39m       [36mreturn[39m duration[33m.[39mhours [33m*[39m [35m60[39m [33m+[39m duration[33m.[39mminutes [33m+[39m [33mMath[39m[33m.[39mceil((duration[33m.[39mseconds [33m||[39m [35m0[39m) [33m/[39m [35m60[39m)[33m;[39m
     [90m 581 |[39m     }
     [90m 582 |[39m     [90m// Handle number (already in minutes)[39m[0m

      at VideoGenerator.convertDurationToMinutes (src/services/llm/generators/video-generator.ts:579:50)
      at forEach (src/services/llm/generators/__tests__/video-generator.test.ts:553:50)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (src/services/llm/generators/__tests__/video-generator.test.ts:552:19)

FAIL src/services/validation/__tests__/validationService.test.ts
  ‚óè jaqEdu Validation System ‚Ä∫ SystemValidator ‚Ä∫ should validate system successfully

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 110 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem(mockModules)[33m;[39m
     [90m 111 |[39m       
    [31m[1m>[22m[39m[90m 112 |[39m       expect(result)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 113 |[39m       expect(result[33m.[39moverall)[33m.[39mtoBeDefined()[33m;[39m
     [90m 114 |[39m       expect(result[33m.[39moverall[33m.[39mscore)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 115 |[39m       expect(result[33m.[39mmodules)[33m.[39mtoHaveLength(mockModules[33m.[39mlength)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/validationSystem.test.ts:112:22)

  ‚óè jaqEdu Validation System ‚Ä∫ SystemValidator ‚Ä∫ should handle basic validation

    TypeError: Cannot read properties of undefined (reading 'modules')

    [0m [90m 120 |[39m       
     [90m 121 |[39m       [90m// Just check basic structure without asserting specific validation logic[39m
    [31m[1m>[22m[39m[90m 122 |[39m       expect(result[33m.[39mmodules)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                     [31m[1m^[22m[39m
     [90m 123 |[39m       expect(result[33m.[39mmodules[[35m0[39m])[33m.[39mtoBeDefined()[33m;[39m
     [90m 124 |[39m       expect(result[33m.[39mmodules[[35m1[39m])[33m.[39mtoBeDefined()[33m;[39m
     [90m 125 |[39m     }[33m,[39m [35m5000[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/validationSystem.test.ts:122:21)

  ‚óè jaqEdu Validation System ‚Ä∫ Basic Validation ‚Ä∫ should handle empty modules gracefully

    TypeError: Cannot read properties of undefined (reading 'modules')

    [0m [90m 131 |[39m       
     [90m 132 |[39m       [36mconst[39m systemResult [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem(emptyModules)[33m;[39m
    [31m[1m>[22m[39m[90m 133 |[39m       expect(systemResult[33m.[39mmodules)[33m.[39mtoHaveLength([35m0[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 134 |[39m     }[33m,[39m [35m3000[39m)[33m;[39m
     [90m 135 |[39m
     [90m 136 |[39m     it([32m'should validate single module'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/validation/__tests__/validationSystem.test.ts:133:27)

  ‚óè jaqEdu Validation System ‚Ä∫ Basic Validation ‚Ä∫ should validate single module

    TypeError: Cannot read properties of undefined (reading 'modules')

    [0m [90m 138 |[39m       
     [90m 139 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem(singleModule)[33m;[39m
    [31m[1m>[22m[39m[90m 140 |[39m       expect(result[33m.[39mmodules)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m     |[39m                     [31m[1m^[22m[39m
     [90m 141 |[39m       expect(result[33m.[39mmodules[[35m0[39m])[33m.[39mtoBeDefined()[33m;[39m
     [90m 142 |[39m     }[33m,[39m [35m3000[39m)[33m;[39m
     [90m 143 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/validationSystem.test.ts:140:21)

FAIL src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts
  ‚óè AIResourcePipeline ‚Ä∫ processModule ‚Ä∫ should process module and generate all enabled resources

    expect(received).toContain(expected) // indexOf

    Expected value: "quiz"
    Received array: ["mindmap", "test", "config"]

    [0m [90m 161 |[39m       [90m// Check that resources were generated[39m
     [90m 162 |[39m       [36mconst[39m resourceTypes [33m=[39m resources[33m.[39mmap(r [33m=>[39m r[33m.[39mtype)[33m;[39m
    [31m[1m>[22m[39m[90m 163 |[39m       expect(resourceTypes)[33m.[39mtoContain([32m'quiz'[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 164 |[39m       expect(resourceTypes)[33m.[39mtoContain([32m'mindmap'[39m)[33m;[39m
     [90m 165 |[39m       expect(resourceTypes)[33m.[39mtoContain([32m'test'[39m)[33m;[39m
     [90m 166 |[39m       expect(resourceTypes)[33m.[39mtoContain([32m'config'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:163:29)

  ‚óè AIResourcePipeline ‚Ä∫ resource generation ‚Ä∫ quiz resource generation ‚Ä∫ should assess quiz quality based on questions

    expect(received).toBeGreaterThan(expected)

    Matcher error: received value must be a number or bigint

    Received has value: undefined

    [0m [90m 266 |[39m         [36mconst[39m quizResource [33m=[39m resources[33m.[39mfind(r [33m=>[39m r[33m.[39mtype [33m===[39m [32m'quiz'[39m)[33m;[39m
     [90m 267 |[39m
    [31m[1m>[22m[39m[90m 268 |[39m         expect(quizResource[33m?[39m[33m.[39mmetadata[33m.[39mquality)[33m.[39mtoBeGreaterThan([35m0.5[39m)[33m;[39m
     [90m     |[39m                                                [31m[1m^[22m[39m
     [90m 269 |[39m       })[33m;[39m
     [90m 270 |[39m     })[33m;[39m
     [90m 271 |[39m[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:268:48)

  ‚óè AIResourcePipeline ‚Ä∫ validation ‚Ä∫ should validate quiz resources correctly

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 363 |[39m       [36mconst[39m quizResource [33m=[39m resources[33m.[39mfind(r [33m=>[39m r[33m.[39mtype [33m===[39m [32m'quiz'[39m)[33m;[39m
     [90m 364 |[39m
    [31m[1m>[22m[39m[90m 365 |[39m       expect(quizResource[33m?[39m[33m.[39mmetadata[33m.[39mvalidated)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                                [31m[1m^[22m[39m
     [90m 366 |[39m     })[33m;[39m
     [90m 367 |[39m
     [90m 368 |[39m     it([32m'should handle invalid quiz structure'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:365:48)

  ‚óè AIResourcePipeline ‚Ä∫ validation ‚Ä∫ should handle invalid quiz structure

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

    [0m [90m 378 |[39m       [36mconst[39m quizResource [33m=[39m resources[33m.[39mfind(r [33m=>[39m r[33m.[39mtype [33m===[39m [32m'quiz'[39m)[33m;[39m
     [90m 379 |[39m
    [31m[1m>[22m[39m[90m 380 |[39m       expect(quizResource[33m?[39m[33m.[39mmetadata[33m.[39mvalidated)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                                                [31m[1m^[22m[39m
     [90m 381 |[39m     })[33m;[39m
     [90m 382 |[39m
     [90m 383 |[39m     it([32m'should validate video resources'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:380:48)

  ‚óè AIResourcePipeline ‚Ä∫ pipeline management ‚Ä∫ clearCompleted ‚Ä∫ should clear completed generations

    expect(received).toBeUndefined()

    Received: [{"content": {"id": "test-test-module-1", "moduleId": "test-module-1", "tests": [{"code": "
                describe('Jungian Archetypes', () => {
                  test('should have valid structure', () => {
                    expect(module.id).toBeDefined();
                    expect(module.title).toBe('Jungian Archetypes');
                    expect(module.content).toBeDefined();
                  });¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑
                  test('should have required content sections', () => {
                    expect(module.content.introduction).toBeDefined();
                    expect(module.content.sections).toHaveLength(3);
                  });
                });
              ", "name": "Module Structure Test", "type": "unit"}, {"code": "
                describe('Jungian Archetypes Content Quality', () => {
                  test('should have adequate content length', () => {
                    const totalLength = module.content.introduction.length +¬∑
                      module.content.sections.reduce((sum, s) => sum + s.content.length, 0);
                    expect(totalLength).toBeGreaterThan(500);
                  });
                });
              ", "name": "Content Quality Test", "type": "integration"}], "title": "Tests for Jungian Archetypes"}, "id": "test-test-module-1-1753189711488", "metadata": {"generatedAt": 2025-07-22T13:08:31.488Z, "linkedResources": ["config-test-module-1-1753189711488"], "quality": 0.5, "source": "ai", "validated": true}, "moduleId": "test-module-1", "status": "validating", "type": "test"}, {"content": {"config": {"deployment": {"caching": true, "cdn": true, "environment": "production", "optimization": false}, "features": {"bibliography": true, "mindmap": true, "quiz": false, "videos": true}, "metadata": {"createdAt": "2025-07-22T13:08:31.488Z", "keywords": ["represents", "unconscious", "module", "explores", "jung's", "theory", "archetypes", "their", "psychology", "shadow"], "tags": [], "version": "1.0.0"}, "module": {"category": "psychology", "difficulty": "intermediate", "estimatedTime": 45, "id": "test-module-1", "title": "Jungian Archetypes"}}, "id": "config-test-module-1", "moduleId": "test-module-1", "title": "Configuration for Jungian Archetypes"}, "id": "config-test-module-1-1753189711488", "metadata": {"generatedAt": 2025-07-22T13:08:31.488Z, "linkedResources": ["test-test-module-1-1753189711488"], "quality": 0.5, "source": "ai", "validated": true}, "moduleId": "test-module-1", "status": "validating", "type": "config"}]

    [0m [90m 465 |[39m
     [90m 466 |[39m         [36mconst[39m statusAfter [33m=[39m pipeline[33m.[39mgetStatus(mockModule[33m.[39mid)[33m;[39m
    [31m[1m>[22m[39m[90m 467 |[39m         expect(statusAfter)[33m.[39mtoBeUndefined()[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 468 |[39m       })[33m;[39m
     [90m 469 |[39m
     [90m 470 |[39m       it([32m'should not clear in-progress generations'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:467:29)

  ‚óè AIResourcePipeline ‚Ä∫ resource quality assessment ‚Ä∫ should calculate quality score for quiz with explanations

    expect(received).toBeGreaterThan(expected)

    Matcher error: received value must be a number or bigint

    Received has value: undefined

    [0m [90m 590 |[39m       [36mconst[39m quizResource [33m=[39m resources[33m.[39mfind(r [33m=>[39m r[33m.[39mtype [33m===[39m [32m'quiz'[39m)[33m;[39m
     [90m 591 |[39m
    [31m[1m>[22m[39m[90m 592 |[39m       expect(quizResource[33m?[39m[33m.[39mmetadata[33m.[39mquality)[33m.[39mtoBeGreaterThan([35m0.8[39m)[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 593 |[39m     })[33m;[39m
     [90m 594 |[39m
     [90m 595 |[39m     it([32m'should calculate quality score for videos'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:592:46)

  ‚óè AIResourcePipeline ‚Ä∫ resource quality assessment ‚Ä∫ should calculate quality score for videos

    expect(received).toBeGreaterThan(expected)

    Matcher error: received value must be a number or bigint

    Received has value: undefined

    [0m [90m 612 |[39m       [36mconst[39m videoResource [33m=[39m resources[33m.[39mfind(r [33m=>[39m r[33m.[39mtype [33m===[39m [32m'video'[39m)[33m;[39m
     [90m 613 |[39m
    [31m[1m>[22m[39m[90m 614 |[39m       expect(videoResource[33m?[39m[33m.[39mmetadata[33m.[39mquality)[33m.[39mtoBeGreaterThan([35m0.8[39m)[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 615 |[39m     })[33m;[39m
     [90m 616 |[39m   })[33m;[39m
     [90m 617 |[39m[0m

      at Object.<anonymous> (src/services/resourcePipeline/__tests__/aiResourcePipeline.test.ts:614:47)

FAIL src/services/llm/generators/__tests__/mindmap-generator.test.ts
  ‚óè MindMapGenerator ‚Ä∫ generateMindMap ‚Ä∫ should generate a complete mind map with all components

    expect(received).toHaveLength(expected)

    Expected length: 5
    Received length: 1
    Received array:  ["undefined"]

    [0m [90m 110 |[39m
     [90m 111 |[39m       [90m// Check nodes were created[39m
    [31m[1m>[22m[39m[90m 112 |[39m       expect([33mObject[39m[33m.[39mkeys(mindMap[33m.[39mnodes))[33m.[39mtoHaveLength([35m5[39m)[33m;[39m [90m// root + 4 children[39m
     [90m     |[39m                                          [31m[1m^[22m[39m
     [90m 113 |[39m       expect(mindMap[33m.[39mnodes[[32m'root'[39m])[33m.[39mtoMatchObject({
     [90m 114 |[39m         id[33m:[39m [32m'root'[39m[33m,[39m
     [90m 115 |[39m         label[33m:[39m [32m'Shadow Archetype'[39m[33m,[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:112:42)

  ‚óè MindMapGenerator ‚Ä∫ generateMindMap ‚Ä∫ should assign colors and icons based on categories

    TypeError: Cannot read properties of undefined (reading 'color')

    [0m [90m 166 |[39m       [90m// Check archetype node has purple color and crown icon[39m
     [90m 167 |[39m       [36mconst[39m archetypeNode [33m=[39m mindMap[33m.[39mnodes[[32m'node2'[39m][33m;[39m
    [31m[1m>[22m[39m[90m 168 |[39m       expect(archetypeNode[33m.[39mcolor)[33m.[39mtoBe([32m'#7C3AED'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 169 |[39m       expect(archetypeNode[33m.[39micon)[33m.[39mtoBe([32m'ÔøΩÔøΩ'[39m)[33m;[39m
     [90m 170 |[39m
     [90m 171 |[39m       [90m// Check process node has blue color and cycle icon[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:168:28)

  ‚óè MindMapGenerator ‚Ä∫ generateMindMap ‚Ä∫ should generate descriptions only for important nodes

    TypeError: Cannot read properties of undefined (reading 'description')

    [0m [90m 183 |[39m
     [90m 184 |[39m       [90m// Core and supporting nodes should have descriptions[39m
    [31m[1m>[22m[39m[90m 185 |[39m       expect(mindMap[33m.[39mnodes[[32m'node1'[39m][33m.[39mdescription)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 186 |[39m       expect(mindMap[33m.[39mnodes[[32m'node1-1'[39m][33m.[39mdescription)[33m.[39mtoBeDefined()[33m;[39m
     [90m 187 |[39m
     [90m 188 |[39m       [90m// Related or deep nodes should not have descriptions[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:185:37)

  ‚óè MindMapGenerator ‚Ä∫ generateMindMap ‚Ä∫ should handle errors in structure generation

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {"connections": [{"from": "node1", "label": "Both aspects of shadow", "to": "node2", "type": "associative"}, {"from": "node1-2", "label": "Individual and collective projection", "to": "node2-1", "type": "complementary"}], "description": "Uma explora√ß√£o visual de Failed Topic atrav√©s dos conceitos psicol√≥gicos junguianos", "id": "mindmap-1753189712662", "layout": "radial", "nodes": {"undefined": {"children": [], "color": "#059669", "description": "Brief description of the concept in Jungian psychology", "icon": "ÔøΩÔøΩ", "id": undefined, "label": undefined, "level": 0, "metadata": {"importance": "related", "jungianCategory": undefined}, "parent": undefined}}, "rootNode": "root", "theme": "jungian", "title": "Failed Topic - Perspectiva Junguiana"}

    [0m [90m 193 |[39m       mockProvider[33m.[39mgenerateStructuredResponse[33m.[39mmockRejectedValueOnce([36mnew[39m [33mError[39m([32m'Generation failed'[39m))[33m;[39m
     [90m 194 |[39m
    [31m[1m>[22m[39m[90m 195 |[39m       [36mawait[39m expect(generator[33m.[39mgenerateMindMap(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 196 |[39m         [32m'Failed Topic'[39m[33m,[39m
     [90m 197 |[39m         [[32m'concept'[39m][33m,[39m
     [90m 198 |[39m         [35m2[39m[0m

      at expect (node_modules/expect/build/index.js:178:15)
      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:195:13)

  ‚óè MindMapGenerator ‚Ä∫ helper methods ‚Ä∫ getColorForCategory ‚Ä∫ should return correct colors for categories

    expect(received).toBe(expected) // Object.is equality

    Expected: "#6B7280"
    Received: "#059669"

    [0m [90m 372 |[39m
     [90m 373 |[39m         [90m// Test default color[39m
    [31m[1m>[22m[39m[90m 374 |[39m         expect((generator [36mas[39m any)[33m.[39mgetColorForCategory(undefined))[33m.[39mtoBe([32m'#6B7280'[39m)[33m;[39m
     [90m     |[39m                                                                   [31m[1m^[22m[39m
     [90m 375 |[39m         expect((generator [36mas[39m any)[33m.[39mgetColorForCategory([32m'unknown'[39m))[33m.[39mtoBe([32m'#6B7280'[39m)[33m;[39m
     [90m 376 |[39m       })[33m;[39m
     [90m 377 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:374:67)

  ‚óè MindMapGenerator ‚Ä∫ helper methods ‚Ä∫ getIconForCategory ‚Ä∫ should return correct icons for categories

    expect(received).toBe(expected) // Object.is equality

    Expected: "ÔøΩÔøΩ"
    Received: "ÔøΩÔøΩ"

    [0m [90m 392 |[39m
     [90m 393 |[39m         [90m// Test default icon[39m
    [31m[1m>[22m[39m[90m 394 |[39m         expect((generator [36mas[39m any)[33m.[39mgetIconForCategory(undefined))[33m.[39mtoBe([32m'ÔøΩÔøΩ'[39m)[33m;[39m
     [90m     |[39m                                                                  [31m[1m^[22m[39m
     [90m 395 |[39m         expect((generator [36mas[39m any)[33m.[39mgetIconForCategory([32m'unknown'[39m))[33m.[39mtoBe([32m'ÔøΩÔøΩ'[39m)[33m;[39m
     [90m 396 |[39m       })[33m;[39m
     [90m 397 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:394:66)

  ‚óè MindMapGenerator ‚Ä∫ helper methods ‚Ä∫ generateConnections ‚Ä∫ should limit connections to meaningful ones

    TypeError: connections is not iterable

    [0m [90m 287 |[39m       }))[33m;[39m
     [90m 288 |[39m
    [31m[1m>[22m[39m[90m 289 |[39m     [36mreturn[39m [[33m...[39mhierarchicalConnections[33m,[39m [33m...[39mconnections][33m;[39m
     [90m     |[39m                                            [31m[1m^[22m[39m
     [90m 290 |[39m   }
     [90m 291 |[39m
     [90m 292 |[39m   [36mprivate[39m getColorForCategory(category[33m?[39m[33m:[39m string)[33m:[39m string {[0m

      at MindMapGenerator.generateConnections (src/services/llm/generators/mindmap-generator.ts:289:44)
      at Object.<anonymous> (src/services/llm/generators/__tests__/mindmap-generator.test.ts:507:9)

FAIL src/services/video/__tests__/videoEnricher.test.ts
  ‚óè VideoEnricher ‚Ä∫ enrichVideo ‚Ä∫ should use LLM for advanced analysis when available

    expect(received).toMatchObject(expected)

    - Expected  - 16
    + Received  +  6

      Object {
        "difficulty": "intermediate",
    -   "educationalValue": 0.85,
    -   "keyTimestamps": ArrayContaining [
    -     ObjectContaining {
    -       "description": Any<String>,
    -       "time": Any<Number>,
    -       "topic": Any<String>,
    -     },
    -   ],
    +   "educationalValue": 0.75,
        "learningOutcomes": Array [
    -     "Understand Jung's concepts",
    +     "Identify and explain shadow in psychological context",
    +     "Apply Jungian principles to personal development",
        ],
        "relatedConcepts": Array [
    -     "Shadow",
    -     "Anima",
    -     "Individuation",
    +     "shadow",
        ],
    -   "relevanceScore": 0.9,
    -   "suggestedPrerequisites": Array [
    -     "Basic psychology",
    -   ],
    +   "relevanceScore": 0.3333333333333333,
    +   "suggestedPrerequisites": undefined,
      }

    [0m [90m 100 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m enricherWithLLM[33m.[39menrichVideo(mockVideo[33m,[39m options)[33m;[39m
     [90m 101 |[39m
    [31m[1m>[22m[39m[90m 102 |[39m       expect(result[33m.[39mmetadata)[33m.[39mtoMatchObject({
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 103 |[39m         educationalValue[33m:[39m [35m0.85[39m[33m,[39m
     [90m 104 |[39m         relevanceScore[33m:[39m [35m0.90[39m[33m,[39m
     [90m 105 |[39m         difficulty[33m:[39m [32m'intermediate'[39m[33m,[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/videoEnricher.test.ts:102:31)

  ‚óè VideoEnricher ‚Ä∫ enrichVideo ‚Ä∫ should handle videos with different duration formats

    expect(received).toBe(expected) // Object.is equality

    Expected: "number"
    Received: "object"

    [0m [90m 131 |[39m         [90m// Check that duration was properly converted[39m
     [90m 132 |[39m         expect(result[33m.[39mduration)[33m.[39mtoBeDefined()[33m;[39m
    [31m[1m>[22m[39m[90m 133 |[39m         expect([36mtypeof[39m result[33m.[39mduration)[33m.[39mtoBe([32m'number'[39m)[33m;[39m
     [90m     |[39m                                        [31m[1m^[22m[39m
     [90m 134 |[39m       }
     [90m 135 |[39m     })[33m;[39m
     [90m 136 |[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/videoEnricher.test.ts:133:40)

  ‚óè VideoEnricher ‚Ä∫ LLM integration ‚Ä∫ should parse LLM response correctly

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 351 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m enricherWithLLM[33m.[39menrichVideo(mockVideo[33m,[39m options)[33m;[39m
     [90m 352 |[39m
    [31m[1m>[22m[39m[90m 353 |[39m       expect(result[33m.[39mmetadata[33m.[39mkeyTimestamps)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                             [31m[1m^[22m[39m
     [90m 354 |[39m       expect(result[33m.[39mmetadata[33m.[39mkeyTimestamps)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m 355 |[39m       expect(result[33m.[39mmetadata[33m.[39msuggestedPrerequisites)[33m.[39mtoBeDefined()[33m;[39m
     [90m 356 |[39m       expect(result[33m.[39mmetadata[33m.[39mlearningOutcomes)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> (src/services/video/__tests__/videoEnricher.test.ts:353:45)

  ‚óè VideoEnricher ‚Ä∫ edge cases ‚Ä∫ should handle very long video titles

    expect(received).toBeLessThanOrEqual(expected)

    Expected: <= 300
    Received:    500

    [0m [90m 383 |[39m
     [90m 384 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m enricher[33m.[39menrichVideo(longTitleVideo)[33m;[39m
    [31m[1m>[22m[39m[90m 385 |[39m       expect(result[33m.[39mtitle[33m.[39mlength)[33m.[39mtoBeLessThanOrEqual([35m300[39m)[33m;[39m [90m// Should truncate[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 386 |[39m     })[33m;[39m
     [90m 387 |[39m
     [90m 388 |[39m     it([32m'should handle special characters in content'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/video/__tests__/videoEnricher.test.ts:385:35)

  ‚óè VideoEnricher ‚Ä∫ edge cases ‚Ä∫ should handle null/undefined options gracefully

    TypeError: Cannot read properties of null (reading 'courseContext')

    [0m [90m 197 |[39m     [90m// Relevance score[39m
     [90m 198 |[39m     [36mlet[39m relevanceScore [33m=[39m [35m0[39m[33m;[39m
    [31m[1m>[22m[39m[90m 199 |[39m     [36mif[39m (options[33m.[39mcourseContext) {
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 200 |[39m       [36mconst[39m contextWords [33m=[39m [
     [90m 201 |[39m         options[33m.[39mcourseContext[33m.[39mtopic[33m.[39mtoLowerCase()[33m,[39m
     [90m 202 |[39m         [33m...[39moptions[33m.[39mcourseContext[33m.[39mconcepts[33m.[39mmap(c [33m=>[39m c[33m.[39mtoLowerCase())[33m,[39m[0m

      at VideoEnricher.heuristicAnalyzeVideo (src/services/video/videoEnricher.ts:199:17)
      at VideoEnricher.analyzeVideo (src/services/video/videoEnricher.ts:83:17)
      at VideoEnricher.enrichVideo (src/services/video/videoEnricher.ts:40:33)
      at Object.<anonymous> (src/services/video/__tests__/videoEnricher.test.ts:414:38)

FAIL src/services/quiz/__tests__/enhancedQuizGenerator.test.ts
  ‚óè EnhancedQuizGenerator ‚Ä∫ generateEnhancedQuiz ‚Ä∫ should include essay questions when requested

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 259 |[39m       )[33m;[39m
     [90m 260 |[39m
    [31m[1m>[22m[39m[90m 261 |[39m       expect(quiz[33m.[39mquestions[33m.[39msome(q [33m=>[39m q[33m.[39mtype [33m===[39m [32m'essay'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                                            [31m[1m^[22m[39m
     [90m 262 |[39m     })[33m;[39m
     [90m 263 |[39m
     [90m 264 |[39m     it([32m'should calculate appropriate time limit'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:261:60)

  ‚óè EnhancedQuizGenerator ‚Ä∫ templated question generation ‚Ä∫ should distribute questions by difficulty correctly

    ReferenceError: defaultOptions is not defined

    [0m [90m 306 |[39m         [35m10[39m[33m,[39m
     [90m 307 |[39m         {
    [31m[1m>[22m[39m[90m 308 |[39m           [33m...[39mdefaultOptions[33m,[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 309 |[39m           userLevel[33m:[39m [32m'intermediate'[39m
     [90m 310 |[39m         }
     [90m 311 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:308:14)

  ‚óè EnhancedQuizGenerator ‚Ä∫ templated question generation ‚Ä∫ should handle different user levels

    ReferenceError: defaultOptions is not defined

    [0m [90m 323 |[39m         [35m10[39m[33m,[39m
     [90m 324 |[39m         {
    [31m[1m>[22m[39m[90m 325 |[39m           [33m...[39mdefaultOptions[33m,[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 326 |[39m           userLevel[33m:[39m [32m'beginner'[39m
     [90m 327 |[39m         }
     [90m 328 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:325:14)

  ‚óè EnhancedQuizGenerator ‚Ä∫ templated question generation ‚Ä∫ should handle advanced user level

    ReferenceError: defaultOptions is not defined

    [0m [90m 339 |[39m         [35m10[39m[33m,[39m
     [90m 340 |[39m         {
    [31m[1m>[22m[39m[90m 341 |[39m           [33m...[39mdefaultOptions[33m,[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 342 |[39m           userLevel[33m:[39m [32m'advanced'[39m
     [90m 343 |[39m         }
     [90m 344 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:341:14)

  ‚óè EnhancedQuizGenerator ‚Ä∫ essay question generation ‚Ä∫ should generate essay questions with proper structure

    ReferenceError: defaultOptions is not defined

    [0m [90m 361 |[39m         [35m10[39m[33m,[39m
     [90m 362 |[39m         {
    [31m[1m>[22m[39m[90m 363 |[39m           [33m...[39mdefaultOptions[33m,[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 364 |[39m           includeEssayQuestions[33m:[39m [36mtrue[39m
     [90m 365 |[39m         }
     [90m 366 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:363:14)

  ‚óè EnhancedQuizGenerator ‚Ä∫ essay question generation ‚Ä∫ should handle essay generation failure gracefully

    ReferenceError: defaultOptions is not defined

    [0m [90m 389 |[39m         [35m10[39m[33m,[39m
     [90m 390 |[39m         {
    [31m[1m>[22m[39m[90m 391 |[39m           [33m...[39mdefaultOptions[33m,[39m
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 392 |[39m           includeEssayQuestions[33m:[39m [36mtrue[39m
     [90m 393 |[39m         }
     [90m 394 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:391:14)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle provider returning non-array

    ReferenceError: defaultOptions is not defined

    [0m [90m 408 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 409 |[39m         [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 410 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 411 |[39m       )[33m;[39m
     [90m 412 |[39m
     [90m 413 |[39m       expect(quiz[33m.[39mquestions[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:410:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle provider errors

    ReferenceError: defaultOptions is not defined

    [0m [90m 425 |[39m           [[32m'Objective 1'[39m][33m,[39m
     [90m 426 |[39m           [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 427 |[39m           defaultOptions
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 428 |[39m         )
     [90m 429 |[39m       )[33m.[39mrejects[33m.[39mtoThrow()[33m;[39m
     [90m 430 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:427:11)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle empty objectives array

    ReferenceError: defaultOptions is not defined

    [0m [90m 437 |[39m         [][33m,[39m
     [90m 438 |[39m         [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 439 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 440 |[39m       )[33m;[39m
     [90m 441 |[39m
     [90m 442 |[39m       expect(quiz)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:439:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle very long content

    ReferenceError: defaultOptions is not defined

    [0m [90m 453 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 454 |[39m         [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 455 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 456 |[39m       )[33m;[39m
     [90m 457 |[39m
     [90m 458 |[39m       expect(quiz)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:455:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle zero question count

    ReferenceError: defaultOptions is not defined

    [0m [90m 466 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 467 |[39m         [35m0[39m[33m,[39m
    [31m[1m>[22m[39m[90m 468 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 469 |[39m       )[33m;[39m
     [90m 470 |[39m
     [90m 471 |[39m       expect(quiz[33m.[39mquestions)[33m.[39mtoEqual([])[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:468:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ error handling and edge cases ‚Ä∫ should handle special characters in topic

    ReferenceError: defaultOptions is not defined

    [0m [90m 482 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 483 |[39m         [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 484 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 485 |[39m       )[33m;[39m
     [90m 486 |[39m
     [90m 487 |[39m       expect(quiz[33m.[39mtitle)[33m.[39mtoContain(specialTopic)[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:484:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ helper methods ‚Ä∫ should calculate time limit correctly for different question types

    ReferenceError: defaultOptions is not defined

    [0m [90m 610 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 611 |[39m         [35m0[39m[33m,[39m [90m// Zero questions to test calculation logic[39m
    [31m[1m>[22m[39m[90m 612 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 613 |[39m       )[33m;[39m
     [90m 614 |[39m
     [90m 615 |[39m       [90m// Mock questions to test time calculation[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:612:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ helper methods ‚Ä∫ should extract concepts from questions correctly

    ReferenceError: defaultOptions is not defined

    [0m [90m 642 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 643 |[39m         [35m2[39m[33m,[39m
    [31m[1m>[22m[39m[90m 644 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 645 |[39m       )[33m;[39m
     [90m 646 |[39m
     [90m 647 |[39m       expect(quiz[33m.[39mmetadata[33m?[39m[33m.[39mconcepts)[33m.[39mtoContain([32m'shadow'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:644:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ helper methods ‚Ä∫ should analyze difficulty distribution correctly

    ReferenceError: defaultOptions is not defined

    [0m [90m 668 |[39m         [[32m'Objective 1'[39m][33m,[39m
     [90m 669 |[39m         [35m2[39m[33m,[39m
    [31m[1m>[22m[39m[90m 670 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 671 |[39m       )[33m;[39m
     [90m 672 |[39m
     [90m 673 |[39m       expect(quiz[33m.[39mmetadata[33m?[39m[33m.[39mdifficultyDistribution[33m?[39m[33m.[39measy)[33m.[39mtoBe([35m1[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:670:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ provider integration ‚Ä∫ should pass correct parameters to provider

    ReferenceError: defaultOptions is not defined

    [0m [90m 685 |[39m         [[32m'Learn concepts'[39m[33m,[39m [32m'Apply knowledge'[39m][33m,[39m
     [90m 686 |[39m         [35m8[39m[33m,[39m
    [31m[1m>[22m[39m[90m 687 |[39m         defaultOptions
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 688 |[39m       )[33m;[39m
     [90m 689 |[39m
     [90m 690 |[39m       expect(mockProvider[33m.[39mgenerateStructuredResponse)[33m.[39mtoHaveBeenCalledWith([0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:687:9)

  ‚óè EnhancedQuizGenerator ‚Ä∫ provider integration ‚Ä∫ should handle provider timeout

    ReferenceError: defaultOptions is not defined

    [0m [90m 712 |[39m           [[32m'Objective 1'[39m][33m,[39m
     [90m 713 |[39m           [35m5[39m[33m,[39m
    [31m[1m>[22m[39m[90m 714 |[39m           defaultOptions
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 715 |[39m         )
     [90m 716 |[39m       )[33m.[39mrejects[33m.[39mtoThrow([32m'Timeout'[39m)[33m;[39m
     [90m 717 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/quiz/__tests__/enhancedQuizGenerator.test.ts:714:11)

FAIL src/services/llm/generators/__tests__/bibliography-generator.test.ts
  ‚óè BibliographyGenerator ‚Ä∫ formatCitation ‚Ä∫ should include all available fields in prompt

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: StringContaining "Journal: Journal of Analytical Psychology", Any<Object>
    Received: "
    Formate esta entrada bibliogr√°fica no estilo Chicago:¬∑
    Tipo: artigo
    Autores: Jung, Carl Gustav
    T√≠tulo: The Red Book
    Ano: 2009
    Editora: W. W. Norton & Company
    Peri√≥dico: Journal of Analytical Psychology
    Volume: 54
    Edi√ß√£o: 3
    P√°ginas: 345-367
    DOI: 10.1111/j.1468-5922.2009.01793.x
    URL: https://example.com¬∑
    Forne√ßa apenas a cita√ß√£o formatada, nada mais.
    ", {"maxTokens": 200, "temperature": 0.1}

    Number of calls: 1

    [0m [90m 359 |[39m       [36mawait[39m generator[33m.[39mformatCitation(articleEntry[33m,[39m [32m'Chicago'[39m)[33m;[39m
     [90m 360 |[39m
    [31m[1m>[22m[39m[90m 361 |[39m       expect(mockProvider[33m.[39mgenerateCompletion)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 362 |[39m         expect[33m.[39mstringContaining([32m'Journal: Journal of Analytical Psychology'[39m)[33m,[39m
     [90m 363 |[39m         expect[33m.[39many([33mObject[39m)
     [90m 364 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/services/llm/generators/__tests__/bibliography-generator.test.ts:361:47)

FAIL src/services/quiz/__tests__/quizEnhancer.test.ts
  ‚óè QuizEnhancer ‚Ä∫ enhanceQuestions ‚Ä∫ should handle null/undefined questions

    TypeError: Cannot read properties of null (reading 'map')

    [0m [90m 31 |[39m   )[33m:[39m [33mPromise[39m[33m<[39m[33mQuestion[39m[][33m>[39m {
     [90m 32 |[39m     [36mreturn[39m [33mPromise[39m[33m.[39mall(
    [31m[1m>[22m[39m[90m 33 |[39m       questions[33m.[39mmap(q [33m=>[39m [36mthis[39m[33m.[39menhanceQuestion(q[33m,[39m topic[33m,[39m options))
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 34 |[39m     )[33m;[39m
     [90m 35 |[39m   }
     [90m 36 |[39m[0m

      at QuizEnhancer.enhanceQuestions (src/services/quiz/quizEnhancer.ts:33:17)
      at Object.<anonymous> (src/services/quiz/__tests__/quizEnhancer.test.ts:70:43)

  ‚óè QuizEnhancer ‚Ä∫ error handling ‚Ä∫ should handle invalid enhancement options

    TypeError: Cannot read properties of null (reading 'varyQuestionStems')

    [0m [90m 45 |[39m     [36mlet[39m enhanced [33m=[39m { [33m...[39mquestion }[33m;[39m
     [90m 46 |[39m
    [31m[1m>[22m[39m[90m 47 |[39m     [36mif[39m (options[33m.[39mvaryQuestionStems) {
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 48 |[39m       enhanced [33m=[39m [36mthis[39m[33m.[39mvaryQuestionStem(enhanced)[33m;[39m
     [90m 49 |[39m     }
     [90m 50 |[39m[0m

      at QuizEnhancer.enhanceQuestion (src/services/quiz/quizEnhancer.ts:47:17)
      at map (src/services/quiz/quizEnhancer.ts:33:31)
          at Array.map (<anonymous>)
      at QuizEnhancer.enhanceQuestions (src/services/quiz/quizEnhancer.ts:33:17)
      at Object.<anonymous> (src/services/quiz/__tests__/quizEnhancer.test.ts:338:43)

FAIL src/utils/contentProcessor.test.ts
  ‚óè contentProcessor utilities ‚Ä∫ processContentForMarkdown ‚Ä∫ should convert numbered lists to markdown format

    expect(received).toBe(expected) // Object.is equality

    - Expected  - 2
    + Received  + 2

    - 1. First item
    + 1. **First item

    - 2. Second item
    + 2. **Second item

    [0m [90m 13 |[39m       [36mconst[39m expected [33m=[39m [32m'1. First item\n\n2. Second item'[39m[33m;[39m
     [90m 14 |[39m       
    [31m[1m>[22m[39m[90m 15 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 16 |[39m     })[33m;[39m
     [90m 17 |[39m
     [90m 18 |[39m     it([32m'should convert bullet points to markdown format'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:15:48)

  ‚óè contentProcessor utilities ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle numbered lists with bold titles

    expect(received).toBe(expected) // Object.is equality

    Expected: "1. **Autoconhecimento:** Understanding yourself"
    Received: "1. ****Autoconhecimento:** Understanding yourself"

    [0m [90m 27 |[39m       [36mconst[39m expected [33m=[39m [32m'1. **Autoconhecimento:** Understanding yourself'[39m[33m;[39m
     [90m 28 |[39m       
    [31m[1m>[22m[39m[90m 29 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 30 |[39m     })[33m;[39m
     [90m 31 |[39m
     [90m 32 |[39m     it([32m'should handle bullet lists with bold titles'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:29:48)

  ‚óè contentProcessor utilities ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle bullet lists with bold titles

    expect(received).toBe(expected) // Object.is equality

    Expected: "* **Shadow Work:** Exploring the unconscious"
    Received: "* **Shadow Work: Exploring the unconscious"

    [0m [90m 34 |[39m       [36mconst[39m expected [33m=[39m [32m'* **Shadow Work:** Exploring the unconscious'[39m[33m;[39m
     [90m 35 |[39m       
    [31m[1m>[22m[39m[90m 36 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 37 |[39m     })[33m;[39m
     [90m 38 |[39m
     [90m 39 |[39m     it([32m'should add proper spacing between list items'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:36:48)

  ‚óè contentProcessor utilities ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle inline numbered lists with capitals

    expect(received).toBe(expected) // Object.is equality

    - Expected  - 2
    + Received  + 2

    - 1. **Shadow**
    + 1. **Shadow

    - 2. **Anima**
    + 2. **Anima

    [0m [90m 49 |[39m       [36mconst[39m expected [33m=[39m [32m'1. **Shadow**\n\n2. **Anima**'[39m[33m;[39m
     [90m 50 |[39m       
    [31m[1m>[22m[39m[90m 51 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 52 |[39m     })[33m;[39m
     [90m 53 |[39m
     [90m 54 |[39m     it([32m'should handle inline bullet lists with capitals'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:51:48)

  ‚óè contentProcessor utilities ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle inline bullet lists with capitals

    expect(received).toBe(expected) // Object.is equality

    - Expected  - 2
    + Received  + 2

    - * **Shadow**
    + * **Shadow

    - * **Anima**
    + * **Anima

    [0m [90m 56 |[39m       [36mconst[39m expected [33m=[39m [32m'* **Shadow**\n\n* **Anima**'[39m[33m;[39m
     [90m 57 |[39m       
    [31m[1m>[22m[39m[90m 58 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 59 |[39m     })[33m;[39m
     [90m 60 |[39m
     [90m 61 |[39m     it([32m'should clean up multiple blank lines'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:58:48)

  ‚óè contentProcessor utilities ‚Ä∫ extractKeyTerms ‚Ä∫ should extract capitalized terms as potential key terms

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 181 |[39m       
     [90m 182 |[39m       [36mconst[39m depthPsychTerm [33m=[39m terms[33m.[39mfind(t [33m=>[39m t[33m.[39mterm [33m===[39m [32m'Depth Psychology'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 183 |[39m       expect(depthPsychTerm)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 184 |[39m       expect(depthPsychTerm[33m?[39m[33m.[39mdefinition)[33m.[39mtoContain([32m'depth psychology'[39m)[33m;[39m
     [90m 185 |[39m     })[33m;[39m
     [90m 186 |[39m[0m

      at Object.<anonymous> (src/utils/contentProcessor.test.ts:183:30)

FAIL src/utils/__tests__/contentProcessor.extended.test.ts
  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should convert numbered lists with content on new lines

    expect(received).toBe(expected) // Object.is equality

    - Expected  - 2
    + Received  + 3

    - 1. First item
    + 1. **First item
    - 2. Second item
    +
    + 2. **Second item

    [0m [90m 13 |[39m       [36mconst[39m input [33m=[39m [32m`1.\nFirst item\n2.\nSecond item`[39m[33m;[39m
     [90m 14 |[39m       [36mconst[39m expected [33m=[39m [32m`1. First item\n2. Second item`[39m[33m;[39m
    [31m[1m>[22m[39m[90m 15 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 16 |[39m     })[33m;[39m
     [90m 17 |[39m
     [90m 18 |[39m     it([32m'should convert bullet points correctly'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:15:48)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should convert bullet points correctly

    expect(received).toBe(expected) // Object.is equality

    - Expected  - 0
    + Received  + 1

      * Bullet one
    +
      * Bullet two

    [0m [90m 19 |[39m       [36mconst[39m input [33m=[39m [32m`‚Ä¢\nBullet one\n‚Ä¢\nBullet two`[39m[33m;[39m
     [90m 20 |[39m       [36mconst[39m expected [33m=[39m [32m`* Bullet one\n* Bullet two`[39m[33m;[39m
    [31m[1m>[22m[39m[90m 21 |[39m       expect(processContentForMarkdown(input))[33m.[39mtoBe(expected)[33m;[39m
     [90m    |[39m                                                [31m[1m^[22m[39m
     [90m 22 |[39m     })[33m;[39m
     [90m 23 |[39m
     [90m 24 |[39m     it([32m'should handle mixed list types'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:21:48)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle mixed list types

    expect(received).toContain(expected) // indexOf

    Expected substring: "1. First numbered"
    Received string:    "1. **First numbered¬∑
    * Bullet item¬∑
    2. **Second numbered"

    [0m [90m 25 |[39m       [36mconst[39m input [33m=[39m [32m`1. First numbered\n‚Ä¢\nBullet item\n2. Second numbered`[39m[33m;[39m
     [90m 26 |[39m       [36mconst[39m result [33m=[39m processContentForMarkdown(input)[33m;[39m
    [31m[1m>[22m[39m[90m 27 |[39m       expect(result)[33m.[39mtoContain([32m'1. First numbered'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 28 |[39m       expect(result)[33m.[39mtoContain([32m'* Bullet item'[39m)[33m;[39m
     [90m 29 |[39m       expect(result)[33m.[39mtoContain([32m'2. Second numbered'[39m)[33m;[39m
     [90m 30 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:27:22)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should add bold formatting to list items starting with capital letters

    expect(received).toContain(expected) // indexOf

    Expected substring: "**Shadow:** The dark side"
    Received string:    "1. ****Autoconhecimento:** Understanding oneself¬∑
    * **Shadow: The dark side"

    [0m [90m 34 |[39m       [36mconst[39m result [33m=[39m processContentForMarkdown(input)[33m;[39m
     [90m 35 |[39m       expect(result)[33m.[39mtoContain([32m'**Autoconhecimento:** Understanding oneself'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m       expect(result)[33m.[39mtoContain([32m'**Shadow:** The dark side'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 37 |[39m     })[33m;[39m
     [90m 38 |[39m
     [90m 39 |[39m     it([32m'should ensure proper spacing between list items'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:36:22)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should ensure proper spacing between list items

    expect(received).toContain(expected) // indexOf

    Expected substring: "Some text¬∑
    1. First item"
    Received string:    "Some text¬∑
    1. **First item
    More text¬∑
    * Bullet item"

    [0m [90m 40 |[39m       [36mconst[39m input [33m=[39m [32m`Some text\n1. First item\nMore text\n* Bullet item`[39m[33m;[39m
     [90m 41 |[39m       [36mconst[39m result [33m=[39m processContentForMarkdown(input)[33m;[39m
    [31m[1m>[22m[39m[90m 42 |[39m       expect(result)[33m.[39mtoContain([32m'Some text\n\n1. First item'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 43 |[39m       expect(result)[33m.[39mtoContain([32m'More text\n\n* Bullet item'[39m)[33m;[39m
     [90m 44 |[39m     })[33m;[39m
     [90m 45 |[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:42:22)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle edge cases with empty content

    expect(received).toBe(expected) // Object.is equality

    Expected: ""
    Received: "¬∑
    "

    [0m [90m 52 |[39m     it([32m'should handle edge cases with empty content'[39m[33m,[39m () [33m=>[39m {
     [90m 53 |[39m       expect(processContentForMarkdown([32m''[39m))[33m.[39mtoBe([32m''[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 54 |[39m       expect(processContentForMarkdown([32m'\n\n\n'[39m))[33m.[39mtoBe([32m''[39m)[33m;[39m
     [90m    |[39m                                                   [31m[1m^[22m[39m
     [90m 55 |[39m     })[33m;[39m
     [90m 56 |[39m
     [90m 57 |[39m     it([32m'should preserve existing markdown formatting'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:54:51)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processContentForMarkdown ‚Ä∫ should handle complex nested structures

    expect(received).toContain(expected) // indexOf

    Expected substring: "1. **Main point:**"
    Received string:    "1. ****Main point:** ‚Ä¢ Sub-bullet one
       ‚Ä¢ Sub-bullet two¬∑
    2. **Another point"

    [0m [90m 66 |[39m       [36mconst[39m input [33m=[39m [32m`1. Main point:\n   ‚Ä¢ Sub-bullet one\n   ‚Ä¢ Sub-bullet two\n2. Another point`[39m[33m;[39m
     [90m 67 |[39m       [36mconst[39m result [33m=[39m processContentForMarkdown(input)[33m;[39m
    [31m[1m>[22m[39m[90m 68 |[39m       expect(result)[33m.[39mtoContain([32m'1. **Main point:**'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 69 |[39m       expect(result)[33m.[39mtoContain([32m'* Sub-bullet one'[39m)[33m;[39m
     [90m 70 |[39m     })[33m;[39m
     [90m 71 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:68:22)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processModuleContent ‚Ä∫ should handle case-insensitive term matching

    expect(received).toBeGreaterThanOrEqual(expected)

    Expected: >= 3
    Received:    2

    [0m [90m 102 |[39m       [36mconst[39m result [33m=[39m processModuleContent(input)[33m;[39m
     [90m 103 |[39m       [36mconst[39m shadowCount [33m=[39m (result[33m.[39mmatch([35m/\*\*[Ss]hadow\*\*/g[39m) [33m||[39m [])[33m.[39mlength[33m;[39m
    [31m[1m>[22m[39m[90m 104 |[39m       expect(shadowCount)[33m.[39mtoBeGreaterThanOrEqual([35m3[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 105 |[39m     })[33m;[39m
     [90m 106 |[39m
     [90m 107 |[39m     it([32m'should not double-emphasize already formatted terms'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:104:27)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ processModuleContent ‚Ä∫ should handle complex psychological content

    expect(received).toContain(expected) // indexOf

    Expected substring: "**anima**/**animus**"
    Received string:    "The process of **individuation** involves integrating the **shadow**,¬∑
            **anima**/animus, and other **archetypes** from the **collective unconscious**.
            Key Concepts: **Self**, **ego**, **persona**
            Important: This is central to **analytical psychology**"

    [0m [90m 129 |[39m       expect(result)[33m.[39mtoContain([32m'**individuation**'[39m)[33m;[39m
     [90m 130 |[39m       expect(result)[33m.[39mtoContain([32m'**shadow**'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 131 |[39m       expect(result)[33m.[39mtoContain([32m'**anima**/**animus**'[39m)[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 132 |[39m       expect(result)[33m.[39mtoContain([32m'## Key Concepts:'[39m)[33m;[39m
     [90m 133 |[39m       expect(result)[33m.[39mtoContain([32m'**analytical psychology**'[39m)[33m;[39m
     [90m 134 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:131:22)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ extractKeyTerms ‚Ä∫ should handle additional capitalized terms

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 202 |[39m       
     [90m 203 |[39m       [36mconst[39m depthPsych [33m=[39m terms[33m.[39mfind(t [33m=>[39m t[33m.[39mterm [33m===[39m [32m'Depth Psychology'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 204 |[39m       expect(depthPsych)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 205 |[39m       expect(depthPsych[33m?[39m[33m.[39mdefinition)[33m.[39mtoContain([32m'analytical psychology'[39m)[33m;[39m
     [90m 206 |[39m     })[33m;[39m
     [90m 207 |[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:204:26)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ generateSummary ‚Ä∫ should prioritize sentences with Jungian keywords

    expect(received).toContain(expected) // indexOf

    Expected substring: "Individuation"
    Received string:    "Jung developed the concept of the collective unconscious. People have different personalities. The shadow archetype represents our hidden aspects."

    [0m [90m 275 |[39m       expect(summary)[33m.[39mtoContain([32m'collective unconscious'[39m)[33m;[39m
     [90m 276 |[39m       expect(summary)[33m.[39mtoContain([32m'shadow archetype'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 277 |[39m       expect(summary)[33m.[39mtoContain([32m'Individuation'[39m)[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 278 |[39m       expect(summary)[33m.[39mnot[33m.[39mtoContain([32m'Weather'[39m)[33m;[39m
     [90m 279 |[39m       expect(summary)[33m.[39mnot[33m.[39mtoContain([32m'Coffee'[39m)[33m;[39m
     [90m 280 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:277:23)

  ‚óè contentProcessor utilities - Extended Tests ‚Ä∫ Edge cases and boundary conditions ‚Ä∫ should handle null/undefined gracefully

    TypeError: Cannot read properties of null (reading 'replace')

    [0m [90m  9 |[39m   [90m// Process numbered lists[39m
     [90m 10 |[39m   [90m// Match lines that start with number + dot (e.g., "1.", "2.")[39m
    [31m[1m>[22m[39m[90m 11 |[39m   processedContent [33m=[39m processedContent[33m.[39mreplace([35m/^(\d+)\.\s*\n/gm[39m[33m,[39m [32m'$1. '[39m)[33m;[39m
     [90m    |[39m                                       [31m[1m^[22m[39m
     [90m 12 |[39m   
     [90m 13 |[39m   [90m// Process bullet points[39m
     [90m 14 |[39m   [90m// Match lines that start with bullet character[39m[0m

      at processContentForMarkdown (src/utils/contentProcessor.ts:11:39)
      at Object.<anonymous> (src/utils/__tests__/contentProcessor.extended.test.ts:348:39)

FAIL src/utils/localStorage.test.ts
  ‚óè localStorage utilities ‚Ä∫ saveUserProgress ‚Ä∫ should handle localStorage errors gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Failed to save user progress:", Any<Error>

    Number of calls: 0

    [0m [90m 82 |[39m       saveUserProgress(progress)[33m;[39m
     [90m 83 |[39m
    [31m[1m>[22m[39m[90m 84 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalledWith(
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 85 |[39m         [32m'Failed to save user progress:'[39m[33m,[39m
     [90m 86 |[39m         expect[33m.[39many([33mError[39m)
     [90m 87 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:84:31)

  ‚óè localStorage utilities ‚Ä∫ loadUserProgress ‚Ä∫ should handle invalid JSON gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Failed to load user progress:", Any<Error>

    Number of calls: 0

    [0m [90m 122 |[39m
     [90m 123 |[39m       expect(loaded)[33m.[39mtoBeNull()[33m;[39m
    [31m[1m>[22m[39m[90m 124 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 125 |[39m         [32m'Failed to load user progress:'[39m[33m,[39m
     [90m 126 |[39m         expect[33m.[39many([33mError[39m)
     [90m 127 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:124:31)

  ‚óè localStorage utilities ‚Ä∫ loadUserProgress ‚Ä∫ should handle localStorage errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 136 |[39m
     [90m 137 |[39m       expect(loaded)[33m.[39mtoBeNull()[33m;[39m
    [31m[1m>[22m[39m[90m 138 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 139 |[39m     })[33m;[39m
     [90m 140 |[39m   })[33m;[39m
     [90m 141 |[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:138:31)

  ‚óè localStorage utilities ‚Ä∫ clearUserProgress ‚Ä∫ should handle localStorage errors gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Failed to clear user progress:", Any<Error>

    Number of calls: 0

    [0m [90m 154 |[39m       clearUserProgress()[33m;[39m
     [90m 155 |[39m
    [31m[1m>[22m[39m[90m 156 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 157 |[39m         [32m'Failed to clear user progress:'[39m[33m,[39m
     [90m 158 |[39m         expect[33m.[39many([33mError[39m)
     [90m 159 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:156:31)

  ‚óè localStorage utilities ‚Ä∫ saveNotes ‚Ä∫ should handle localStorage errors gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Failed to save notes:", Any<Error>

    Number of calls: 0

    [0m [90m 193 |[39m       saveNotes([])[33m;[39m
     [90m 194 |[39m
    [31m[1m>[22m[39m[90m 195 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 196 |[39m         [32m'Failed to save notes:'[39m[33m,[39m
     [90m 197 |[39m         expect[33m.[39many([33mError[39m)
     [90m 198 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:195:31)

  ‚óè localStorage utilities ‚Ä∫ loadNotes ‚Ä∫ should handle invalid JSON gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 233 |[39m
     [90m 234 |[39m       expect(loaded)[33m.[39mtoEqual([])[33m;[39m
    [31m[1m>[22m[39m[90m 235 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 236 |[39m     })[33m;[39m
     [90m 237 |[39m   })[33m;[39m
     [90m 238 |[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:235:31)

  ‚óè localStorage utilities ‚Ä∫ saveModuleProgress ‚Ä∫ should handle errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 293 |[39m       saveModuleProgress([32m'module1'[39m[33m,[39m [36mtrue[39m[33m,[39m [35m85[39m)[33m;[39m
     [90m 294 |[39m
    [31m[1m>[22m[39m[90m 295 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 296 |[39m     })[33m;[39m
     [90m 297 |[39m
     [90m 298 |[39m     it([32m'should update lastAccessed timestamp'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:295:31)

  ‚óè localStorage utilities ‚Ä∫ loadModuleProgress ‚Ä∫ should handle errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 365 |[39m
     [90m 366 |[39m       expect(result[33m.[39mcompleted)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 367 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 368 |[39m     })[33m;[39m
     [90m 369 |[39m   })[33m;[39m
     [90m 370 |[39m })[33m;[39m[0m

      at Object.<anonymous> (src/utils/localStorage.test.ts:367:31)

FAIL src/__tests__/App.test.tsx
  ‚óè App Component ‚Ä∫ renders without crashing

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:125:11)

  ‚óè App Component ‚Ä∫ wraps content with AdminProvider

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:130:33)

  ‚óè App Component ‚Ä∫ renders navigation component

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:135:11)

  ‚óè App Component ‚Ä∫ initializes user progress from localStorage when available

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:151:11)

  ‚óè App Component ‚Ä∫ creates new user progress when localStorage is empty

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:158:11)

  ‚óè App Component ‚Ä∫ saves user progress to localStorage on updates

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:176:11)

  ‚óè App Component ‚Ä∫ renders main container with correct styling

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:190:33)

  ‚óè App Component ‚Ä∫ renders with min-height screen background

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:197:33)

  ‚óè App Component ‚Ä∫ includes router with future flags

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:205:11)

  ‚óè App Component ‚Ä∫ provides modules from admin context

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:211:11)

  ‚óè App Component ‚Ä∫ handles corrupted localStorage gracefully

    expect(received).not.toThrow()

    Error name:    "SyntaxError"
    Error message: "Unexpected token 'i', \"invalid-json\" is not valid JSON"

        [0m [90m 26 |[39m     [36mconst[39m saved [33m=[39m localStorage[33m.[39mgetItem([32m'jungAppProgress'[39m)[33m;[39m
         [90m 27 |[39m     [36mif[39m (saved) {
        [31m[1m>[22m[39m[90m 28 |[39m       [36mreturn[39m [33mJSON[39m[33m.[39mparse(saved)[33m;[39m
         [90m    |[39m                   [31m[1m^[22m[39m
         [90m 29 |[39m     }
         [90m 30 |[39m     [36mconst[39m newProgress [33m=[39m {
         [90m 31 |[39m       userId[33m:[39m [32m'user-'[39m [33m+[39m [33mDate[39m[33m.[39mnow()[33m,[39m[0m

      at src/App.tsx:28:19
      at mountState (node_modules/react-dom/cjs/react-dom.development.js:16167:20)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:16880:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at AppContent (src/App.tsx:25:51)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at src/__tests__/App.test.tsx:220:24
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:83:11)
      at Object.toThrow (node_modules/expect/build/index.js:382:21)
      at Object.<anonymous> (src/__tests__/App.test.tsx:220:39)
      at Object.<anonymous> (src/__tests__/App.test.tsx:220:39)

  ‚óè App Component ‚Ä∫ AppContent receives modules from useAdmin hook

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:229:11)

  ‚óè App Component ‚Ä∫ renders Routes component structure

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:236:33)

  ‚óè App Component ‚Ä∫ user progress includes all required fields

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:244:11)

  ‚óè App Component ‚Ä∫ multiple renders use same user progress

    TypeError: Cannot read properties of undefined (reading 'map')

    [0m [90m 381 |[39m       module[33m.[39mdescription[33m,[39m
     [90m 382 |[39m       module[33m.[39mcontent[33m.[39mintroduction[33m,[39m
    [31m[1m>[22m[39m[90m 383 |[39m       [33m...[39mmodule[33m.[39mcontent[33m.[39msections[33m.[39mmap((s[33m:[39m any) [33m=>[39m s[33m.[39mtitle [33m+[39m [32m' '[39m [33m+[39m s[33m.[39mcontent)
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 384 |[39m     ][33m.[39mjoin([32m' '[39m)[33m;[39m
     [90m 385 |[39m
     [90m 386 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mcategorizeContent(module[33m.[39mtitle[33m,[39m fullText)[33m;[39m[0m

      at MindMapGenerator.categorizeModule (src/services/mindmap/mindMapGenerator.ts:383:34)
      at MindMapGenerator.assignModuleToCategory (src/services/mindmap/mindMapGenerator.ts:393:27)
      at forEach (src/services/mindmap/mindMapGenerator.ts:194:34)
          at Array.forEach (<anonymous>)
      at MindMapGenerator.generateFromModules (src/services/mindmap/mindMapGenerator.ts:193:13)
      at ReactFlowAdapter.generateFromModules (src/services/mindmap/reactFlowAdapter.ts:53:41)
      at generateInitialData (src/components/mindmap/InteractiveMindMap.tsx:55:22)
      at InteractiveMindMap (src/components/mindmap/InteractiveMindMap.tsx:59:23)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/App.test.tsx:258:31)

FAIL src/components/notes/__tests__/NoteEditor.test.tsx (8.241 s)
  ‚óè NoteEditor ‚Ä∫ button states ‚Ä∫ should disable save button when content is empty

    expect(element).toBeDisabled()

    Received element is not disabled:
      <span />

    [0m [90m 161 |[39m
     [90m 162 |[39m       [36mconst[39m saveButton [33m=[39m screen[33m.[39mgetByText([32m'Salvar'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 163 |[39m       expect(saveButton)[33m.[39mtoBeDisabled()[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 164 |[39m       expect(saveButton)[33m.[39mtoHaveClass([32m'disabled:opacity-50'[39m[33m,[39m [32m'disabled:cursor-not-allowed'[39m)[33m;[39m
     [90m 165 |[39m     })[33m;[39m
     [90m 166 |[39m[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:163:26)

  ‚óè NoteEditor ‚Ä∫ button states ‚Ä∫ should disable save button when content becomes empty

    expect(element).toBeDisabled()

    Received element is not disabled:
      <span />

    [0m [90m 186 |[39m       [36mawait[39m user[33m.[39mclear(textarea)[33m;[39m
     [90m 187 |[39m
    [31m[1m>[22m[39m[90m 188 |[39m       expect(saveButton)[33m.[39mtoBeDisabled()[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 189 |[39m     })[33m;[39m
     [90m 190 |[39m   })[33m;[39m
     [90m 191 |[39m[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:188:26)

  ‚óè NoteEditor ‚Ä∫ keyboard interactions ‚Ä∫ should handle Tab key in textarea

    expect(received).toContain(expected) // indexOf

    Expected substring: "Indented text"
    Received string:    "Line 1"

    [0m [90m 236 |[39m
     [90m 237 |[39m       expect(textarea[33m.[39mvalue)[33m.[39mtoContain([32m'Line 1'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 238 |[39m       expect(textarea[33m.[39mvalue)[33m.[39mtoContain([32m'Indented text'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 239 |[39m     })[33m;[39m
     [90m 240 |[39m
     [90m 241 |[39m     it([32m'should handle Enter key for new lines'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:238:30)

  ‚óè NoteEditor ‚Ä∫ content validation ‚Ä∫ should handle very long content

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 280 |[39m     })[33m;[39m
     [90m 281 |[39m
    [31m[1m>[22m[39m[90m 282 |[39m     it([32m'should handle very long content'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 283 |[39m       [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
     [90m 284 |[39m       render([33m<[39m[33mNoteEditor[39m {[33m...[39mdefaultProps} [33m/[39m[33m>[39m)[33m;[39m
     [90m 285 |[39m[0m

      at src/components/notes/__tests__/NoteEditor.test.tsx:282:5
      at src/components/notes/__tests__/NoteEditor.test.tsx:267:3
      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:11:1)

  ‚óè NoteEditor ‚Ä∫ content validation ‚Ä∫ should handle special characters

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Jung's \"Shadow\" & <Anima> concepts: 100% important! #psychology @carl_jung"
    Received: "AAAJAuAnAgA'AsA A\"ASAhAaAdAoAwA\"A A&A A<AAAnAiAmAaA>A AcAoAnAcAeApAtAsA:A A1A0A0A%A AiAmApAoArAtAaAnAtA!A A#ApAsAyAcAhAoAlAoAgAyA A@AcAaArAlA_AjAuAnAgAAA"

    Number of calls: 1

    [0m [90m 307 |[39m       [36mawait[39m user[33m.[39mclick(saveButton)[33m;[39m
     [90m 308 |[39m
    [31m[1m>[22m[39m[90m 309 |[39m       expect(mockOnSave)[33m.[39mtoHaveBeenCalledWith(specialContent)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 310 |[39m     })[33m;[39m
     [90m 311 |[39m
     [90m 312 |[39m     it([32m'should handle unicode and emojis'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:309:26)

  ‚óè NoteEditor ‚Ä∫ content validation ‚Ä∫ should handle unicode and emojis

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Jung e a sombra ÔøΩÔøΩ Conceitos fundamentais: œàœÖœáŒÆ (psyche) ‚ö°"
    Received: "AAAJAuAnAgA AeA AaA AsAoAmAbArAaA AÔøΩAÔøΩA ACAoAnAcAeAiAtAoAsA AfAuAnAdAaAmAeAnAtAaAiAsA:A AœàAœÖAœáAŒÆA A(ApAsAyAcAhAeA)A A‚ö°AAA"

    Number of calls: 1

    [0m [90m 322 |[39m       [36mawait[39m user[33m.[39mclick(saveButton)[33m;[39m
     [90m 323 |[39m
    [31m[1m>[22m[39m[90m 324 |[39m       expect(mockOnSave)[33m.[39mtoHaveBeenCalledWith(unicodeContent)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 325 |[39m     })[33m;[39m
     [90m 326 |[39m   })[33m;[39m
     [90m 327 |[39m[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:324:26)

  ‚óè NoteEditor ‚Ä∫ accessibility ‚Ä∫ should be keyboard navigable

    expect(received).toBe(expected) // Object.is equality

    - Expected  -  3
    + Received  + 23

    - <span>
    -   Salvar
    - </span>
    + <button
    +   class="text-gray-400 hover:text-gray-600"
    + >
    +   <svg
    +     class="lucide lucide-x w-6 h-6"
    +     fill="none"
    +     height="24"
    +     stroke="currentColor"
    +     stroke-linecap="round"
    +     stroke-linejoin="round"
    +     stroke-width="2"
    +     viewBox="0 0 24 24"
    +     width="24"
    +     xmlns="http://www.w3.org/2000/svg"
    +   >
    +     <path
    +       d="M18 6 6 18"
    +     />
    +     <path
    +       d="m6 6 12 12"
    +     />
    +   </svg>
    + </button>

    [0m [90m 347 |[39m       [90m// The Save button should be focused now[39m
     [90m 348 |[39m       [36mconst[39m saveButton [33m=[39m screen[33m.[39mgetByText([32m'Salvar'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 349 |[39m       expect(document[33m.[39mactiveElement)[33m.[39mtoBe(saveButton)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 350 |[39m     })[33m;[39m
     [90m 351 |[39m
     [90m 352 |[39m     it([32m'should announce save button state changes'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:349:38)

  ‚óè NoteEditor ‚Ä∫ accessibility ‚Ä∫ should announce save button state changes

    expect(element).toHaveAttribute("disabled") // element.hasAttribute("disabled")

    Expected the element to have attribute:
      disabled
    Received:
      null

    [0m [90m 358 |[39m
     [90m 359 |[39m       [90m// Initially disabled[39m
    [31m[1m>[22m[39m[90m 360 |[39m       expect(saveButton)[33m.[39mtoHaveAttribute([32m'disabled'[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 361 |[39m
     [90m 362 |[39m       [90m// Type to enable[39m
     [90m 363 |[39m       [36mawait[39m user[33m.[39mtype(textarea[33m,[39m [32m'Content'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/components/notes/__tests__/NoteEditor.test.tsx:360:26)

FAIL src/services/validation/__tests__/systemValidator.test.ts (8.447 s)
  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should successfully validate a well-formed module

    TypeError: Cannot read properties of undefined (reading 'passed')

    [0m [90m 112 |[39m
     [90m 113 |[39m       expect(result)[33m.[39mtoBeDefined()[33m;[39m
    [31m[1m>[22m[39m[90m 114 |[39m       expect(result[33m.[39msummary[33m.[39mpassed)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 115 |[39m       expect(result[33m.[39msummary[33m.[39mscore)[33m.[39mtoBeGreaterThan([35m80[39m)[33m;[39m
     [90m 116 |[39m       expect(result[33m.[39msummary[33m.[39mgrade)[33m.[39mtoMatch([35m/[A-B]/[39m)[33m;[39m
     [90m 117 |[39m       expect(result[33m.[39msummary[33m.[39mvalidModules)[33m.[39mtoBe([35m1[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:114:29)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should return detailed module validation results

    expect(received).toHaveLength(expected)

    Matcher error: received value must have a length property whose value must be a number

    Received has value: undefined

    [0m [90m 122 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([mockValidModule])[33m;[39m
     [90m 123 |[39m
    [31m[1m>[22m[39m[90m 124 |[39m       expect(result[33m.[39mmoduleResults)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 125 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mmoduleId)[33m.[39mtoBe([32m'test-module-1'[39m)[33m;[39m
     [90m 126 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mpassed)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 127 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mcontentQuality)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:124:36)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should validate content quality

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 133 |[39m     it([32m'should validate content quality'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 134 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([mockValidModule])[33m;[39m
    [31m[1m>[22m[39m[90m 135 |[39m       [36mconst[39m contentQuality [33m=[39m result[33m.[39mmoduleResults[[35m0[39m][33m.[39mcontentQuality[33m;[39m
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 136 |[39m
     [90m 137 |[39m       expect(contentQuality[33m.[39mscore)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m
     [90m 138 |[39m       expect(contentQuality[33m.[39mclarity)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:135:50)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should validate structural integrity

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 145 |[39m     it([32m'should validate structural integrity'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 146 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([mockValidModule])[33m;[39m
    [31m[1m>[22m[39m[90m 147 |[39m       [36mconst[39m structural [33m=[39m result[33m.[39mmoduleResults[[35m0[39m][33m.[39mstructuralIntegrity[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 148 |[39m
     [90m 149 |[39m       expect(structural[33m.[39mscore)[33m.[39mtoBeGreaterThan([35m80[39m)[33m;[39m
     [90m 150 |[39m       expect(structural[33m.[39mhasAllComponents)[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:147:46)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should handle empty module array

    TypeError: Cannot read properties of undefined (reading 'passed')

    [0m [90m 158 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([])[33m;[39m
     [90m 159 |[39m
    [31m[1m>[22m[39m[90m 160 |[39m       expect(result[33m.[39msummary[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 161 |[39m       expect(result[33m.[39msummary[33m.[39mscore)[33m.[39mtoBe([35m0[39m)[33m;[39m
     [90m 162 |[39m       expect(result[33m.[39msummary[33m.[39mgrade)[33m.[39mtoBe([32m'F'[39m)[33m;[39m
     [90m 163 |[39m       expect(result[33m.[39msummary[33m.[39mtotalModules)[33m.[39mtoBe([35m0[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:160:29)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should handle module with missing required fields

    TypeError: Cannot read properties of undefined (reading 'passed')

    [0m [90m 174 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([incompleteModule])[33m;[39m
     [90m 175 |[39m
    [31m[1m>[22m[39m[90m 176 |[39m       expect(result[33m.[39msummary[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 177 |[39m       expect(result[33m.[39msummary[33m.[39minvalidModules)[33m.[39mtoBe([35m1[39m)[33m;[39m
     [90m 178 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 179 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39merrors[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:176:29)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should detect poor content quality

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 193 |[39m
     [90m 194 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([poorModule])[33m;[39m
    [31m[1m>[22m[39m[90m 195 |[39m       [36mconst[39m contentQuality [33m=[39m result[33m.[39mmoduleResults[[35m0[39m][33m.[39mcontentQuality[33m;[39m
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 196 |[39m
     [90m 197 |[39m       expect(contentQuality[33m.[39mscore)[33m.[39mtoBeLessThan([35m50[39m)[33m;[39m
     [90m 198 |[39m       expect(contentQuality[33m.[39mclarity)[33m.[39mtoBeLessThan([35m50[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:195:50)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should validate quiz quality

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 222 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([moduleWithPoorQuiz])[33m;[39m
     [90m 223 |[39m
    [31m[1m>[22m[39m[90m 224 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mcontentQuality[33m.[39mquizQuality)[33m.[39mtoBeLessThan([35m50[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 225 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39mwarnings)[33m.[39mtoContain([32m'Quiz questions lack depth and clarity'[39m)[33m;[39m
     [90m 226 |[39m     })[33m;[39m
     [90m 227 |[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:224:34)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should validate Jungian concept alignment

    TypeError: Cannot read properties of undefined (reading '0')

    [0m [90m 241 |[39m
     [90m 242 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([nonJungianModule])[33m;[39m
    [31m[1m>[22m[39m[90m 243 |[39m       [36mconst[39m contentQuality [33m=[39m result[33m.[39mmoduleResults[[35m0[39m][33m.[39mcontentQuality[33m;[39m
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 244 |[39m
     [90m 245 |[39m       expect(contentQuality[33m.[39mjungianAlignment)[33m.[39mtoBeLessThan([35m30[39m)[33m;[39m
     [90m 246 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:243:50)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should provide recommendations for improvement

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 254 |[39m       
     [90m 255 |[39m       result[33m.[39mrecommendations[33m.[39mforEach(rec [33m=>[39m {
    [31m[1m>[22m[39m[90m 256 |[39m         expect(rec[33m.[39marea)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 257 |[39m         expect(rec[33m.[39mpriority)[33m.[39mtoMatch([35m/low|medium|high|critical/[39m)[33m;[39m
     [90m 258 |[39m         expect(rec[33m.[39mdescription)[33m.[39mtoBeDefined()[33m;[39m
     [90m 259 |[39m         expect(rec[33m.[39mimpact)[33m.[39mtoBeDefined()[33m;[39m[0m

      at forEach (src/services/validation/__tests__/systemValidator.test.ts:256:26)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:255:30)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should handle multiple modules

    TypeError: Cannot read properties of undefined (reading 'totalModules')

    [0m [90m 270 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem(modules)[33m;[39m
     [90m 271 |[39m
    [31m[1m>[22m[39m[90m 272 |[39m       expect(result[33m.[39msummary[33m.[39mtotalModules)[33m.[39mtoBe([35m3[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 273 |[39m       expect(result[33m.[39mmoduleResults)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m 274 |[39m       expect(result[33m.[39msummary[33m.[39mvalidModules)[33m.[39mtoBe([35m3[39m)[33m;[39m
     [90m 275 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:272:29)

  ‚óè SystemValidator ‚Ä∫ validateSystem ‚Ä∫ should calculate appropriate grades

    TypeError: _systemValidator.systemValidator.calculateGrade is not a function

    [0m [90m 286 |[39m
     [90m 287 |[39m       [36mfor[39m ([36mconst[39m testCase [36mof[39m testCases) {
    [31m[1m>[22m[39m[90m 288 |[39m         [36mconst[39m grade [33m=[39m (systemValidator [36mas[39m any)[33m.[39mcalculateGrade(testCase[33m.[39mscore)[33m;[39m
     [90m     |[39m                                                [31m[1m^[22m[39m
     [90m 289 |[39m         expect(grade)[33m.[39mtoBe(testCase[33m.[39mexpectedGrade)[33m;[39m
     [90m 290 |[39m       }
     [90m 291 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:288:48)

  ‚óè SystemValidator ‚Ä∫ validateModuleStructure ‚Ä∫ should validate all required module fields

    TypeError: _systemValidator.systemValidator.validateModuleStructure is not a function

    [0m [90m 294 |[39m   describe([32m'validateModuleStructure'[39m[33m,[39m () [33m=>[39m {
     [90m 295 |[39m     it([32m'should validate all required module fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 296 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39mvalidateModuleStructure(mockValidModule)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 297 |[39m
     [90m 298 |[39m       expect(result[33m.[39mhasAllComponents)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 299 |[39m       expect(result[33m.[39mmissingComponents)[33m.[39mtoHaveLength([35m0[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:296:53)

  ‚óè SystemValidator ‚Ä∫ validateModuleStructure ‚Ä∫ should detect missing components

    TypeError: _systemValidator.systemValidator.validateModuleStructure is not a function

    [0m [90m 308 |[39m       }[33m;[39m
     [90m 309 |[39m
    [31m[1m>[22m[39m[90m 310 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39mvalidateModuleStructure(incompleteModule)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 311 |[39m
     [90m 312 |[39m       expect(result[33m.[39mhasAllComponents)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 313 |[39m       expect(result[33m.[39mmissingComponents)[33m.[39mtoContain([32m'quiz'[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:310:53)

  ‚óè SystemValidator ‚Ä∫ validateModuleStructure ‚Ä∫ should validate content structure

    TypeError: _systemValidator.systemValidator.validateModuleStructure is not a function

    [0m [90m 326 |[39m       }[33m;[39m
     [90m 327 |[39m
    [31m[1m>[22m[39m[90m 328 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39mvalidateModuleStructure(moduleWithPoorContent)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 329 |[39m
     [90m 330 |[39m       expect(result[33m.[39mcontentStructure)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 331 |[39m       expect(result[33m.[39mscore)[33m.[39mtoBeLessThan([35m50[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:328:53)

  ‚óè SystemValidator ‚Ä∫ analyzeContentQuality ‚Ä∫ should calculate content metrics correctly

    TypeError: _systemValidator.systemValidator.analyzeContentQuality is not a function

    [0m [90m 335 |[39m   describe([32m'analyzeContentQuality'[39m[33m,[39m () [33m=>[39m {
     [90m 336 |[39m     it([32m'should calculate content metrics correctly'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 337 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39manalyzeContentQuality(mockValidModule)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 338 |[39m
     [90m 339 |[39m       expect(result[33m.[39mwordCount)[33m.[39mtoBeGreaterThan([35m100[39m)[33m;[39m
     [90m 340 |[39m       expect(result[33m.[39mreadabilityScore)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:337:53)

  ‚óè SystemValidator ‚Ä∫ analyzeContentQuality ‚Ä∫ should detect shallow content

    TypeError: _systemValidator.systemValidator.analyzeContentQuality is not a function

    [0m [90m 355 |[39m       }[33m;[39m
     [90m 356 |[39m
    [31m[1m>[22m[39m[90m 357 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39manalyzeContentQuality(shallowModule)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 358 |[39m
     [90m 359 |[39m       expect(result[33m.[39mdepth)[33m.[39mtoBeLessThan([35m30[39m)[33m;[39m
     [90m 360 |[39m       expect(result[33m.[39mscore)[33m.[39mtoBeLessThan([35m40[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:357:53)

  ‚óè SystemValidator ‚Ä∫ analyzeContentQuality ‚Ä∫ should reward comprehensive objectives

    TypeError: _systemValidator.systemValidator.analyzeContentQuality is not a function

    [0m [90m 373 |[39m       }[33m;[39m
     [90m 374 |[39m
    [31m[1m>[22m[39m[90m 375 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m (systemValidator [36mas[39m any)[33m.[39manalyzeContentQuality(moduleWithGoodObjectives)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 376 |[39m
     [90m 377 |[39m       expect(result[33m.[39mpedagogicalSoundness)[33m.[39mtoBeGreaterThan([35m85[39m)[33m;[39m
     [90m 378 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:375:53)

  ‚óè SystemValidator ‚Ä∫ checkJungianAlignment ‚Ä∫ should detect Jungian concepts

    TypeError: _systemValidator.systemValidator.checkJungianAlignment is not a function

    [0m [90m 381 |[39m   describe([32m'checkJungianAlignment'[39m[33m,[39m () [33m=>[39m {
     [90m 382 |[39m     it([32m'should detect Jungian concepts'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 383 |[39m       [36mconst[39m concepts [33m=[39m (systemValidator [36mas[39m any)[33m.[39mcheckJungianAlignment(mockValidModule)[33m;[39m
     [90m     |[39m                                                 [31m[1m^[22m[39m
     [90m 384 |[39m
     [90m 385 |[39m       expect(concepts)[33m.[39mtoBeGreaterThan([35m80[39m)[33m;[39m
     [90m 386 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:383:49)

  ‚óè SystemValidator ‚Ä∫ checkJungianAlignment ‚Ä∫ should give low scores to non-Jungian content

    TypeError: _systemValidator.systemValidator.checkJungianAlignment is not a function

    [0m [90m 398 |[39m       }[33m;[39m
     [90m 399 |[39m
    [31m[1m>[22m[39m[90m 400 |[39m       [36mconst[39m concepts [33m=[39m (systemValidator [36mas[39m any)[33m.[39mcheckJungianAlignment(nonJungianModule)[33m;[39m
     [90m     |[39m                                                 [31m[1m^[22m[39m
     [90m 401 |[39m
     [90m 402 |[39m       expect(concepts)[33m.[39mtoBeLessThan([35m20[39m)[33m;[39m
     [90m 403 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:400:49)

  ‚óè SystemValidator ‚Ä∫ error handling ‚Ä∫ should handle null or undefined modules

    TypeError: Cannot read properties of undefined (reading 'passed')

    [0m [90m 408 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([36mnull[39m [36mas[39m any)[33m;[39m
     [90m 409 |[39m
    [31m[1m>[22m[39m[90m 410 |[39m       expect(result[33m.[39msummary[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 411 |[39m       expect(result[33m.[39msummary[33m.[39mscore)[33m.[39mtoBe([35m0[39m)[33m;[39m
     [90m 412 |[39m       expect(result[33m.[39msummary[33m.[39mcriticalIssues)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 413 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:410:29)

  ‚óè SystemValidator ‚Ä∫ error handling ‚Ä∫ should handle modules with circular references

    expect(received).toBeDefined()

    Received: undefined

    [0m [90m 421 |[39m       [90m// Should handle gracefully[39m
     [90m 422 |[39m       expect(result)[33m.[39mtoBeDefined()[33m;[39m
    [31m[1m>[22m[39m[90m 423 |[39m       expect(result[33m.[39msummary)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 424 |[39m     })[33m;[39m
     [90m 425 |[39m
     [90m 426 |[39m     it([32m'should handle validation errors gracefully'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:423:30)

  ‚óè SystemValidator ‚Ä∫ error handling ‚Ä∫ should handle validation errors gracefully

    TypeError: Cannot read properties of undefined (reading 'passed')

    [0m [90m 432 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m systemValidator[33m.[39mvalidateSystem([errorModule])[33m;[39m
     [90m 433 |[39m
    [31m[1m>[22m[39m[90m 434 |[39m       expect(result[33m.[39msummary[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 435 |[39m       expect(result[33m.[39mmoduleResults[[35m0[39m][33m.[39merrors[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 436 |[39m     })[33m;[39m
     [90m 437 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/systemValidator.test.ts:434:29)

FAIL src/services/validation/__tests__/endToEndValidator.test.ts (62.217 s)
  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should successfully validate a complete module

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 109 |[39m
     [90m 110 |[39m   describe([32m'validateEndToEnd'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 111 |[39m     it([32m'should successfully validate a complete module'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 112 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 113 |[39m
     [90m 114 |[39m       expect(result)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:111:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should run all workflow validations

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 119 |[39m     })[33m;[39m
     [90m 120 |[39m
    [31m[1m>[22m[39m[90m 121 |[39m     it([32m'should run all workflow validations'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 122 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 123 |[39m
     [90m 124 |[39m       expect(result[33m.[39mworkflows)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:121:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should validate security aspects

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 132 |[39m     })[33m;[39m
     [90m 133 |[39m
    [31m[1m>[22m[39m[90m 134 |[39m     it([32m'should validate security aspects'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 135 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 136 |[39m
     [90m 137 |[39m       expect(result[33m.[39msecurityValidation)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:134:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should validate accessibility

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 143 |[39m     })[33m;[39m
     [90m 144 |[39m
    [31m[1m>[22m[39m[90m 145 |[39m     it([32m'should validate accessibility'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 146 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 147 |[39m
     [90m 148 |[39m       expect(result[33m.[39maccessibilityValidation)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:145:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should calculate performance metrics

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 153 |[39m     })[33m;[39m
     [90m 154 |[39m
    [31m[1m>[22m[39m[90m 155 |[39m     it([32m'should calculate performance metrics'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 156 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 157 |[39m
     [90m 158 |[39m       expect(result[33m.[39mperformanceMetrics)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:155:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should calculate reliability metrics

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 164 |[39m     })[33m;[39m
     [90m 165 |[39m
    [31m[1m>[22m[39m[90m 166 |[39m     it([32m'should calculate reliability metrics'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 167 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 168 |[39m
     [90m 169 |[39m       expect(result[33m.[39mreliabilityMetrics)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:166:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should provide recommendations

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 174 |[39m     })[33m;[39m
     [90m 175 |[39m
    [31m[1m>[22m[39m[90m 176 |[39m     it([32m'should provide recommendations'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 177 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([mockModule])[33m;[39m
     [90m 178 |[39m
     [90m 179 |[39m       expect(result[33m.[39mrecommendations)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:176:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should handle empty module array

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 189 |[39m     })[33m;[39m
     [90m 190 |[39m
    [31m[1m>[22m[39m[90m 191 |[39m     it([32m'should handle empty module array'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 192 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([])[33m;[39m
     [90m 193 |[39m
     [90m 194 |[39m       expect(result[33m.[39moverall[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:191:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should handle module with missing components

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 198 |[39m     })[33m;[39m
     [90m 199 |[39m
    [31m[1m>[22m[39m[90m 200 |[39m     it([32m'should handle module with missing components'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 201 |[39m       [36mconst[39m incompleteModule [33m=[39m {
     [90m 202 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 203 |[39m         quiz[33m:[39m undefined[33m,[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:200:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateEndToEnd ‚Ä∫ should detect security vulnerabilities

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 213 |[39m     })[33m;[39m
     [90m 214 |[39m
    [31m[1m>[22m[39m[90m 215 |[39m     it([32m'should detect security vulnerabilities'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 216 |[39m       [36mconst[39m vulnerableModule [33m=[39m {
     [90m 217 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 218 |[39m         content[33m:[39m {[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:215:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:110:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ validateUserWorkflow ‚Ä∫ should validate student learning journey

    TypeError: _endToEndValidator.endToEndValidator.validateUserWorkflow is not a function

    [0m [90m 238 |[39m   describe([32m'validateUserWorkflow'[39m[33m,[39m () [33m=>[39m {
     [90m 239 |[39m     it([32m'should validate student learning journey'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 240 |[39m       [36mconst[39m workflow [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateUserWorkflow(
     [90m     |[39m                                                         [31m[1m^[22m[39m
     [90m 241 |[39m         [mockModule][33m,[39m
     [90m 242 |[39m         [32m'Student Learning Journey'[39m[33m,[39m
     [90m 243 |[39m         [32m'Complete learning path from enrollment to assessment'[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:240:57)

  ‚óè EndToEndValidator ‚Ä∫ validateUserWorkflow ‚Ä∫ should validate instructor workflow

    TypeError: _endToEndValidator.endToEndValidator.validateUserWorkflow is not a function

    [0m [90m 250 |[39m
     [90m 251 |[39m     it([32m'should validate instructor workflow'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 252 |[39m       [36mconst[39m workflow [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateUserWorkflow(
     [90m     |[39m                                                         [31m[1m^[22m[39m
     [90m 253 |[39m         [mockModule][33m,[39m
     [90m 254 |[39m         [32m'Instructor Module Creation'[39m[33m,[39m
     [90m 255 |[39m         [32m'Create and publish a complete educational module'[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:252:57)

  ‚óè EndToEndValidator ‚Ä∫ validateUserWorkflow ‚Ä∫ should handle workflow errors gracefully

    TypeError: _endToEndValidator.endToEndValidator.validateUserWorkflow is not a function

    [0m [90m 271 |[39m       )[33m;[39m
     [90m 272 |[39m
    [31m[1m>[22m[39m[90m 273 |[39m       [36mconst[39m workflow [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateUserWorkflow(
     [90m     |[39m                                                         [31m[1m^[22m[39m
     [90m 274 |[39m         [mockModule][33m,[39m
     [90m 275 |[39m         [32m'Error Test Workflow'[39m[33m,[39m
     [90m 276 |[39m         [32m'Test error handling'[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:273:57)

  ‚óè EndToEndValidator ‚Ä∫ calculatePerformanceMetrics ‚Ä∫ should simulate realistic performance metrics

    TypeError: _endToEndValidator.endToEndValidator.calculatePerformanceMetrics is not a function

    [0m [90m 285 |[39m   describe([32m'calculatePerformanceMetrics'[39m[33m,[39m () [33m=>[39m {
     [90m 286 |[39m     it([32m'should simulate realistic performance metrics'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 287 |[39m       [36mconst[39m metrics [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mcalculatePerformanceMetrics([mockModule])[33m;[39m
     [90m     |[39m                                                        [31m[1m^[22m[39m
     [90m 288 |[39m
     [90m 289 |[39m       expect(metrics[33m.[39mloadTime[33m.[39maverage)[33m.[39mtoBeGreaterThan([35m100[39m)[33m;[39m
     [90m 290 |[39m       expect(metrics[33m.[39mloadTime[33m.[39maverage)[33m.[39mtoBeLessThan([35m5000[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:287:56)

  ‚óè EndToEndValidator ‚Ä∫ calculatePerformanceMetrics ‚Ä∫ should penalize performance for large module sets

    TypeError: _endToEndValidator.endToEndValidator.calculatePerformanceMetrics is not a function

    [0m [90m 301 |[39m     it([32m'should penalize performance for large module sets'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 302 |[39m       [36mconst[39m manyModules [33m=[39m [33mArray[39m([35m20[39m)[33m.[39mfill(mockModule)[33m;[39m
    [31m[1m>[22m[39m[90m 303 |[39m       [36mconst[39m metrics [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mcalculatePerformanceMetrics(manyModules)[33m;[39m
     [90m     |[39m                                                        [31m[1m^[22m[39m
     [90m 304 |[39m
     [90m 305 |[39m       expect(metrics[33m.[39moverallScore)[33m.[39mtoBeLessThan([35m80[39m)[33m;[39m
     [90m 306 |[39m       expect(metrics[33m.[39mscalabilityScore)[33m.[39mtoBeLessThan([35m70[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:303:56)

  ‚óè EndToEndValidator ‚Ä∫ validateSecurity ‚Ä∫ should detect XSS vulnerabilities

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

    [0m [90m 328 |[39m       [36mconst[39m security [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateSecurity([xssModule])[33m;[39m
     [90m 329 |[39m
    [31m[1m>[22m[39m[90m 330 |[39m       expect(security[33m.[39mvulnerabilities[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 331 |[39m       expect(security[33m.[39mvulnerabilities[[35m0[39m][33m.[39mtype)[33m.[39mtoContain([32m'XSS'[39m)[33m;[39m
     [90m 332 |[39m       expect(security[33m.[39mvulnerabilities[[35m0[39m][33m.[39mseverity)[33m.[39mtoMatch([35m/high|critical/[39m)[33m;[39m
     [90m 333 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:330:47)

  ‚óè EndToEndValidator ‚Ä∫ validateSecurity ‚Ä∫ should detect SQL injection patterns

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 343 |[39m       expect(security[33m.[39mvulnerabilities[33m.[39msome(v [33m=>[39m 
     [90m 344 |[39m         v[33m.[39mtype[33m.[39mincludes([32m'SQL'[39m) [33m||[39m v[33m.[39mtype[33m.[39mincludes([32m'injection'[39m)
    [31m[1m>[22m[39m[90m 345 |[39m       ))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m          [31m[1m^[22m[39m
     [90m 346 |[39m     })[33m;[39m
     [90m 347 |[39m   })[33m;[39m
     [90m 348 |[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:345:10)

  ‚óè EndToEndValidator ‚Ä∫ validateAccessibility ‚Ä∫ should check WCAG compliance

    expect(received).toBeGreaterThan(expected)

    Matcher error: received value must be a number or bigint

    Received has value: undefined

    [0m [90m 351 |[39m       [36mconst[39m accessibility [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateAccessibility([mockModule])[33m;[39m
     [90m 352 |[39m
    [31m[1m>[22m[39m[90m 353 |[39m       expect(accessibility[33m.[39mwcagCompliance)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m
     [90m     |[39m                                            [31m[1m^[22m[39m
     [90m 354 |[39m       expect(accessibility[33m.[39mkeyboardNavigation)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m
     [90m 355 |[39m       expect(accessibility[33m.[39mscreenReaderSupport)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m
     [90m 356 |[39m       expect(accessibility[33m.[39mcolorContrast)[33m.[39mtoBeGreaterThan([35m70[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:353:44)

  ‚óè EndToEndValidator ‚Ä∫ validateAccessibility ‚Ä∫ should detect missing alt text

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

    [0m [90m 373 |[39m       [36mconst[39m accessibility [33m=[39m [36mawait[39m (endToEndValidator [36mas[39m any)[33m.[39mvalidateAccessibility([moduleWithImages])[33m;[39m
     [90m 374 |[39m
    [31m[1m>[22m[39m[90m 375 |[39m       expect(accessibility[33m.[39missues[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                                           [31m[1m^[22m[39m
     [90m 376 |[39m       expect(accessibility[33m.[39missues[33m.[39msome(i [33m=>[39m 
     [90m 377 |[39m         i[33m.[39mtype [33m===[39m [32m'missing_alt_text'[39m
     [90m 378 |[39m       ))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:375:43)

  ‚óè EndToEndValidator ‚Ä∫ edge cases and error handling ‚Ä∫ should handle null or undefined modules

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 414 |[39m     })[33m;[39m
     [90m 415 |[39m
    [31m[1m>[22m[39m[90m 416 |[39m     it([32m'should handle null or undefined modules'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 417 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m endToEndValidator[33m.[39mvalidateEndToEnd([36mnull[39m [36mas[39m any)[33m;[39m
     [90m 418 |[39m
     [90m 419 |[39m       expect(result[33m.[39moverall[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:416:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:392:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

  ‚óè EndToEndValidator ‚Ä∫ edge cases and error handling ‚Ä∫ should handle modules with circular references

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 422 |[39m     })[33m;[39m
     [90m 423 |[39m
    [31m[1m>[22m[39m[90m 424 |[39m     it([32m'should handle modules with circular references'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 425 |[39m       [36mconst[39m circularModule[33m:[39m any [33m=[39m { [33m...[39mmockModule }[33m;[39m
     [90m 426 |[39m       circularModule[33m.[39mself [33m=[39m circularModule[33m;[39m [90m// Create circular reference[39m
     [90m 427 |[39m[0m

      at src/services/validation/__tests__/endToEndValidator.test.ts:424:5
      at src/services/validation/__tests__/endToEndValidator.test.ts:392:3
      at Object.<anonymous> (src/services/validation/__tests__/endToEndValidator.test.ts:15:1)

FAIL src/services/validation/__tests__/integrationValidator.test.ts (172.203 s)
  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should successfully validate module integration

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 77 |[39m
     [90m 78 |[39m   describe([32m'validateIntegration'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 79 |[39m     it([32m'should successfully validate module integration'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 80 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 81 |[39m
     [90m 82 |[39m       expect(result)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:79:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should run API integration tests

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 86 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 87 |[39m
    [31m[1m>[22m[39m[90m 88 |[39m     it([32m'should run API integration tests'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 89 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 90 |[39m
     [90m 91 |[39m       expect(result[33m.[39mcategories)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:88:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should validate module relationships

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m  95 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m  96 |[39m
    [31m[1m>[22m[39m[90m  97 |[39m     it([32m'should validate module relationships'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m  98 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m  99 |[39m
     [90m 100 |[39m       [36mconst[39m allTests [33m=[39m [[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:97:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should validate data flow

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 112 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 113 |[39m
    [31m[1m>[22m[39m[90m 114 |[39m     it([32m'should validate data flow'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 115 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 116 |[39m
     [90m 117 |[39m       expect(result[33m.[39mcategories[33m.[39mdataIntegration)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:114:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should handle empty module array

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 120 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 121 |[39m
    [31m[1m>[22m[39m[90m 122 |[39m     it([32m'should handle empty module array'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 123 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([])[33m;[39m
     [90m 124 |[39m
     [90m 125 |[39m       expect(result[33m.[39moverall[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:122:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should handle module with missing components

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 128 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 129 |[39m
    [31m[1m>[22m[39m[90m 130 |[39m     it([32m'should handle module with missing components'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 131 |[39m       [36mconst[39m incompleteModule [33m=[39m {
     [90m 132 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 133 |[39m         quiz[33m:[39m undefined[33m,[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:130:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should calculate integration score

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 150 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 151 |[39m
    [31m[1m>[22m[39m[90m 152 |[39m     it([32m'should calculate integration score'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 153 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 154 |[39m
     [90m 155 |[39m       expect(result[33m.[39moverall[33m.[39mscore)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:152:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ validateIntegration ‚Ä∫ should provide recommendations

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 158 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 159 |[39m
    [31m[1m>[22m[39m[90m 160 |[39m     it([32m'should provide recommendations'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 161 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 162 |[39m
     [90m 163 |[39m       expect(result[33m.[39mrecommendations)[33m.[39mtoBeDefined()[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:160:5
      at src/services/validation/__tests__/integrationValidator.test.ts:78:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ API Integration Tests ‚Ä∫ should validate module CRUD operations

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 167 |[39m
     [90m 168 |[39m   describe([32m'API Integration Tests'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 169 |[39m     it([32m'should validate module CRUD operations'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 170 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 171 |[39m       [36mconst[39m apiTests [33m=[39m result[33m.[39mcategories[33m.[39mapiIntegration[33m;[39m
     [90m 172 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:169:5
      at src/services/validation/__tests__/integrationValidator.test.ts:168:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ API Integration Tests ‚Ä∫ should validate quiz submission

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 175 |[39m     })[33m;[39m
     [90m 176 |[39m
    [31m[1m>[22m[39m[90m 177 |[39m     it([32m'should validate quiz submission'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 178 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 179 |[39m       [36mconst[39m serviceTests [33m=[39m result[33m.[39mcategories[33m.[39mserviceIntegration[33m;[39m
     [90m 180 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:177:5
      at src/services/validation/__tests__/integrationValidator.test.ts:168:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ API Integration Tests ‚Ä∫ should validate authentication flow

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 182 |[39m     })[33m;[39m
     [90m 183 |[39m
    [31m[1m>[22m[39m[90m 184 |[39m     it([32m'should validate authentication flow'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 185 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 186 |[39m       [36mconst[39m apiTests [33m=[39m result[33m.[39mcategories[33m.[39mapiIntegration[33m;[39m
     [90m 187 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:184:5
      at src/services/validation/__tests__/integrationValidator.test.ts:168:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Module Relationships ‚Ä∫ should validate quiz-module relationship

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 192 |[39m
     [90m 193 |[39m   describe([32m'Module Relationships'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 194 |[39m     it([32m'should validate quiz-module relationship'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 195 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 196 |[39m       [36mconst[39m moduleTests [33m=[39m result[33m.[39mcategories[33m.[39mmoduleIntegration[33m;[39m
     [90m 197 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:194:5
      at src/services/validation/__tests__/integrationValidator.test.ts:193:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Module Relationships ‚Ä∫ should validate mindmap-module relationship

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 203 |[39m     })[33m;[39m
     [90m 204 |[39m
    [31m[1m>[22m[39m[90m 205 |[39m     it([32m'should validate mindmap-module relationship'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 206 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 207 |[39m       [36mconst[39m moduleTests [33m=[39m result[33m.[39mcategories[33m.[39mmoduleIntegration[33m;[39m
     [90m 208 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:205:5
      at src/services/validation/__tests__/integrationValidator.test.ts:193:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Module Relationships ‚Ä∫ should detect broken relationships

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 210 |[39m     })[33m;[39m
     [90m 211 |[39m
    [31m[1m>[22m[39m[90m 212 |[39m     it([32m'should detect broken relationships'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 213 |[39m       [36mconst[39m brokenModule [33m=[39m {
     [90m 214 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 215 |[39m         quiz[33m:[39m {[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:212:5
      at src/services/validation/__tests__/integrationValidator.test.ts:193:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Data Flow Tests ‚Ä∫ should validate data consistency

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 232 |[39m
     [90m 233 |[39m   describe([32m'Data Flow Tests'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 234 |[39m     it([32m'should validate data consistency'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 235 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 236 |[39m       [36mconst[39m dataTests [33m=[39m result[33m.[39mcategories[33m.[39mdataIntegration[33m;[39m
     [90m 237 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:234:5
      at src/services/validation/__tests__/integrationValidator.test.ts:233:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Data Flow Tests ‚Ä∫ should validate data transformations

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 239 |[39m     })[33m;[39m
     [90m 240 |[39m
    [31m[1m>[22m[39m[90m 241 |[39m     it([32m'should validate data transformations'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 242 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 243 |[39m       [36mconst[39m dataTests [33m=[39m result[33m.[39mcategories[33m.[39mdataIntegration[33m;[39m
     [90m 244 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:241:5
      at src/services/validation/__tests__/integrationValidator.test.ts:233:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Data Flow Tests ‚Ä∫ should validate data validation

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 246 |[39m     })[33m;[39m
     [90m 247 |[39m
    [31m[1m>[22m[39m[90m 248 |[39m     it([32m'should validate data validation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 249 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 250 |[39m       [36mconst[39m dataTests [33m=[39m result[33m.[39mcategories[33m.[39mdataIntegration[33m;[39m
     [90m 251 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:248:5
      at src/services/validation/__tests__/integrationValidator.test.ts:233:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Component Integration ‚Ä∫ should validate UI component integration

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 255 |[39m
     [90m 256 |[39m   describe([32m'Component Integration'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 257 |[39m     it([32m'should validate UI component integration'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 258 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 259 |[39m       [36mconst[39m serviceTests [33m=[39m result[33m.[39mcategories[33m.[39mserviceIntegration[33m;[39m
     [90m 260 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:257:5
      at src/services/validation/__tests__/integrationValidator.test.ts:256:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Component Integration ‚Ä∫ should validate service integration

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 263 |[39m     })[33m;[39m
     [90m 264 |[39m
    [31m[1m>[22m[39m[90m 265 |[39m     it([32m'should validate service integration'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 266 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 267 |[39m       [36mconst[39m serviceTests [33m=[39m result[33m.[39mcategories[33m.[39mserviceIntegration[33m;[39m
     [90m 268 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:265:5
      at src/services/validation/__tests__/integrationValidator.test.ts:256:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ Component Integration ‚Ä∫ should validate external service integration

    thrown: "Exceeded timeout of 5000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 270 |[39m     })[33m;[39m
     [90m 271 |[39m
    [31m[1m>[22m[39m[90m 272 |[39m     it([32m'should validate external service integration'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 273 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([mockModule])[33m;[39m
     [90m 274 |[39m       [36mconst[39m apiTests [33m=[39m result[33m.[39mcategories[33m.[39mapiIntegration[33m;[39m
     [90m 275 |[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:272:5
      at src/services/validation/__tests__/integrationValidator.test.ts:256:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ error handling ‚Ä∫ should handle null or undefined modules

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 279 |[39m
     [90m 280 |[39m   describe([32m'error handling'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 281 |[39m     it([32m'should handle null or undefined modules'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 282 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m integrationValidator[33m.[39mvalidateIntegration([36mnull[39m [36mas[39m any)[33m;[39m
     [90m 283 |[39m
     [90m 284 |[39m       expect(result[33m.[39moverall[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:281:5
      at src/services/validation/__tests__/integrationValidator.test.ts:280:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ error handling ‚Ä∫ should handle validation errors gracefully

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 286 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 287 |[39m
    [31m[1m>[22m[39m[90m 288 |[39m     it([32m'should handle validation errors gracefully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 289 |[39m       [36mconst[39m errorModule [33m=[39m {
     [90m 290 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 291 |[39m         id[33m:[39m [36mnull[39m [36mas[39m any [90m// Invalid ID[39m[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:288:5
      at src/services/validation/__tests__/integrationValidator.test.ts:280:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

  ‚óè IntegrationValidator ‚Ä∫ error handling ‚Ä∫ should provide detailed error messages

    thrown: "Exceeded timeout of 10000 ms for a test.
    Use jest.setTimeout(newTimeout) to increase the timeout value, if this is a long-running test."

    [0m [90m 299 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 300 |[39m
    [31m[1m>[22m[39m[90m 301 |[39m     it([32m'should provide detailed error messages'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 302 |[39m       [36mconst[39m invalidModule [33m=[39m {
     [90m 303 |[39m         [33m...[39mmockModule[33m,[39m
     [90m 304 |[39m         quiz[33m:[39m {[0m

      at src/services/validation/__tests__/integrationValidator.test.ts:301:5
      at src/services/validation/__tests__/integrationValidator.test.ts:280:3
      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.test.ts:9:1)

FAIL src/services/validation/__tests__/integrationValidator.extended.test.ts (186.641 s)
  ‚óè IntegrationValidator - Extended Edge Case Tests ‚Ä∫ validateIntegration ‚Ä∫ should catch integration errors and continue

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 132 |[39m       expect(report)[33m.[39mtoBeDefined()[33m;[39m
     [90m 133 |[39m       expect(report[33m.[39mcriticalIssues[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 134 |[39m       expect(consoleErrorSpy)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 135 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 136 |[39m   })[33m;[39m
     [90m 137 |[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.extended.test.ts:134:31)

  ‚óè IntegrationValidator - Extended Edge Case Tests ‚Ä∫ Module Integration Tests ‚Ä∫ should handle difficulty progression violations

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 209 |[39m       )[33m;[39m
     [90m 210 |[39m       
    [31m[1m>[22m[39m[90m 211 |[39m       expect(difficultyTest[33m?[39m[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 212 |[39m       expect(difficultyTest[33m?[39m[33m.[39merrors[33m.[39msome(e [33m=>[39m e[33m.[39mincludes([32m'requires harder prerequisite'[39m)))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 213 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 214 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.extended.test.ts:211:38)

  ‚óè IntegrationValidator - Extended Edge Case Tests ‚Ä∫ Service Integration Tests ‚Ä∫ should validate quiz structure edge cases

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 268 |[39m       )[33m;[39m
     [90m 269 |[39m       
    [31m[1m>[22m[39m[90m 270 |[39m       expect(quizTest[33m?[39m[33m.[39mpassed)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 271 |[39m     }[33m,[39m [35m10000[39m)[33m;[39m
     [90m 272 |[39m
     [90m 273 |[39m     it([32m'should handle LLM service timeouts'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (src/services/validation/__tests__/integrationValidator.extended.test.ts:270:32)


Test Suites: 22 failed, 79 passed, 101 total
Tests:       206 failed, 1706 passed, 1912 total
Snapshots:   0 total
Time:        189.003 s
Ran all test suites.
