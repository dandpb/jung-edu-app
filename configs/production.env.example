# Production Environment Configuration for jaqEdu
# Copy this file to .env.production and configure with actual values

# Application
NODE_ENV=production
PORT=3000
APP_NAME=jaqEdu
APP_VERSION=1.0.0
LOG_LEVEL=info
DEBUG=false

# Security
JWT_SECRET=your-super-secure-jwt-secret-key-change-me
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
BCRYPT_ROUNDS=12
CORS_ORIGIN=https://jaqedu.com,https://api.jaqedu.com
HELMET_CSP_ENABLED=true
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# Database
DATABASE_URL=postgresql://username:password@hostname:5432/jaqedu_prod
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20
DATABASE_SSL_MODE=require
DATABASE_CONNECTION_TIMEOUT=30000
DATABASE_IDLE_TIMEOUT=10000

# Redis Cache
REDIS_URL=redis://redis-cluster:6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_KEY_PREFIX=jaqedu:
REDIS_TTL=3600
REDIS_MAX_RETRIES=3

# Object Storage (S3 Compatible)
S3_ENDPOINT=https://s3.amazonaws.com
S3_REGION=us-east-1
S3_BUCKET=jaqedu-production
S3_ACCESS_KEY_ID=your-access-key-id
S3_SECRET_ACCESS_KEY=your-secret-access-key
S3_FORCE_PATH_STYLE=false

# Claude AI
CLAUDE_API_KEY=your-claude-api-key
CLAUDE_MODEL=claude-3-sonnet-20240229
CLAUDE_MAX_TOKENS=4096
CLAUDE_TEMPERATURE=0.7
CLAUDE_TIMEOUT=30000

# Email Service
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=noreply@jaqedu.com
SMTP_PASS=your-email-password
EMAIL_FROM=noreply@jaqedu.com
EMAIL_REPLY_TO=support@jaqedu.com

# Monitoring & Analytics
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_PREFIX=jaqedu_
NEW_RELIC_LICENSE_KEY=your-newrelic-license-key

# Session Management
SESSION_SECRET=your-session-secret-key
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict
SESSION_MAX_AGE=86400000

# API Configuration
API_VERSION=v1
API_PREFIX=/api/v1
API_DOCS_ENABLED=false
API_RATE_LIMIT_ENABLED=true
MAX_REQUEST_SIZE=10mb
MAX_FILE_SIZE=50mb
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx

# Kubernetes Health Checks
HEALTH_CHECK_PORT=3000
READINESS_CHECK_PATH=/ready
LIVENESS_CHECK_PATH=/health
STARTUP_CHECK_PATH=/health

# Logging
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_COLORIZE=false
ACCESS_LOG_ENABLED=true
ERROR_LOG_ENABLED=true
AUDIT_LOG_ENABLED=true

# Performance
CLUSTER_MODE=true
WORKER_PROCESSES=auto
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000
MAX_CONNECTIONS=1000

# Cache Strategy
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_COMPRESSION=true
STATIC_CACHE_ENABLED=true
STATIC_CACHE_MAX_AGE=31536000

# Feature Flags
FEATURE_AI_TUTORING=true
FEATURE_COLLABORATIVE_LEARNING=true
FEATURE_PROGRESS_ANALYTICS=true
FEATURE_GAMIFICATION=true
FEATURE_OFFLINE_MODE=false
FEATURE_BETA_TESTING=false

# Third Party Integrations
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
INTERCOM_APP_ID=your-intercom-app-id
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_key
STRIPE_SECRET_KEY=sk_live_your_stripe_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_TYPE=s3
BACKUP_ENCRYPTION_ENABLED=true

# SSL/TLS
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/jaqedu.pem
SSL_KEY_PATH=/etc/ssl/private/jaqedu.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.pem
FORCE_HTTPS=true

# Scalability
AUTO_SCALING_ENABLED=true
MIN_REPLICAS=3
MAX_REPLICAS=10
TARGET_CPU_UTILIZATION=70
TARGET_MEMORY_UTILIZATION=80

# Development Tools (disabled in production)
SWAGGER_ENABLED=false
DEBUG_TOOLBAR_ENABLED=false
PROFILER_ENABLED=false